import{gapi as Vn}from"gapi-script";import ly from"jspdf";import oy from"html2canvas";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Em(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Am={exports:{}},Ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay=Symbol.for("react.transitional.element"),sy=Symbol.for("react.fragment");function Mm(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var l in e)l!=="key"&&(n[l]=e[l])}else n=e;return e=n.ref,{$$typeof:ay,type:t,key:i,ref:e!==void 0?e:null,props:n}}Ha.Fragment=sy;Ha.jsx=Mm;Ha.jsxs=Mm;Am.exports=Ha;var g=Am.exports,Nm={exports:{}},Y={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.transitional.element"),ry=Symbol.for("react.portal"),uy=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),dy=Symbol.for("react.consumer"),my=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),py=Symbol.for("react.suspense"),gy=Symbol.for("react.memo"),Rm=Symbol.for("react.lazy"),hc=Symbol.iterator;function yy(t){return t===null||typeof t!="object"?null:(t=hc&&t[hc]||t["@@iterator"],typeof t=="function"?t:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bm=Object.assign,wm={};function Wi(t,e,n){this.props=t,this.context=e,this.refs=wm,this.updater=n||Dm}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Um(){}Um.prototype=Wi.prototype;function uu(t,e,n){this.props=t,this.context=e,this.refs=wm,this.updater=n||Dm}var cu=uu.prototype=new Um;cu.constructor=uu;bm(cu,Wi.prototype);cu.isPureReactComponent=!0;var pc=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},km=Object.prototype.hasOwnProperty;function fu(t,e,n,i,l,o){return n=o.ref,{$$typeof:ru,type:t,key:e,ref:n!==void 0?n:null,props:o}}function vy(t,e){return fu(t.type,e,void 0,void 0,void 0,t.props)}function du(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function Ty(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gc=/\/+/g;function ds(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ty(""+t.key):e.toString(36)}function yc(){}function Cy(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(yc,yc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ri(t,e,n,i,l){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(o){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case ru:case ry:r=!0;break;case Rm:return r=t._init,ri(r(t._payload),e,n,i,l)}}if(r)return l=l(t),r=i===""?"."+ds(t,0):i,pc(l)?(n="",r!=null&&(n=r.replace(gc,"$&/")+"/"),ri(l,e,n,"",function(f){return f})):l!=null&&(du(l)&&(l=vy(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(gc,"$&/")+"/")+r)),e.push(l)),1;r=0;var u=i===""?".":i+":";if(pc(t))for(var c=0;c<t.length;c++)i=t[c],o=u+ds(i,c),r+=ri(i,e,n,o,l);else if(c=yy(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,o=u+ds(i,c++),r+=ri(i,e,n,o,l);else if(o==="object"){if(typeof t.then=="function")return ri(Cy(t),e,n,i,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Co(t,e,n){if(t==null)return t;var i=[],l=0;return ri(t,i,"","",function(o){return e.call(n,o,l++)}),i}function Sy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _y(){}Y.Children={map:Co,forEach:function(t,e,n){Co(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Co(t,function(){e++}),e},toArray:function(t){return Co(t,function(e){return e})||[]},only:function(t){if(!du(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=Wi;Y.Fragment=uy;Y.Profiler=fy;Y.PureComponent=uu;Y.StrictMode=cy;Y.Suspense=py;Y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he;Y.__COMPILER_RUNTIME={__proto__:null,c:function(t){return he.H.useMemoCache(t)}};Y.cache=function(t){return function(){return t.apply(null,arguments)}};Y.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=bm({},t.props),l=t.key,o=void 0;if(e!=null)for(r in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!km.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}return fu(t.type,l,void 0,void 0,o,i)};Y.createContext=function(t){return t={$$typeof:my,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:dy,_context:t},t};Y.createElement=function(t,e,n){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)km.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var r=arguments.length-2;if(r===1)l.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];l.children=u}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)l[i]===void 0&&(l[i]=r[i]);return fu(t,o,void 0,void 0,null,l)};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:hy,render:t}};Y.isValidElement=du;Y.lazy=function(t){return{$$typeof:Rm,_payload:{_status:-1,_result:t},_init:Sy}};Y.memo=function(t,e){return{$$typeof:gy,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=he.T,n={};he.T=n;try{var i=t(),l=he.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(_y,vc)}catch(o){vc(o)}finally{he.T=e}};Y.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()};Y.use=function(t){return he.H.use(t)};Y.useActionState=function(t,e,n){return he.H.useActionState(t,e,n)};Y.useCallback=function(t,e){return he.H.useCallback(t,e)};Y.useContext=function(t){return he.H.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t,e){return he.H.useDeferredValue(t,e)};Y.useEffect=function(t,e,n){var i=he.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};Y.useId=function(){return he.H.useId()};Y.useImperativeHandle=function(t,e,n){return he.H.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return he.H.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return he.H.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return he.H.useMemo(t,e)};Y.useOptimistic=function(t,e){return he.H.useOptimistic(t,e)};Y.useReducer=function(t,e,n){return he.H.useReducer(t,e,n)};Y.useRef=function(t){return he.H.useRef(t)};Y.useState=function(t){return he.H.useState(t)};Y.useSyncExternalStore=function(t,e,n){return he.H.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return he.H.useTransition()};Y.version="19.1.0";Nm.exports=Y;var K=Nm.exports;const xy=Em(K);var Im={exports:{}},Fa={},Lm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var I=U.length;U.push(H);e:for(;0<I;){var z=I-1>>>1,le=U[z];if(0<l(le,H))U[z]=H,U[I]=le,I=z;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var H=U[0],I=U.pop();if(I!==H){U[0]=I;e:for(var z=0,le=U.length,Fe=le>>>1;z<Fe;){var Lt=2*(z+1)-1,St=U[Lt],at=Lt+1,_t=U[at];if(0>l(St,I))at<le&&0>l(_t,St)?(U[z]=_t,U[at]=I,z=at):(U[z]=St,U[Lt]=I,z=Lt);else if(at<le&&0>l(_t,I))U[z]=_t,U[at]=I,z=at;else break e}}return H}function l(U,H){var I=U.sortIndex-H.sortIndex;return I!==0?I:U.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var r=Date,u=r.now();t.unstable_now=function(){return r.now()-u}}var c=[],f=[],d=1,m=null,h=3,p=!1,C=!1,_=!1,A=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function S(U){for(var H=n(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=U)i(f),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(f)}}function x(U){if(_=!1,S(U),!C)if(n(c)!==null)C=!0,b||(b=!0,ue());else{var H=n(f);H!==null&&se(x,H.startTime-U)}}var b=!1,N=-1,M=5,D=-1;function w(){return A?!0:!(t.unstable_now()-D<M)}function q(){if(A=!1,b){var U=t.unstable_now();D=U;var H=!0;try{e:{C=!1,_&&(_=!1,y(N),N=-1),p=!0;var I=h;try{t:{for(S(U),m=n(c);m!==null&&!(m.expirationTime>U&&w());){var z=m.callback;if(typeof z=="function"){m.callback=null,h=m.priorityLevel;var le=z(m.expirationTime<=U);if(U=t.unstable_now(),typeof le=="function"){m.callback=le,S(U),H=!0;break t}m===n(c)&&i(c),S(U)}else i(c);m=n(c)}if(m!==null)H=!0;else{var Fe=n(f);Fe!==null&&se(x,Fe.startTime-U),H=!1}}break e}finally{m=null,h=I,p=!1}H=void 0}}finally{H?ue():b=!1}}}var ue;if(typeof T=="function")ue=function(){T(q)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,ge=Ve.port2;Ve.port1.onmessage=q,ue=function(){ge.postMessage(null)}}else ue=function(){v(q,0)};function se(U,H){N=v(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var I=h;h=H;try{return U()}finally{h=I}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var I=h;h=U;try{return H()}finally{h=I}},t.unstable_scheduleCallback=function(U,H,I){var z=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?z+I:z):I=z,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=I+le,U={id:d++,callback:H,priorityLevel:U,startTime:I,expirationTime:le,sortIndex:-1},I>z?(U.sortIndex=I,e(f,U),n(c)===null&&U===n(f)&&(_?(y(N),N=-1):_=!0,se(x,I-z))):(U.sortIndex=le,e(c,U),C||p||(C=!0,b||(b=!0,ue()))),U},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(U){var H=h;return function(){var I=h;h=H;try{return U.apply(this,arguments)}finally{h=I}}}})(Vm);Lm.exports=Vm;var Ey=Lm.exports,Pm={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay=K;function qm(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tn(){}var ze={d:{f:tn,r:function(){throw Error(qm(522))},D:tn,C:tn,L:tn,m:tn,X:tn,S:tn,M:tn},p:0,findDOMNode:null},My=Symbol.for("react.portal");function Ny(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:My,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var El=Ay.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ya(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;He.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(qm(299));return Ny(t,e,null,n)};He.flushSync=function(t){var e=El.T,n=ze.p;try{if(El.T=null,ze.p=2,t)return t()}finally{El.T=e,ze.p=n,ze.d.f()}};He.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ze.d.C(t,e))};He.prefetchDNS=function(t){typeof t=="string"&&ze.d.D(t)};He.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Ya(n,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?ze.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):n==="script"&&ze.d.X(t,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};He.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ya(e.as,e.crossOrigin);ze.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ze.d.M(t)};He.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Ya(n,e.crossOrigin);ze.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};He.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ya(e.as,e.crossOrigin);ze.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ze.d.m(t)};He.requestFormReset=function(t){ze.d.r(t)};He.unstable_batchedUpdates=function(t,e){return t(e)};He.useFormState=function(t,e,n){return El.H.useFormState(t,e,n)};He.useFormStatus=function(){return El.H.useHostTransitionStatus()};He.version="19.1.0";function Bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bm)}catch(t){console.error(t)}}Bm(),Pm.exports=He;var Ry=Pm.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=Ey,Gm=K,Dy=Ry;function E(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Om(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tc(t){if(no(t)!==t)throw Error(E(188))}function by(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,i=e;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Tc(l),t;if(o===i)return Tc(l),e;o=o.sibling}throw Error(E(188))}if(n.return!==i.return)n=l,i=o;else{for(var r=!1,u=l.child;u;){if(u===n){r=!0,n=l,i=o;break}if(u===i){r=!0,i=l,n=o;break}u=u.sibling}if(!r){for(u=o.child;u;){if(u===n){r=!0,n=o,i=l;break}if(u===i){r=!0,i=o,n=l;break}u=u.sibling}if(!r)throw Error(E(189))}}if(n.alternate!==i)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Hm(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Hm(t),e!==null)return e;t=t.sibling}return null}var de=Object.assign,wy=Symbol.for("react.element"),So=Symbol.for("react.transitional.element"),vl=Symbol.for("react.portal"),mi=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),Xs=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),Ym=Symbol.for("react.consumer"),Gt=Symbol.for("react.context"),mu=Symbol.for("react.forward_ref"),Ks=Symbol.for("react.suspense"),Qs=Symbol.for("react.suspense_list"),hu=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),Ws=Symbol.for("react.activity"),ky=Symbol.for("react.memo_cache_sentinel"),Cc=Symbol.iterator;function ul(t){return t===null||typeof t!="object"?null:(t=Cc&&t[Cc]||t["@@iterator"],typeof t=="function"?t:null)}var Iy=Symbol.for("react.client.reference");function js(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Iy?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mi:return"Fragment";case Xs:return"Profiler";case Fm:return"StrictMode";case Ks:return"Suspense";case Qs:return"SuspenseList";case Ws:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case vl:return"Portal";case Gt:return(t.displayName||"Context")+".Provider";case Ym:return(t._context.displayName||"Context")+".Consumer";case mu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hu:return e=t.displayName||null,e!==null?e:js(t.type)||"Memo";case on:e=t._payload,t=t._init;try{return js(t(e))}catch{}}return null}var Tl=Array.isArray,B=Gm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=Dy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pn={pending:!1,data:null,method:null,action:null},er=[],hi=-1;function kt(t){return{current:t}}function Ue(t){0>hi||(t.current=er[hi],er[hi]=null,hi--)}function pe(t,e){hi++,er[hi]=t.current,t.current=e}var Rt=kt(null),Gl=kt(null),gn=kt(null),oa=kt(null);function aa(t,e){switch(pe(gn,e),pe(Gl,t),pe(Rt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Mf(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Mf(e),t=rg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ue(Rt),pe(Rt,t)}function Vi(){Ue(Rt),Ue(Gl),Ue(gn)}function tr(t){t.memoizedState!==null&&pe(oa,t);var e=Rt.current,n=rg(e,t.type);e!==n&&(pe(Gl,t),pe(Rt,n))}function sa(t){Gl.current===t&&(Ue(Rt),Ue(Gl)),oa.current===t&&(Ue(oa),Kl._currentValue=Pn)}var nr=Object.prototype.hasOwnProperty,pu=Ne.unstable_scheduleCallback,ms=Ne.unstable_cancelCallback,Ly=Ne.unstable_shouldYield,Vy=Ne.unstable_requestPaint,Dt=Ne.unstable_now,Py=Ne.unstable_getCurrentPriorityLevel,Jm=Ne.unstable_ImmediatePriority,Zm=Ne.unstable_UserBlockingPriority,ra=Ne.unstable_NormalPriority,qy=Ne.unstable_LowPriority,$m=Ne.unstable_IdlePriority,By=Ne.log,Gy=Ne.unstable_setDisableYieldValue,io=null,tt=null;function dn(t){if(typeof By=="function"&&Gy(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(io,t)}catch{}}var nt=Math.clz32?Math.clz32:Hy,zy=Math.log,Oy=Math.LN2;function Hy(t){return t>>>=0,t===0?32:31-(zy(t)/Oy|0)|0}var _o=256,xo=4194304;function kn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ja(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var l=0,o=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=kn(i):(r&=u,r!==0?l=kn(r):n||(n=u&~t,n!==0&&(l=kn(n))))):(u=i&~o,u!==0?l=kn(u):r!==0?l=kn(r):n||(n=i&~t,n!==0&&(l=kn(n)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:l}function lo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Fy(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xm(){var t=_o;return _o<<=1,!(_o&4194048)&&(_o=256),t}function Km(){var t=xo;return xo<<=1,!(xo&62914560)&&(xo=4194304),t}function hs(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oo(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Yy(t,e,n,i,l,o){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-nt(n),m=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}n&=~m}i!==0&&Qm(t,i,0),o!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=o&~(r&~e))}function Qm(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-nt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function Wm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-nt(n),l=1<<i;l&e|t[i]&e&&(t[i]|=e),n&=~l}}function gu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function yu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function jm(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:vg(t.type))}function Jy(t,e){var n=ee.p;try{return ee.p=t,e()}finally{ee.p=n}}var Dn=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Dn,Xe="__reactProps$"+Dn,ji="__reactContainer$"+Dn,ir="__reactEvents$"+Dn,Zy="__reactListeners$"+Dn,$y="__reactHandles$"+Dn,Sc="__reactResources$"+Dn,ao="__reactMarker$"+Dn;function vu(t){delete t[Pe],delete t[Xe],delete t[ir],delete t[Zy],delete t[$y]}function pi(t){var e=t[Pe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ji]||n[Pe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Df(t);t!==null;){if(n=t[Pe])return n;t=Df(t)}return e}t=n,n=t.parentNode}return null}function el(t){if(t=t[Pe]||t[ji]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Cl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(E(33))}function Mi(t){var e=t[Sc];return e||(e=t[Sc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function be(t){t[ao]=!0}var eh=new Set,th={};function Wn(t,e){Pi(t,e),Pi(t+"Capture",e)}function Pi(t,e){for(th[t]=e,t=0;t<e.length;t++)eh.add(e[t])}var Xy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},xc={};function Ky(t){return nr.call(xc,t)?!0:nr.call(_c,t)?!1:Xy.test(t)?xc[t]=!0:(_c[t]=!0,!1)}function zo(t,e,n){if(Ky(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Eo(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Vt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var ps,Ec;function ui(t){if(ps===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ps=e&&e[1]||"",Ec=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+Ec}var gs=!1;function ys(t,e){if(!t||gs)return"";gs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(p){var h=p}Reflect.construct(t,[],m)}else{try{m.call()}catch(p){h=p}t.call(m.prototype)}}else{try{throw Error()}catch(p){h=p}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),r=o[0],u=o[1];if(r&&u){var c=r.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=l);break}}}finally{gs=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ui(n):""}function Qy(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return ys(t.type,!1);case 11:return ys(t.type.render,!1);case 1:return ys(t.type,!0);case 31:return ui("Activity");default:return""}}function Ac(t){try{var e="";do e+=Qy(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function rt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wy(t){var e=nh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(r){i=""+r,o.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ua(t){t._valueTracker||(t._valueTracker=Wy(t))}function ih(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=nh(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jy=/[\n"\\]/g;function ft(t){return t.replace(jy,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function lr(t,e,n,i,l,o,r,u){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+rt(e)):t.value!==""+rt(e)&&(t.value=""+rt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?or(t,r,rt(e)):n!=null?or(t,r,rt(n)):i!=null&&t.removeAttribute("value"),l==null&&o!=null&&(t.defaultChecked=!!o),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+rt(u):t.removeAttribute("name")}function lh(t,e,n,i,l,o,r,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+rt(n):"",e=e!=null?""+rt(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=u?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function or(t,e,n){e==="number"&&ca(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ni(t,e,n,i){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&i&&(t[n].defaultSelected=!0)}else{for(n=""+rt(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,i&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function oh(t,e,n){if(e!=null&&(e=""+rt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+rt(n):""}function ah(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(E(92));if(Tl(i)){if(1<i.length)throw Error(E(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=rt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function qi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ev=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||ev.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function sh(t,e,n){if(e!=null&&typeof e!="object")throw Error(E(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&n[l]!==i&&Mc(t,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Mc(t,o,e[o])}function Tu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(t){return nv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ar=null;function Cu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gi=null,Ri=null;function Nc(t){var e=el(t);if(e&&(t=e.stateNode)){var n=t[Xe]||null;e:switch(t=e.stateNode,e.type){case"input":if(lr(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var l=i[Xe]||null;if(!l)throw Error(E(90));lr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&ih(i)}break e;case"textarea":oh(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}}}var vs=!1;function rh(t,e,n){if(vs)return t(e,n);vs=!0;try{var i=t(e);return i}finally{if(vs=!1,(gi!==null||Ri!==null)&&(ns(),gi&&(e=gi,t=Ri,Ri=gi=null,Nc(e),t)))for(e=0;e<t.length;e++)Nc(t[e])}}function zl(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Xe]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(Zt)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){sr=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{sr=!1}var mn=null,Su=null,Ho=null;function uh(){if(Ho)return Ho;var t,e=Su,n=e.length,i,l="value"in mn?mn.value:mn.textContent,o=l.length;for(t=0;t<n&&e[t]===l[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===l[o-i];i++);return Ho=l.slice(t,1<i?1-i:void 0)}function Fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ao(){return!0}function Rc(){return!1}function Ke(t){function e(n,i,l,o,r){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ao:Rc,this.isPropagationStopped=Rc,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),e}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Ke(jn),so=de({},jn,{view:0,detail:0}),iv=Ke(so),Ts,Cs,fl,$a=de({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fl&&(fl&&t.type==="mousemove"?(Ts=t.screenX-fl.screenX,Cs=t.screenY-fl.screenY):Cs=Ts=0,fl=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:Cs}}),Dc=Ke($a),lv=de({},$a,{dataTransfer:0}),ov=Ke(lv),av=de({},so,{relatedTarget:0}),Ss=Ke(av),sv=de({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=Ke(sv),uv=de({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cv=Ke(uv),fv=de({},jn,{data:0}),bc=Ke(fv),dv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hv[t])?!!e[t]:!1}function _u(){return pv}var gv=de({},so,{key:function(t){if(t.key){var e=dv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(t){return t.type==="keypress"?Fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yv=Ke(gv),vv=de({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=Ke(vv),Tv=de({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Cv=Ke(Tv),Sv=de({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_v=Ke(Sv),xv=de({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=Ke(xv),Av=de({},jn,{newState:0,oldState:0}),Mv=Ke(Av),Nv=[9,13,27,32],xu=Zt&&"CompositionEvent"in window,Al=null;Zt&&"documentMode"in document&&(Al=document.documentMode);var Rv=Zt&&"TextEvent"in window&&!Al,ch=Zt&&(!xu||Al&&8<Al&&11>=Al),Uc=" ",kc=!1;function fh(t,e){switch(t){case"keyup":return Nv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yi=!1;function Dv(t,e){switch(t){case"compositionend":return dh(e);case"keypress":return e.which!==32?null:(kc=!0,Uc);case"textInput":return t=e.data,t===Uc&&kc?null:t;default:return null}}function bv(t,e){if(yi)return t==="compositionend"||!xu&&fh(t,e)?(t=uh(),Ho=Su=mn=null,yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ch&&e.locale!=="ko"?null:e.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wv[t.type]:e==="textarea"}function mh(t,e,n,i){gi?Ri?Ri.push(i):Ri=[i]:gi=i,e=Ra(e,"onChange"),0<e.length&&(n=new Za("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ml=null,Ol=null;function Uv(t){og(t,0)}function Xa(t){var e=Cl(t);if(ih(e))return t}function Lc(t,e){if(t==="change")return e}var hh=!1;if(Zt){var _s;if(Zt){var xs="oninput"in document;if(!xs){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),xs=typeof Vc.oninput=="function"}_s=xs}else _s=!1;hh=_s&&(!document.documentMode||9<document.documentMode)}function Pc(){Ml&&(Ml.detachEvent("onpropertychange",ph),Ol=Ml=null)}function ph(t){if(t.propertyName==="value"&&Xa(Ol)){var e=[];mh(e,Ol,t,Cu(t)),rh(Uv,e)}}function kv(t,e,n){t==="focusin"?(Pc(),Ml=e,Ol=n,Ml.attachEvent("onpropertychange",ph)):t==="focusout"&&Pc()}function Iv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xa(Ol)}function Lv(t,e){if(t==="click")return Xa(e)}function Vv(t,e){if(t==="input"||t==="change")return Xa(e)}function Pv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:Pv;function Hl(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!nr.call(e,l)||!ot(t[l],e[l]))return!1}return!0}function qc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bc(t,e){var n=qc(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qc(n)}}function gh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ca(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ca(t.document)}return e}function Eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var qv=Zt&&"documentMode"in document&&11>=document.documentMode,vi=null,rr=null,Nl=null,ur=!1;function Gc(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ur||vi==null||vi!==ca(i)||(i=vi,"selectionStart"in i&&Eu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Nl&&Hl(Nl,i)||(Nl=i,i=Ra(rr,"onSelect"),0<i.length&&(e=new Za("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=vi)))}function wn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ti={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionrun:wn("Transition","TransitionRun"),transitionstart:wn("Transition","TransitionStart"),transitioncancel:wn("Transition","TransitionCancel"),transitionend:wn("Transition","TransitionEnd")},Es={},vh={};Zt&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function ei(t){if(Es[t])return Es[t];if(!Ti[t])return t;var e=Ti[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vh)return Es[t]=e[n];return t}var Th=ei("animationend"),Ch=ei("animationiteration"),Sh=ei("animationstart"),Bv=ei("transitionrun"),Gv=ei("transitionstart"),zv=ei("transitioncancel"),_h=ei("transitionend"),xh=new Map,cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cr.push("scrollEnd");function Ct(t,e){xh.set(t,e),Wn(e,[t])}var zc=new WeakMap;function dt(t,e){if(typeof t=="object"&&t!==null){var n=zc.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ac(e)},zc.set(t,e),e)}return{value:t,source:e,stack:Ac(e)}}var st=[],Ci=0,Au=0;function Ka(){for(var t=Ci,e=Au=Ci=0;e<t;){var n=st[e];st[e++]=null;var i=st[e];st[e++]=null;var l=st[e];st[e++]=null;var o=st[e];if(st[e++]=null,i!==null&&l!==null){var r=i.pending;r===null?l.next=l:(l.next=r.next,r.next=l),i.pending=l}o!==0&&Eh(n,l,o)}}function Qa(t,e,n,i){st[Ci++]=t,st[Ci++]=e,st[Ci++]=n,st[Ci++]=i,Au|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Mu(t,e,n,i){return Qa(t,e,n,i),fa(t)}function tl(t,e){return Qa(t,null,null,e),fa(t)}function Eh(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var l=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(l=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,l&&e!==null&&(l=31-nt(n),t=o.hiddenUpdates,i=t[l],i===null?t[l]=[e]:i.push(e),e.lane=n|536870912),o):null}function fa(t){if(50<Pl)throw Pl=0,wr=null,Error(E(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Si={};function Ov(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(t,e,n,i){return new Ov(t,e,n,i)}function Nu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yt(t,e){var n=t.alternate;return n===null?(n=et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Ah(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Yo(t,e,n,i,l,o){var r=0;if(i=t,typeof t=="function")Nu(t)&&(r=1);else if(typeof t=="string")r=F0(t,n,Rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ws:return t=et(31,n,e,l),t.elementType=Ws,t.lanes=o,t;case mi:return qn(n.children,l,o,e);case Fm:r=8,l|=24;break;case Xs:return t=et(12,n,e,l|2),t.elementType=Xs,t.lanes=o,t;case Ks:return t=et(13,n,e,l),t.elementType=Ks,t.lanes=o,t;case Qs:return t=et(19,n,e,l),t.elementType=Qs,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uy:case Gt:r=10;break e;case Ym:r=9;break e;case mu:r=11;break e;case hu:r=14;break e;case on:r=16,i=null;break e}r=29,n=Error(E(130,t===null?"null":typeof t,"")),i=null}return e=et(r,n,e,l),e.elementType=t,e.type=i,e.lanes=o,e}function qn(t,e,n,i){return t=et(7,t,i,e),t.lanes=n,t}function As(t,e,n){return t=et(6,t,null,e),t.lanes=n,t}function Ms(t,e,n){return e=et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var _i=[],xi=0,da=null,ma=0,ut=[],ct=0,Bn=null,zt=1,Ot="";function In(t,e){_i[xi++]=ma,_i[xi++]=da,da=t,ma=e}function Mh(t,e,n){ut[ct++]=zt,ut[ct++]=Ot,ut[ct++]=Bn,Bn=t;var i=zt;t=Ot;var l=32-nt(i)-1;i&=~(1<<l),n+=1;var o=32-nt(e)+l;if(30<o){var r=l-l%5;o=(i&(1<<r)-1).toString(32),i>>=r,l-=r,zt=1<<32-nt(e)+l|n<<l|i,Ot=o+t}else zt=1<<o|n<<l|i,Ot=t}function Ru(t){t.return!==null&&(In(t,1),Mh(t,1,0))}function Du(t){for(;t===da;)da=_i[--xi],_i[xi]=null,ma=_i[--xi],_i[xi]=null;for(;t===Bn;)Bn=ut[--ct],ut[ct]=null,Ot=ut[--ct],ut[ct]=null,zt=ut[--ct],ut[ct]=null}var Ge=null,ve=null,j=!1,Gn=null,Et=!1,fr=Error(E(519));function Fn(t){var e=Error(E(418,""));throw Fl(dt(e,t)),fr}function Oc(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Pe]=t,e[Xe]=i,n){case"dialog":Z("cancel",e),Z("close",e);break;case"iframe":case"object":case"embed":Z("load",e);break;case"video":case"audio":for(n=0;n<Zl.length;n++)Z(Zl[n],e);break;case"source":Z("error",e);break;case"img":case"image":case"link":Z("error",e),Z("load",e);break;case"details":Z("toggle",e);break;case"input":Z("invalid",e),lh(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),ua(e);break;case"select":Z("invalid",e);break;case"textarea":Z("invalid",e),ah(e,i.value,i.defaultValue,i.children),ua(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||sg(e.textContent,n)?(i.popover!=null&&(Z("beforetoggle",e),Z("toggle",e)),i.onScroll!=null&&Z("scroll",e),i.onScrollEnd!=null&&Z("scrollend",e),i.onClick!=null&&(e.onclick=os),e=!0):e=!1,e||Fn(t)}function Hc(t){for(Ge=t.return;Ge;)switch(Ge.tag){case 5:case 13:Et=!1;return;case 27:case 3:Et=!0;return;default:Ge=Ge.return}}function dl(t){if(t!==Ge)return!1;if(!j)return Hc(t),j=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Pr(t.type,t.memoizedProps)),n=!n),n&&ve&&Fn(t),Hc(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ve=Tt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ve=null}}else e===27?(e=ve,bn(t.type)?(t=Gr,Gr=null,ve=t):ve=e):ve=Ge?Tt(t.stateNode.nextSibling):null;return!0}function ro(){ve=Ge=null,j=!1}function Fc(){var t=Gn;return t!==null&&(Ze===null?Ze=t:Ze.push.apply(Ze,t),Gn=null),t}function Fl(t){Gn===null?Gn=[t]:Gn.push(t)}var dr=kt(null),ti=null,Ht=null;function rn(t,e,n){pe(dr,e._currentValue),e._currentValue=n}function Jt(t){t._currentValue=dr.current,Ue(dr)}function mr(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function hr(t,e,n,i){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){var r=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),mr(o.return,n,t),i||(r=null);break e}o=u.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(E(341));r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),mr(r,n,t),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===t){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function uo(t,e,n,i){t=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(E(387));if(r=r.memoizedProps,r!==null){var u=l.type;ot(l.pendingProps.value,r.value)||(t!==null?t.push(u):t=[u])}}else if(l===oa.current){if(r=l.alternate,r===null)throw Error(E(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}l=l.return}t!==null&&hr(e,t,n,i),e.flags|=262144}function ha(t){for(t=t.firstContext;t!==null;){if(!ot(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yn(t){ti=t,Ht=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Nh(ti,t)}function Mo(t,e){return ti===null&&Yn(t),Nh(t,e)}function Nh(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ht===null){if(t===null)throw Error(E(308));Ht=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ht=Ht.next=e;return n}var Hv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Fv=Ne.unstable_scheduleCallback,Yv=Ne.unstable_NormalPriority,Ae={$$typeof:Gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bu(){return{controller:new Hv,data:new Map,refCount:0}}function co(t){t.refCount--,t.refCount===0&&Fv(Yv,function(){t.controller.abort()})}var Rl=null,pr=0,Bi=0,Di=null;function Jv(t,e){if(Rl===null){var n=Rl=[];pr=0,Bi=ju(),Di={status:"pending",value:void 0,then:function(i){n.push(i)}}}return pr++,e.then(Yc,Yc),e}function Yc(){if(--pr===0&&Rl!==null){Di!==null&&(Di.status="fulfilled");var t=Rl;Rl=null,Bi=0,Di=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Zv(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var Jc=B.S;B.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Jv(t,e),Jc!==null&&Jc(t,e)};var zn=kt(null);function wu(){var t=zn.current;return t!==null?t:ce.pooledCache}function Jo(t,e){e===null?pe(zn,zn.current):pe(zn,e.pool)}function Rh(){var t=wu();return t===null?null:{parent:Ae._currentValue,pool:t}}var fo=Error(E(460)),Dh=Error(E(474)),Wa=Error(E(542)),gr={then:function(){}};function Zc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function No(){}function bh(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(No,No),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Xc(t),t;default:if(typeof e.status=="string")e.then(No,No);else{if(t=ce,t!==null&&100<t.shellSuspendCounter)throw Error(E(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Xc(t),t}throw Dl=e,fo}}var Dl=null;function $c(){if(Dl===null)throw Error(E(459));var t=Dl;return Dl=null,t}function Xc(t){if(t===fo||t===Wa)throw Error(E(483))}var an=!1;function Uu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ne&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=fa(t),Eh(t,null,n),e}return Qa(t,i,e,n),fa(t)}function bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Wm(t,n)}}function Ns(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?l=o=r:o=o.next=r,n=n.next}while(n!==null);o===null?l=o=e:o=o.next=e}else l=o=e;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var vr=!1;function wl(){if(vr){var t=Di;if(t!==null)throw t}}function Ul(t,e,n,i){vr=!1;var l=t.updateQueue;an=!1;var o=l.firstBaseUpdate,r=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,r===null?o=f:r.next=f,r=c;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==r&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;r=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,p=h!==u.lane;if(p?(Q&h)===h:(i&h)===h){h!==0&&h===Bi&&(vr=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var C=t,_=u;h=e;var A=n;switch(_.tag){case 1:if(C=_.payload,typeof C=="function"){m=C.call(A,m,h);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,h=typeof C=="function"?C.call(A,m,h):C,h==null)break e;m=de({},m,h);break e;case 2:an=!0}}h=u.callback,h!==null&&(t.flags|=64,p&&(t.flags|=8192),p=l.callbacks,p===null?l.callbacks=[h]:p.push(h))}else p={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=p,c=m):d=d.next=p,r|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;p=u,u=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);d===null&&(c=m),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),Nn|=r,t.lanes=r,t.memoizedState=m}}function wh(t,e){if(typeof t!="function")throw Error(E(191,t));t.call(e)}function Uh(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)wh(n[t],e)}var Gi=kt(null),pa=kt(0);function Kc(t,e){t=Kt,pe(pa,t),pe(Gi,e),Kt=t|e.baseLanes}function Tr(){pe(pa,Kt),pe(Gi,Gi.current)}function ku(){Kt=pa.current,Ue(Gi),Ue(pa)}var An=0,J=null,ae=null,xe=null,ga=!1,bi=!1,Jn=!1,ya=0,Yl=0,wi=null,$v=0;function Ce(){throw Error(E(321))}function Iu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ot(t[n],e[n]))return!1;return!0}function Lu(t,e,n,i,l,o){return An=o,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B.H=t===null||t.memoizedState===null?up:cp,Jn=!1,o=n(i,l),Jn=!1,bi&&(o=Ih(e,n,i,l)),kh(t),o}function kh(t){B.H=va;var e=ae!==null&&ae.next!==null;if(An=0,xe=ae=J=null,ga=!1,Yl=0,wi=null,e)throw Error(E(300));t===null||we||(t=t.dependencies,t!==null&&ha(t)&&(we=!0))}function Ih(t,e,n,i){J=t;var l=0;do{if(bi&&(wi=null),Yl=0,bi=!1,25<=l)throw Error(E(301));if(l+=1,xe=ae=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}B.H=t0,o=e(n,i)}while(bi);return o}function Xv(){var t=B.H,e=t.useState()[0];return e=typeof e.then=="function"?mo(e):e,t=t.useState()[0],(ae!==null?ae.memoizedState:null)!==t&&(J.flags|=1024),e}function Vu(){var t=ya!==0;return ya=0,t}function Pu(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function qu(t){if(ga){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ga=!1}An=0,xe=ae=J=null,bi=!1,Yl=ya=0,wi=null}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?J.memoizedState=xe=t:xe=xe.next=t,xe}function Ee(){if(ae===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=xe===null?J.memoizedState:xe.next;if(e!==null)xe=e,ae=t;else{if(t===null)throw J.alternate===null?Error(E(467)):Error(E(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},xe===null?J.memoizedState=xe=t:xe=xe.next=t}return xe}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(t){var e=Yl;return Yl+=1,wi===null&&(wi=[]),t=bh(wi,t,e),e=J,(xe===null?e.memoizedState:xe.next)===null&&(e=e.alternate,B.H=e===null||e.memoizedState===null?up:cp),t}function ja(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return mo(t);if(t.$$typeof===Gt)return qe(t)}throw Error(E(438,String(t)))}function Gu(t){var e=null,n=J.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Bu(),J.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=ky;return e.index++,n}function $t(t,e){return typeof e=="function"?e(t):e}function Zo(t){var e=Ee();return zu(e,ae,t)}function zu(t,e,n){var i=t.queue;if(i===null)throw Error(E(311));i.lastRenderedReducer=n;var l=t.baseQueue,o=i.pending;if(o!==null){if(l!==null){var r=l.next;l.next=o.next,o.next=r}e.baseQueue=l=o,i.pending=null}if(o=t.baseState,l===null)t.memoizedState=o;else{e=l.next;var u=r=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(Q&m)===m:(An&m)===m){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===Bi&&(d=!0);else if((An&h)===h){f=f.next,h===Bi&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,r=o):c=c.next=m,J.lanes|=h,Nn|=h;m=f.action,Jn&&n(o,m),o=f.hasEagerState?f.eagerState:n(o,m)}else h={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,r=o):c=c.next=h,J.lanes|=m,Nn|=m;f=f.next}while(f!==null&&f!==e);if(c===null?r=o:c.next=u,!ot(o,t.memoizedState)&&(we=!0,d&&(n=Di,n!==null)))throw n;t.memoizedState=o,t.baseState=r,t.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Rs(t){var e=Ee(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var i=n.dispatch,l=n.pending,o=e.memoizedState;if(l!==null){n.pending=null;var r=l=l.next;do o=t(o,r.action),r=r.next;while(r!==l);ot(o,e.memoizedState)||(we=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function Lh(t,e,n){var i=J,l=Ee(),o=j;if(o){if(n===void 0)throw Error(E(407));n=n()}else n=e();var r=!ot((ae||l).memoizedState,n);r&&(l.memoizedState=n,we=!0),l=l.queue;var u=qh.bind(null,i,l,t);if(ho(2048,8,u,[t]),l.getSnapshot!==e||r||xe!==null&&xe.memoizedState.tag&1){if(i.flags|=2048,zi(9,es(),Ph.bind(null,i,l,n,e),null),ce===null)throw Error(E(349));o||An&124||Vh(i,e,n)}return n}function Vh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e=Bu(),J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ph(t,e,n,i){e.value=n,e.getSnapshot=i,Bh(e)&&Gh(t)}function qh(t,e,n){return n(function(){Bh(e)&&Gh(t)})}function Bh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ot(t,n)}catch{return!0}}function Gh(t){var e=tl(t,2);e!==null&&lt(e,t,2)}function Cr(t){var e=Ye();if(typeof t=="function"){var n=t;if(t=n(),Jn){dn(!0);try{n()}finally{dn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:t},e}function zh(t,e,n,i){return t.baseState=n,zu(t,ae,typeof i=="function"?i:$t)}function Kv(t,e,n,i,l){if(ts(t))throw Error(E(485));if(t=e.action,t!==null){var o={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){o.listeners.push(r)}};B.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,Oh(e,o)):(o.next=n.next,e.pending=n.next=o)}}function Oh(t,e){var n=e.action,i=e.payload,l=t.state;if(e.isTransition){var o=B.T,r={};B.T=r;try{var u=n(l,i),c=B.S;c!==null&&c(r,u),Qc(t,e,u)}catch(f){Sr(t,e,f)}finally{B.T=o}}else try{o=n(l,i),Qc(t,e,o)}catch(f){Sr(t,e,f)}}function Qc(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Wc(t,e,i)},function(i){return Sr(t,e,i)}):Wc(t,e,n)}function Wc(t,e,n){e.status="fulfilled",e.value=n,Hh(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Oh(t,n)))}function Sr(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,Hh(e),e=e.next;while(e!==i)}t.action=null}function Hh(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Fh(t,e){return e}function jc(t,e){if(j){var n=ce.formState;if(n!==null){e:{var i=J;if(j){if(ve){t:{for(var l=ve,o=Et;l.nodeType!==8;){if(!o){l=null;break t}if(l=Tt(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){ve=Tt(l.nextSibling),i=l.data==="F!";break e}}Fn(i)}i=!1}i&&(e=n[0])}}return n=Ye(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:e},n.queue=i,n=ap.bind(null,J,i),i.dispatch=n,i=Cr(!1),o=Yu.bind(null,J,!1,i.queue),i=Ye(),l={state:e,dispatch:null,action:t,pending:null},i.queue=l,n=Kv.bind(null,J,l,o,n),l.dispatch=n,i.memoizedState=t,[e,n,!1]}function ef(t){var e=Ee();return Yh(e,ae,t)}function Yh(t,e,n){if(e=zu(t,e,Fh)[0],t=Zo($t)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=mo(e)}catch(r){throw r===fo?Wa:r}else i=e;e=Ee();var l=e.queue,o=l.dispatch;return n!==e.memoizedState&&(J.flags|=2048,zi(9,es(),Qv.bind(null,l,n),null)),[i,o,t]}function Qv(t,e){t.action=e}function tf(t){var e=Ee(),n=ae;if(n!==null)return Yh(e,n,t);Ee(),e=e.memoizedState,n=Ee();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function zi(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=J.updateQueue,e===null&&(e=Bu(),J.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function es(){return{destroy:void 0,resource:void 0}}function Jh(){return Ee().memoizedState}function $o(t,e,n,i){var l=Ye();i=i===void 0?null:i,J.flags|=t,l.memoizedState=zi(1|e,es(),n,i)}function ho(t,e,n,i){var l=Ee();i=i===void 0?null:i;var o=l.memoizedState.inst;ae!==null&&i!==null&&Iu(i,ae.memoizedState.deps)?l.memoizedState=zi(e,o,n,i):(J.flags|=t,l.memoizedState=zi(1|e,o,n,i))}function nf(t,e){$o(8390656,8,t,e)}function Zh(t,e){ho(2048,8,t,e)}function $h(t,e){return ho(4,2,t,e)}function Xh(t,e){return ho(4,4,t,e)}function Kh(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qh(t,e,n){n=n!=null?n.concat([t]):null,ho(4,4,Kh.bind(null,e,t),n)}function Ou(){}function Wh(t,e){var n=Ee();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Iu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function jh(t,e){var n=Ee();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Iu(e,i[1]))return i[0];if(i=t(),Jn){dn(!0);try{t()}finally{dn(!1)}}return n.memoizedState=[i,e],i}function Hu(t,e,n){return n===void 0||An&1073741824?t.memoizedState=e:(t.memoizedState=n,t=Hp(),J.lanes|=t,Nn|=t,n)}function ep(t,e,n,i){return ot(n,e)?n:Gi.current!==null?(t=Hu(t,n,i),ot(t,e)||(we=!0),t):An&42?(t=Hp(),J.lanes|=t,Nn|=t,e):(we=!0,t.memoizedState=n)}function tp(t,e,n,i,l){var o=ee.p;ee.p=o!==0&&8>o?o:8;var r=B.T,u={};B.T=u,Yu(t,!1,e,n);try{var c=l(),f=B.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Zv(c,i);kl(t,e,d,it(t))}else kl(t,e,i,it(t))}catch(m){kl(t,e,{then:function(){},status:"rejected",reason:m},it())}finally{ee.p=o,B.T=r}}function Wv(){}function _r(t,e,n,i){if(t.tag!==5)throw Error(E(476));var l=np(t).queue;tp(t,l,e,Pn,n===null?Wv:function(){return ip(t),n(i)})}function np(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Pn,baseState:Pn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:Pn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$t,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ip(t){var e=np(t).next.queue;kl(t,e,{},it())}function Fu(){return qe(Kl)}function lp(){return Ee().memoizedState}function op(){return Ee().memoizedState}function jv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=it();t=yn(n);var i=vn(e,t,n);i!==null&&(lt(i,e,n),bl(i,e,n)),e={cache:bu()},t.payload=e;return}e=e.return}}function e0(t,e,n){var i=it();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ts(t)?sp(e,n):(n=Mu(t,e,n,i),n!==null&&(lt(n,t,i),rp(n,e,i)))}function ap(t,e,n){var i=it();kl(t,e,n,i)}function kl(t,e,n,i){var l={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ts(t))sp(e,l);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var r=e.lastRenderedState,u=o(r,n);if(l.hasEagerState=!0,l.eagerState=u,ot(u,r))return Qa(t,e,l,0),ce===null&&Ka(),!1}catch{}finally{}if(n=Mu(t,e,l,i),n!==null)return lt(n,t,i),rp(n,e,i),!0}return!1}function Yu(t,e,n,i){if(i={lane:2,revertLane:ju(),action:i,hasEagerState:!1,eagerState:null,next:null},ts(t)){if(e)throw Error(E(479))}else e=Mu(t,n,i,2),e!==null&&lt(e,t,2)}function ts(t){var e=t.alternate;return t===J||e!==null&&e===J}function sp(t,e){bi=ga=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rp(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Wm(t,n)}}var va={readContext:qe,use:ja,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce},up={readContext:qe,use:ja,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:qe,useEffect:nf,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,$o(4194308,4,Kh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $o(4194308,4,t,e)},useInsertionEffect:function(t,e){$o(4,2,t,e)},useMemo:function(t,e){var n=Ye();e=e===void 0?null:e;var i=t();if(Jn){dn(!0);try{t()}finally{dn(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Ye();if(n!==void 0){var l=n(e);if(Jn){dn(!0);try{n(e)}finally{dn(!1)}}}else l=e;return i.memoizedState=i.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},i.queue=t,t=t.dispatch=e0.bind(null,J,t),[i.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:function(t){t=Cr(t);var e=t.queue,n=ap.bind(null,J,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ou,useDeferredValue:function(t,e){var n=Ye();return Hu(n,t,e)},useTransition:function(){var t=Cr(!1);return t=tp.bind(null,J,t.queue,!0,!1),Ye().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=J,l=Ye();if(j){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ce===null)throw Error(E(349));Q&124||Vh(i,e,n)}l.memoizedState=n;var o={value:n,getSnapshot:e};return l.queue=o,nf(qh.bind(null,i,o,t),[t]),i.flags|=2048,zi(9,es(),Ph.bind(null,i,o,n,e),null),n},useId:function(){var t=Ye(),e=ce.identifierPrefix;if(j){var n=Ot,i=zt;n=(i&~(1<<32-nt(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=ya++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=$v++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Fu,useFormState:jc,useActionState:jc,useOptimistic:function(t){var e=Ye();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Yu.bind(null,J,!0,n),n.dispatch=e,[t,e]},useMemoCache:Gu,useCacheRefresh:function(){return Ye().memoizedState=jv.bind(null,J)}},cp={readContext:qe,use:ja,useCallback:Wh,useContext:qe,useEffect:Zh,useImperativeHandle:Qh,useInsertionEffect:$h,useLayoutEffect:Xh,useMemo:jh,useReducer:Zo,useRef:Jh,useState:function(){return Zo($t)},useDebugValue:Ou,useDeferredValue:function(t,e){var n=Ee();return ep(n,ae.memoizedState,t,e)},useTransition:function(){var t=Zo($t)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:mo(t),e]},useSyncExternalStore:Lh,useId:lp,useHostTransitionStatus:Fu,useFormState:ef,useActionState:ef,useOptimistic:function(t,e){var n=Ee();return zh(n,ae,t,e)},useMemoCache:Gu,useCacheRefresh:op},t0={readContext:qe,use:ja,useCallback:Wh,useContext:qe,useEffect:Zh,useImperativeHandle:Qh,useInsertionEffect:$h,useLayoutEffect:Xh,useMemo:jh,useReducer:Rs,useRef:Jh,useState:function(){return Rs($t)},useDebugValue:Ou,useDeferredValue:function(t,e){var n=Ee();return ae===null?Hu(n,t,e):ep(n,ae.memoizedState,t,e)},useTransition:function(){var t=Rs($t)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:mo(t),e]},useSyncExternalStore:Lh,useId:lp,useHostTransitionStatus:Fu,useFormState:tf,useActionState:tf,useOptimistic:function(t,e){var n=Ee();return ae!==null?zh(n,ae,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Gu,useCacheRefresh:op},Ui=null,Jl=0;function Ro(t){var e=Jl;return Jl+=1,Ui===null&&(Ui=[]),bh(Ui,t,e)}function ml(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Do(t,e){throw e.$$typeof===wy?Error(E(525)):(t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function lf(t){var e=t._init;return e(t._payload)}function fp(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function l(v,y){return v=Yt(v,y),v.index=0,v.sibling=null,v}function o(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=67108866,y):T):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function r(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function u(v,y,T,S){return y===null||y.tag!==6?(y=As(T,v.mode,S),y.return=v,y):(y=l(y,T),y.return=v,y)}function c(v,y,T,S){var x=T.type;return x===mi?d(v,y,T.props.children,S,T.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===on&&lf(x)===y.type)?(y=l(y,T.props),ml(y,T),y.return=v,y):(y=Yo(T.type,T.key,T.props,null,v.mode,S),ml(y,T),y.return=v,y)}function f(v,y,T,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Ms(T,v.mode,S),y.return=v,y):(y=l(y,T.children||[]),y.return=v,y)}function d(v,y,T,S,x){return y===null||y.tag!==7?(y=qn(T,v.mode,S,x),y.return=v,y):(y=l(y,T),y.return=v,y)}function m(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=As(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case So:return T=Yo(y.type,y.key,y.props,null,v.mode,T),ml(T,y),T.return=v,T;case vl:return y=Ms(y,v.mode,T),y.return=v,y;case on:var S=y._init;return y=S(y._payload),m(v,y,T)}if(Tl(y)||ul(y))return y=qn(y,v.mode,T,null),y.return=v,y;if(typeof y.then=="function")return m(v,Ro(y),T);if(y.$$typeof===Gt)return m(v,Mo(v,y),T);Do(v,y)}return null}function h(v,y,T,S){var x=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return x!==null?null:u(v,y,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case So:return T.key===x?c(v,y,T,S):null;case vl:return T.key===x?f(v,y,T,S):null;case on:return x=T._init,T=x(T._payload),h(v,y,T,S)}if(Tl(T)||ul(T))return x!==null?null:d(v,y,T,S,null);if(typeof T.then=="function")return h(v,y,Ro(T),S);if(T.$$typeof===Gt)return h(v,y,Mo(v,T),S);Do(v,T)}return null}function p(v,y,T,S,x){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return v=v.get(T)||null,u(y,v,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case So:return v=v.get(S.key===null?T:S.key)||null,c(y,v,S,x);case vl:return v=v.get(S.key===null?T:S.key)||null,f(y,v,S,x);case on:var b=S._init;return S=b(S._payload),p(v,y,T,S,x)}if(Tl(S)||ul(S))return v=v.get(T)||null,d(y,v,S,x,null);if(typeof S.then=="function")return p(v,y,T,Ro(S),x);if(S.$$typeof===Gt)return p(v,y,T,Mo(y,S),x);Do(y,S)}return null}function C(v,y,T,S){for(var x=null,b=null,N=y,M=y=0,D=null;N!==null&&M<T.length;M++){N.index>M?(D=N,N=null):D=N.sibling;var w=h(v,N,T[M],S);if(w===null){N===null&&(N=D);break}t&&N&&w.alternate===null&&e(v,N),y=o(w,y,M),b===null?x=w:b.sibling=w,b=w,N=D}if(M===T.length)return n(v,N),j&&In(v,M),x;if(N===null){for(;M<T.length;M++)N=m(v,T[M],S),N!==null&&(y=o(N,y,M),b===null?x=N:b.sibling=N,b=N);return j&&In(v,M),x}for(N=i(N);M<T.length;M++)D=p(N,v,M,T[M],S),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?M:D.key),y=o(D,y,M),b===null?x=D:b.sibling=D,b=D);return t&&N.forEach(function(q){return e(v,q)}),j&&In(v,M),x}function _(v,y,T,S){if(T==null)throw Error(E(151));for(var x=null,b=null,N=y,M=y=0,D=null,w=T.next();N!==null&&!w.done;M++,w=T.next()){N.index>M?(D=N,N=null):D=N.sibling;var q=h(v,N,w.value,S);if(q===null){N===null&&(N=D);break}t&&N&&q.alternate===null&&e(v,N),y=o(q,y,M),b===null?x=q:b.sibling=q,b=q,N=D}if(w.done)return n(v,N),j&&In(v,M),x;if(N===null){for(;!w.done;M++,w=T.next())w=m(v,w.value,S),w!==null&&(y=o(w,y,M),b===null?x=w:b.sibling=w,b=w);return j&&In(v,M),x}for(N=i(N);!w.done;M++,w=T.next())w=p(N,v,M,w.value,S),w!==null&&(t&&w.alternate!==null&&N.delete(w.key===null?M:w.key),y=o(w,y,M),b===null?x=w:b.sibling=w,b=w);return t&&N.forEach(function(ue){return e(v,ue)}),j&&In(v,M),x}function A(v,y,T,S){if(typeof T=="object"&&T!==null&&T.type===mi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case So:e:{for(var x=T.key;y!==null;){if(y.key===x){if(x=T.type,x===mi){if(y.tag===7){n(v,y.sibling),S=l(y,T.props.children),S.return=v,v=S;break e}}else if(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===on&&lf(x)===y.type){n(v,y.sibling),S=l(y,T.props),ml(S,T),S.return=v,v=S;break e}n(v,y);break}else e(v,y);y=y.sibling}T.type===mi?(S=qn(T.props.children,v.mode,S,T.key),S.return=v,v=S):(S=Yo(T.type,T.key,T.props,null,v.mode,S),ml(S,T),S.return=v,v=S)}return r(v);case vl:e:{for(x=T.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),S=l(y,T.children||[]),S.return=v,v=S;break e}else{n(v,y);break}else e(v,y);y=y.sibling}S=Ms(T,v.mode,S),S.return=v,v=S}return r(v);case on:return x=T._init,T=x(T._payload),A(v,y,T,S)}if(Tl(T))return C(v,y,T,S);if(ul(T)){if(x=ul(T),typeof x!="function")throw Error(E(150));return T=x.call(T),_(v,y,T,S)}if(typeof T.then=="function")return A(v,y,Ro(T),S);if(T.$$typeof===Gt)return A(v,y,Mo(v,T),S);Do(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),S=l(y,T),S.return=v,v=S):(n(v,y),S=As(T,v.mode,S),S.return=v,v=S),r(v)):n(v,y)}return function(v,y,T,S){try{Jl=0;var x=A(v,y,T,S);return Ui=null,x}catch(N){if(N===fo||N===Wa)throw N;var b=et(29,N,null,v.mode);return b.lanes=S,b.return=v,b}finally{}}}var Oi=fp(!0),dp=fp(!1),pt=kt(null),bt=null;function un(t){var e=t.alternate;pe(Me,Me.current&1),pe(pt,t),bt===null&&(e===null||Gi.current!==null||e.memoizedState!==null)&&(bt=t)}function mp(t){if(t.tag===22){if(pe(Me,Me.current),pe(pt,t),bt===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(bt=t)}}else cn()}function cn(){pe(Me,Me.current),pe(pt,pt.current)}function Ft(t){Ue(pt),bt===t&&(bt=null),Ue(Me)}var Me=kt(0);function Ta(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Br(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ds(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xr={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=it(),l=yn(i);l.payload=e,n!=null&&(l.callback=n),e=vn(t,l,i),e!==null&&(lt(e,t,i),bl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=it(),l=yn(i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=vn(t,l,i),e!==null&&(lt(e,t,i),bl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),i=yn(n);i.tag=2,e!=null&&(i.callback=e),e=vn(t,i,n),e!==null&&(lt(e,t,n),bl(e,t,n))}};function of(t,e,n,i,l,o,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,r):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,i)||!Hl(l,o):!0}function af(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&xr.enqueueReplaceState(e,e.state,null)}function Zn(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=de({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}var Ca=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function hp(t){Ca(t)}function pp(t){console.error(t)}function gp(t){Ca(t)}function Sa(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function sf(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Er(t,e,n){return n=yn(n),n.tag=3,n.payload={element:null},n.callback=function(){Sa(t,e)},n}function yp(t){return t=yn(t),t.tag=3,t}function vp(t,e,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;t.payload=function(){return l(o)},t.callback=function(){sf(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){sf(e,n,i),typeof l!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function n0(t,e,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&uo(e,n,l,!0),n=pt.current,n!==null){switch(n.tag){case 13:return bt===null?Ur():n.alternate===null&&Te===0&&(Te=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===gr?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Gs(t,i,l)),!1;case 22:return n.flags|=65536,i===gr?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Gs(t,i,l)),!1}throw Error(E(435,n.tag))}return Gs(t,i,l),Ur(),!1}if(j)return e=pt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==fr&&(t=Error(E(422),{cause:i}),Fl(dt(t,n)))):(i!==fr&&(e=Error(E(423),{cause:i}),Fl(dt(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,i=dt(i,n),l=Er(t.stateNode,i,l),Ns(t,l),Te!==4&&(Te=2)),!1;var o=Error(E(520),{cause:i});if(o=dt(o,n),Vl===null?Vl=[o]:Vl.push(o),Te!==4&&(Te=2),e===null)return!0;i=dt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Er(n.stateNode,i,t),Ns(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Tn===null||!Tn.has(o))))return n.flags|=65536,l&=-l,n.lanes|=l,l=yp(l),vp(l,t,n,i),Ns(n,l),!1}n=n.return}while(n!==null);return!1}var Tp=Error(E(461)),we=!1;function ke(t,e,n,i){e.child=t===null?dp(e,null,n,i):Oi(e,t.child,n,i)}function rf(t,e,n,i,l){n=n.render;var o=e.ref;if("ref"in i){var r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}else r=i;return Yn(e),i=Lu(t,e,n,r,o,l),u=Vu(),t!==null&&!we?(Pu(t,e,l),Xt(t,e,l)):(j&&u&&Ru(e),e.flags|=1,ke(t,e,i,l),e.child)}function uf(t,e,n,i,l){if(t===null){var o=n.type;return typeof o=="function"&&!Nu(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,Cp(t,e,o,i,l)):(t=Yo(n.type,null,i,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!Ju(t,l)){var r=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(r,i)&&t.ref===e.ref)return Xt(t,e,l)}return e.flags|=1,t=Yt(o,i),t.ref=e.ref,t.return=e,e.child=t}function Cp(t,e,n,i,l){if(t!==null){var o=t.memoizedProps;if(Hl(o,i)&&t.ref===e.ref)if(we=!1,e.pendingProps=i=o,Ju(t,l))t.flags&131072&&(we=!0);else return e.lanes=t.lanes,Xt(t,e,l)}return Ar(t,e,n,i,l)}function Sp(t,e,n){var i=e.pendingProps,l=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|n:n,t!==null){for(l=e.child=t.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return cf(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(e,o!==null?o.cachePool:null),o!==null?Kc(e,o):Tr(),mp(e);else return e.lanes=e.childLanes=536870912,cf(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(Jo(e,o.cachePool),Kc(e,o),cn(),e.memoizedState=null):(t!==null&&Jo(e,null),Tr(),cn());return ke(t,e,l,n),e.child}function cf(t,e,n,i){var l=wu();return l=l===null?null:{parent:Ae._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&Jo(e,null),Tr(),mp(e),t!==null&&uo(t,e,i,!0),null}function Xo(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(E(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ar(t,e,n,i,l){return Yn(e),n=Lu(t,e,n,i,void 0,l),i=Vu(),t!==null&&!we?(Pu(t,e,l),Xt(t,e,l)):(j&&i&&Ru(e),e.flags|=1,ke(t,e,n,l),e.child)}function ff(t,e,n,i,l,o){return Yn(e),e.updateQueue=null,n=Ih(e,i,n,l),kh(t),i=Vu(),t!==null&&!we?(Pu(t,e,o),Xt(t,e,o)):(j&&i&&Ru(e),e.flags|=1,ke(t,e,n,o),e.child)}function df(t,e,n,i,l){if(Yn(e),e.stateNode===null){var o=Si,r=n.contextType;typeof r=="object"&&r!==null&&(o=qe(r)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=xr,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},Uu(e),r=n.contextType,o.context=typeof r=="object"&&r!==null?qe(r):Si,o.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Ds(e,n,r,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&xr.enqueueReplaceState(o,o.state,null),Ul(e,i,o,l),wl(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var u=e.memoizedProps,c=Zn(n,u);o.props=c;var f=o.context,d=n.contextType;r=Si,typeof d=="object"&&d!==null&&(r=qe(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==r)&&af(e,o,i,r),an=!1;var h=e.memoizedState;o.state=h,Ul(e,i,o,l),wl(),f=e.memoizedState,u||h!==f||an?(typeof m=="function"&&(Ds(e,n,m,i),f=e.memoizedState),(c=an||of(e,n,c,i,h,f,r))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=r,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,yr(t,e),r=e.memoizedProps,d=Zn(n,r),o.props=d,m=e.pendingProps,h=o.context,f=n.contextType,c=Si,typeof f=="object"&&f!==null&&(c=qe(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r!==m||h!==c)&&af(e,o,i,c),an=!1,h=e.memoizedState,o.state=h,Ul(e,i,o,l),wl();var p=e.memoizedState;r!==m||h!==p||an||t!==null&&t.dependencies!==null&&ha(t.dependencies)?(typeof u=="function"&&(Ds(e,n,u,i),p=e.memoizedState),(d=an||of(e,n,d,i,h,p,c)||t!==null&&t.dependencies!==null&&ha(t.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,Xo(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=Oi(e,t.child,null,l),e.child=Oi(e,null,n,l)):ke(t,e,n,l),e.memoizedState=o.state,t=e.child):t=Xt(t,e,l),t}function mf(t,e,n,i){return ro(),e.flags|=256,ke(t,e,n,i),e.child}var bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ws(t){return{baseLanes:t,cachePool:Rh()}}function Us(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=mt),t}function _p(t,e,n){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,r;if((r=o)||(r=t!==null&&t.memoizedState===null?!1:(Me.current&2)!==0),r&&(l=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(j){if(l?un(e):cn(),j){var u=ve,c;if(c=u){e:{for(c=u,u=Et;c.nodeType!==8;){if(!u){u=null;break e}if(c=Tt(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:Bn!==null?{id:zt,overflow:Ot}:null,retryLane:536870912,hydrationErrors:null},c=et(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,Ge=e,ve=null,c=!0):c=!1}c||Fn(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return Br(u)?e.lanes=32:e.lanes=536870912,null;Ft(e)}return u=i.children,i=i.fallback,l?(cn(),l=e.mode,u=_a({mode:"hidden",children:u},l),i=qn(i,l,n,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=ws(n),l.childLanes=Us(t,r,n),e.memoizedState=bs,i):(un(e),Mr(e,u))}if(c=t.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(un(e),e.flags&=-257,e=ks(t,e,n)):e.memoizedState!==null?(cn(),e.child=t.child,e.flags|=128,e=null):(cn(),l=i.fallback,u=e.mode,i=_a({mode:"visible",children:i.children},u),l=qn(l,u,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Oi(e,t.child,null,n),i=e.child,i.memoizedState=ws(n),i.childLanes=Us(t,r,n),e.memoizedState=bs,e=l);else if(un(e),Br(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var f=r.dgst;r=f,i=Error(E(419)),i.stack="",i.digest=r,Fl({value:i,source:null,stack:null}),e=ks(t,e,n)}else if(we||uo(t,e,n,!1),r=(n&t.childLanes)!==0,we||r){if(r=ce,r!==null&&(i=n&-n,i=i&42?1:gu(i),i=i&(r.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,tl(t,i),lt(r,t,i),Tp;u.data==="$?"||Ur(),e=ks(t,e,n)}else u.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,ve=Tt(u.nextSibling),Ge=e,j=!0,Gn=null,Et=!1,t!==null&&(ut[ct++]=zt,ut[ct++]=Ot,ut[ct++]=Bn,zt=t.id,Ot=t.overflow,Bn=e),e=Mr(e,i.children),e.flags|=4096);return e}return l?(cn(),l=i.fallback,u=e.mode,c=t.child,f=c.sibling,i=Yt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Yt(f,l):(l=qn(l,u,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=t.child.memoizedState,u===null?u=ws(n):(c=u.cachePool,c!==null?(f=Ae._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Rh(),u={baseLanes:u.baseLanes|n,cachePool:c}),l.memoizedState=u,l.childLanes=Us(t,r,n),e.memoizedState=bs,i):(un(e),n=t.child,t=n.sibling,n=Yt(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function Mr(t,e){return e=_a({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function _a(t,e){return t=et(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ks(t,e,n){return Oi(e,t.child,null,n),t=Mr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),mr(t.return,e,n)}function Is(t,e,n,i,l){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function xp(t,e,n){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(ke(t,e,i.children,n),i=Me.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hf(t,n,e);else if(t.tag===19)hf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(pe(Me,i),l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Ta(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Is(e,!1,l,n,o);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Ta(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Is(e,!0,n,null,o);break;case"together":Is(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nn|=e.lanes,!(n&e.childLanes))if(t!==null){if(uo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Yt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ju(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ha(t)))}function i0(t,e,n){switch(e.tag){case 3:aa(e,e.stateNode.containerInfo),rn(e,Ae,t.memoizedState.cache),ro();break;case 27:case 5:tr(e);break;case 4:aa(e,e.stateNode.containerInfo);break;case 10:rn(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(un(e),e.flags|=128,null):n&e.child.childLanes?_p(t,e,n):(un(e),t=Xt(t,e,n),t!==null?t.sibling:null);un(e);break;case 19:var l=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(uo(t,e,n,!1),i=(n&e.childLanes)!==0),l){if(i)return xp(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),pe(Me,Me.current),i)break;return null;case 22:case 23:return e.lanes=0,Sp(t,e,n);case 24:rn(e,Ae,t.memoizedState.cache)}return Xt(t,e,n)}function Ep(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)we=!0;else{if(!Ju(t,n)&&!(e.flags&128))return we=!1,i0(t,e,n);we=!!(t.flags&131072)}else we=!1,j&&e.flags&1048576&&Mh(e,ma,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Nu(i)?(t=Zn(i,t),e.tag=1,e=df(null,e,i,t,n)):(e.tag=0,e=Ar(null,e,i,t,n));else{if(i!=null){if(l=i.$$typeof,l===mu){e.tag=11,e=rf(null,e,i,t,n);break e}else if(l===hu){e.tag=14,e=uf(null,e,i,t,n);break e}}throw e=js(i)||i,Error(E(306,e,""))}}return e;case 0:return Ar(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,l=Zn(i,e.pendingProps),df(t,e,i,l,n);case 3:e:{if(aa(e,e.stateNode.containerInfo),t===null)throw Error(E(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,yr(t,e),Ul(e,i,null,n);var r=e.memoizedState;if(i=r.cache,rn(e,Ae,i),i!==o.cache&&hr(e,[Ae],n,!0),wl(),i=r.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=mf(t,e,i,n);break e}else if(i!==l){l=dt(Error(E(424)),e),Fl(l),e=mf(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=Tt(t.firstChild),Ge=e,j=!0,Gn=null,Et=!0,n=dp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ro(),i===l){e=Xt(t,e,n);break e}ke(t,e,i,n)}e=e.child}return e;case 26:return Xo(t,e),t===null?(n=wf(e.type,null,e.pendingProps,null))?e.memoizedState=n:j||(n=e.type,t=e.pendingProps,i=Da(gn.current).createElement(n),i[Pe]=e,i[Xe]=t,Le(i,n,t),be(i),e.stateNode=i):e.memoizedState=wf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return tr(e),t===null&&j&&(i=e.stateNode=cg(e.type,e.pendingProps,gn.current),Ge=e,Et=!0,l=ve,bn(e.type)?(Gr=l,ve=Tt(i.firstChild)):ve=l),ke(t,e,e.pendingProps.children,n),Xo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&j&&((l=i=ve)&&(i=w0(i,e.type,e.pendingProps,Et),i!==null?(e.stateNode=i,Ge=e,ve=Tt(i.firstChild),Et=!1,l=!0):l=!1),l||Fn(e)),tr(e),l=e.type,o=e.pendingProps,r=t!==null?t.memoizedProps:null,i=o.children,Pr(l,o)?i=null:r!==null&&Pr(l,r)&&(e.flags|=32),e.memoizedState!==null&&(l=Lu(t,e,Xv,null,null,n),Kl._currentValue=l),Xo(t,e),ke(t,e,i,n),e.child;case 6:return t===null&&j&&((t=n=ve)&&(n=U0(n,e.pendingProps,Et),n!==null?(e.stateNode=n,Ge=e,ve=null,t=!0):t=!1),t||Fn(e)),null;case 13:return _p(t,e,n);case 4:return aa(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Oi(e,null,i,n):ke(t,e,i,n),e.child;case 11:return rf(t,e,e.type,e.pendingProps,n);case 7:return ke(t,e,e.pendingProps,n),e.child;case 8:return ke(t,e,e.pendingProps.children,n),e.child;case 12:return ke(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,rn(e,e.type,i.value),ke(t,e,i.children,n),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,Yn(e),l=qe(l),i=i(l),e.flags|=1,ke(t,e,i,n),e.child;case 14:return uf(t,e,e.type,e.pendingProps,n);case 15:return Cp(t,e,e.type,e.pendingProps,n);case 19:return xp(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=_a(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Yt(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Sp(t,e,n);case 24:return Yn(e),i=qe(Ae),t===null?(l=wu(),l===null&&(l=ce,o=bu(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=n),l=o),e.memoizedState={parent:i,cache:l},Uu(e),rn(e,Ae,l)):(t.lanes&n&&(yr(t,e),Ul(e,null,null,n),wl()),l=t.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),rn(e,Ae,i)):(i=o.cache,rn(e,Ae,i),i!==l.cache&&hr(e,[Ae],n,!0))),ke(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(E(156,e.tag))}function Pt(t){t.flags|=4}function pf(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!mg(e)){if(e=pt.current,e!==null&&((Q&4194048)===Q?bt!==null:(Q&62914560)!==Q&&!(Q&536870912)||e!==bt))throw Dl=gr,Dh;t.flags|=8192}}function bo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Km():536870912,t.lanes|=e,Hi|=e)}function hl(t,e){if(!j)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function l0(t,e,n){var i=e.pendingProps;switch(Du(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return ye(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Jt(Ae),Vi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(dl(e)?Pt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fc())),ye(e),null;case 26:return n=e.memoizedState,t===null?(Pt(e),n!==null?(ye(e),pf(e,n)):(ye(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Pt(e),ye(e),pf(e,n)):(ye(e),e.flags&=-16777217):(t.memoizedProps!==i&&Pt(e),ye(e),e.flags&=-16777217),null;case 27:sa(e),n=gn.current;var l=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Pt(e);else{if(!i){if(e.stateNode===null)throw Error(E(166));return ye(e),null}t=Rt.current,dl(e)?Oc(e):(t=cg(l,i,n),e.stateNode=t,Pt(e))}return ye(e),null;case 5:if(sa(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Pt(e);else{if(!i){if(e.stateNode===null)throw Error(E(166));return ye(e),null}if(t=Rt.current,dl(e))Oc(e);else{switch(l=Da(gn.current),t){case 1:t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?l.createElement(n,{is:i.is}):l.createElement(n)}}t[Pe]=e,t[Xe]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=t;e:switch(Le(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Pt(e)}}return ye(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Pt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(E(166));if(t=gn.current,dl(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,l=Ge,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}t[Pe]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||sg(t.nodeValue,n)),t||Fn(e)}else t=Da(t).createTextNode(i),t[Pe]=e,e.stateNode=t}return ye(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=dl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(E(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(E(317));l[Pe]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),l=!1}else l=Fc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Ft(e),e):(Ft(e),null)}if(Ft(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),bo(e,e.updateQueue),ye(e),null;case 4:return Vi(),t===null&&ec(e.stateNode.containerInfo),ye(e),null;case 10:return Jt(e.type),ye(e),null;case 19:if(Ue(Me),l=e.memoizedState,l===null)return ye(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)hl(l,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ta(t),o!==null){for(e.flags|=128,hl(l,!1),t=o.updateQueue,e.updateQueue=t,bo(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Ah(n,t),n=n.sibling;return pe(Me,Me.current&1|2),e.child}t=t.sibling}l.tail!==null&&Dt()>Ea&&(e.flags|=128,i=!0,hl(l,!1),e.lanes=4194304)}else{if(!i)if(t=Ta(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,bo(e,t),hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!j)return ye(e),null}else 2*Dt()-l.renderingStartTime>Ea&&n!==536870912&&(e.flags|=128,i=!0,hl(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(t=l.last,t!==null?t.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Dt(),e.sibling=null,t=Me.current,pe(Me,i?t&1|2:t&1),e):(ye(e),null);case 22:case 23:return Ft(e),ku(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),n=e.updateQueue,n!==null&&bo(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ue(zn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Jt(Ae),ye(e),null;case 25:return null;case 30:return null}throw Error(E(156,e.tag))}function o0(t,e){switch(Du(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jt(Ae),Vi(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return sa(e),null;case 13:if(Ft(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Me),null;case 4:return Vi(),null;case 10:return Jt(e.type),null;case 22:case 23:return Ft(e),ku(),t!==null&&Ue(zn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Jt(Ae),null;case 25:return null;default:return null}}function Ap(t,e){switch(Du(e),e.tag){case 3:Jt(Ae),Vi();break;case 26:case 27:case 5:sa(e);break;case 4:Vi();break;case 13:Ft(e);break;case 19:Ue(Me);break;case 10:Jt(e.type);break;case 22:case 23:Ft(e),ku(),t!==null&&Ue(zn);break;case 24:Jt(Ae)}}function po(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){i=void 0;var o=n.create,r=n.inst;i=o(),r.destroy=i}n=n.next}while(n!==l)}}catch(u){re(e,e.return,u)}}function Mn(t,e,n){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&t)===t){var r=i.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,l=e;var c=n,f=u;try{f()}catch(d){re(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){re(e,e.return,d)}}function Mp(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Uh(e,n)}catch(i){re(t,t.return,i)}}}function Np(t,e,n){n.props=Zn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){re(t,e,i)}}function Il(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(l){re(t,e,l)}}function At(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){re(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){re(t,e,l)}else n.current=null}function Rp(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){re(t,t.return,l)}}function Ls(t,e,n){try{var i=t.stateNode;M0(i,t.type,n,e),i[Xe]=e}catch(l){re(t,t.return,l)}}function Dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&bn(t.type)||t.tag===4}function Vs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&bn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nr(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=os));else if(i!==4&&(i===27&&bn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Nr(t,e,n),t=t.sibling;t!==null;)Nr(t,e,n),t=t.sibling}function xa(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&bn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(xa(t,e,n),t=t.sibling;t!==null;)xa(t,e,n),t=t.sibling}function bp(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Le(e,i,n),e[Pe]=t,e[Xe]=n}catch(o){re(t,t.return,o)}}var Bt=!1,Se=!1,Ps=!1,gf=typeof WeakSet=="function"?WeakSet:Set,De=null;function a0(t,e){if(t=t.containerInfo,Lr=ka,t=yh(t),Eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var r=0,u=-1,c=-1,f=0,d=0,m=t,h=null;t:for(;;){for(var p;m!==n||l!==0&&m.nodeType!==3||(u=r+l),m!==o||i!==0&&m.nodeType!==3||(c=r+i),m.nodeType===3&&(r+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===t)break t;if(h===n&&++f===l&&(u=r),h===o&&++d===i&&(c=r),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vr={focusedElem:t,selectionRange:n},ka=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){switch(e=De,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,l=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var C=Zn(n.type,l,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(C,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(_){re(n,n.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)qr(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(E(163))}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function wp(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:nn(t,n),i&4&&po(5,n);break;case 1:if(nn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){re(n,n.return,r)}else{var l=Zn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){re(n,n.return,r)}}i&64&&Mp(n),i&512&&Il(n,n.return);break;case 3:if(nn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Uh(t,e)}catch(r){re(n,n.return,r)}}break;case 27:e===null&&i&4&&bp(n);case 26:case 5:nn(t,n),e===null&&i&4&&Rp(n),i&512&&Il(n,n.return);break;case 12:nn(t,n);break;case 13:nn(t,n),i&4&&Ip(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=p0.bind(null,n),k0(t,n))));break;case 22:if(i=n.memoizedState!==null||Bt,!i){e=e!==null&&e.memoizedState!==null||Se,l=Bt;var o=Se;Bt=i,(Se=e)&&!o?ln(t,n,(n.subtreeFlags&8772)!==0):nn(t,n),Bt=l,Se=o}break;case 30:break;default:nn(t,n)}}function Up(t){var e=t.alternate;e!==null&&(t.alternate=null,Up(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&vu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,Je=!1;function qt(t,e,n){for(n=n.child;n!==null;)kp(t,e,n),n=n.sibling}function kp(t,e,n){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(io,n)}catch{}switch(n.tag){case 26:Se||At(n,e),qt(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Se||At(n,e);var i=me,l=Je;bn(n.type)&&(me=n.stateNode,Je=!1),qt(t,e,n),ql(n.stateNode),me=i,Je=l;break;case 5:Se||At(n,e);case 6:if(i=me,l=Je,me=null,qt(t,e,n),me=i,Je=l,me!==null)if(Je)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(n.stateNode)}catch(o){re(n,e,o)}else try{me.removeChild(n.stateNode)}catch(o){re(n,e,o)}break;case 18:me!==null&&(Je?(t=me,Rf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),jl(t)):Rf(me,n.stateNode));break;case 4:i=me,l=Je,me=n.stateNode.containerInfo,Je=!0,qt(t,e,n),me=i,Je=l;break;case 0:case 11:case 14:case 15:Se||Mn(2,n,e),Se||Mn(4,n,e),qt(t,e,n);break;case 1:Se||(At(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Np(n,e,i)),qt(t,e,n);break;case 21:qt(t,e,n);break;case 22:Se=(i=Se)||n.memoizedState!==null,qt(t,e,n),Se=i;break;default:qt(t,e,n)}}function Ip(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(n){re(e,e.return,n)}}function s0(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new gf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new gf),e;default:throw Error(E(435,t.tag))}}function qs(t,e){var n=s0(t);e.forEach(function(i){var l=g0.bind(null,t,i);n.has(i)||(n.add(i),i.then(l,l))})}function Qe(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],o=t,r=e,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(bn(u.type)){me=u.stateNode,Je=!1;break e}break;case 5:me=u.stateNode,Je=!1;break e;case 3:case 4:me=u.stateNode.containerInfo,Je=!0;break e}u=u.return}if(me===null)throw Error(E(160));kp(o,r,l),me=null,Je=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Lp(e,t),e=e.sibling}var vt=null;function Lp(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qe(e,t),We(t),i&4&&(Mn(3,t,t.return),po(3,t),Mn(5,t,t.return));break;case 1:Qe(e,t),We(t),i&512&&(Se||n===null||At(n,n.return)),i&64&&Bt&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=vt;if(Qe(e,t),We(t),i&512&&(Se||n===null||At(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[ao]||o[Pe]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),Le(o,i,n),o[Pe]=t,be(o),i=o;break e;case"link":var r=kf("link","href",l).get(i+(n.href||""));if(r){for(var u=0;u<r.length;u++)if(o=r[u],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(u,1);break t}}o=l.createElement(i),Le(o,i,n),l.head.appendChild(o);break;case"meta":if(r=kf("meta","content",l).get(i+(n.content||""))){for(u=0;u<r.length;u++)if(o=r[u],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(u,1);break t}}o=l.createElement(i),Le(o,i,n),l.head.appendChild(o);break;default:throw Error(E(468,i))}o[Pe]=t,be(o),i=o}t.stateNode=i}else If(l,t.type,t.stateNode);else t.stateNode=Uf(l,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?If(l,t.type,t.stateNode):Uf(l,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Ls(t,t.memoizedProps,n.memoizedProps)}break;case 27:Qe(e,t),We(t),i&512&&(Se||n===null||At(n,n.return)),n!==null&&i&4&&Ls(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Qe(e,t),We(t),i&512&&(Se||n===null||At(n,n.return)),t.flags&32){l=t.stateNode;try{qi(l,"")}catch(p){re(t,t.return,p)}}i&4&&t.stateNode!=null&&(l=t.memoizedProps,Ls(t,l,n!==null?n.memoizedProps:l)),i&1024&&(Ps=!0);break;case 6:if(Qe(e,t),We(t),i&4){if(t.stateNode===null)throw Error(E(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){re(t,t.return,p)}}break;case 3:if(Wo=null,l=vt,vt=ba(e.containerInfo),Qe(e,t),vt=l,We(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(p){re(t,t.return,p)}Ps&&(Ps=!1,Vp(t));break;case 4:i=vt,vt=ba(t.stateNode.containerInfo),Qe(e,t),We(t),vt=i;break;case 12:Qe(e,t),We(t);break;case 13:Qe(e,t),We(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qu=Dt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qs(t,i)));break;case 22:l=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Bt,d=Se;if(Bt=f||l,Se=d||c,Qe(e,t),Se=d,Bt=f,We(t),i&8192)e:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||c||Bt||Se||Ln(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(o=c.stateNode,l)r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=c.stateNode;var m=c.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){re(c,c.return,p)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(p){re(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,qs(t,n))));break;case 19:Qe(e,t),We(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,qs(t,i)));break;case 30:break;case 21:break;default:Qe(e,t),We(t)}}function We(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Dp(i)){n=i;break}i=i.return}if(n==null)throw Error(E(160));switch(n.tag){case 27:var l=n.stateNode,o=Vs(t);xa(t,o,l);break;case 5:var r=n.stateNode;n.flags&32&&(qi(r,""),n.flags&=-33);var u=Vs(t);xa(t,u,r);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Vs(t);Nr(t,f,c);break;default:throw Error(E(161))}}catch(d){re(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Vp(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function nn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)wp(t,e.alternate,e),e=e.sibling}function Ln(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Mn(4,e,e.return),Ln(e);break;case 1:At(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Np(e,e.return,n),Ln(e);break;case 27:ql(e.stateNode);case 26:case 5:At(e,e.return),Ln(e);break;case 22:e.memoizedState===null&&Ln(e);break;case 30:Ln(e);break;default:Ln(e)}t=t.sibling}}function ln(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=t,o=e,r=o.flags;switch(o.tag){case 0:case 11:case 15:ln(l,o,n),po(4,o);break;case 1:if(ln(l,o,n),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){re(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)wh(c[l],u)}catch(f){re(i,i.return,f)}}n&&r&64&&Mp(o),Il(o,o.return);break;case 27:bp(o);case 26:case 5:ln(l,o,n),n&&i===null&&r&4&&Rp(o),Il(o,o.return);break;case 12:ln(l,o,n);break;case 13:ln(l,o,n),n&&r&4&&Ip(l,o);break;case 22:o.memoizedState===null&&ln(l,o,n),Il(o,o.return);break;case 30:break;default:ln(l,o,n)}e=e.sibling}}function Zu(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&co(n))}function $u(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&co(t))}function xt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pp(t,e,n,i),e=e.sibling}function Pp(t,e,n,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:xt(t,e,n,i),l&2048&&po(9,e);break;case 1:xt(t,e,n,i);break;case 3:xt(t,e,n,i),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&co(t)));break;case 12:if(l&2048){xt(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,r=o.id,u=o.onPostCommit;typeof u=="function"&&u(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){re(e,e.return,c)}}else xt(t,e,n,i);break;case 13:xt(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,r=e.alternate,e.memoizedState!==null?o._visibility&2?xt(t,e,n,i):Ll(t,e):o._visibility&2?xt(t,e,n,i):(o._visibility|=2,ci(t,e,n,i,(e.subtreeFlags&10256)!==0)),l&2048&&Zu(r,e);break;case 24:xt(t,e,n,i),l&2048&&$u(e.alternate,e);break;default:xt(t,e,n,i)}}function ci(t,e,n,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,r=e,u=n,c=i,f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(o,r,u,c,l),po(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?ci(o,r,u,c,l):Ll(o,r):(d._visibility|=2,ci(o,r,u,c,l)),l&&f&2048&&Zu(r.alternate,r);break;case 24:ci(o,r,u,c,l),l&&f&2048&&$u(r.alternate,r);break;default:ci(o,r,u,c,l)}e=e.sibling}}function Ll(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,l=i.flags;switch(i.tag){case 22:Ll(n,i),l&2048&&Zu(i.alternate,i);break;case 24:Ll(n,i),l&2048&&$u(i.alternate,i);break;default:Ll(n,i)}e=e.sibling}}var Sl=8192;function ii(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)qp(t),t=t.sibling}function qp(t){switch(t.tag){case 26:ii(t),t.flags&Sl&&t.memoizedState!==null&&J0(vt,t.memoizedState,t.memoizedProps);break;case 5:ii(t);break;case 3:case 4:var e=vt;vt=ba(t.stateNode.containerInfo),ii(t),vt=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Sl,Sl=16777216,ii(t),Sl=e):ii(t));break;default:ii(t)}}function Bp(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function pl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];De=i,zp(i,t)}Bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gp(t),t=t.sibling}function Gp(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Mn(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ko(t)):pl(t);break;default:pl(t)}}function Ko(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];De=i,zp(i,t)}Bp(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Mn(8,e,e.return),Ko(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ko(e));break;default:Ko(e)}t=t.sibling}}function zp(t,e){for(;De!==null;){var n=De;switch(n.tag){case 0:case 11:case 15:Mn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:co(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,De=i;else e:for(n=t;De!==null;){i=De;var l=i.sibling,o=i.return;if(Up(i),i===n){De=null;break e}if(l!==null){l.return=o,De=l;break e}De=o}}}var r0={getCacheForType:function(t){var e=qe(Ae),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},u0=typeof WeakMap=="function"?WeakMap:Map,ne=0,ce=null,$=null,Q=0,te=0,je=null,hn=!1,nl=!1,Xu=!1,Kt=0,Te=0,Nn=0,On=0,Ku=0,mt=0,Hi=0,Vl=null,Ze=null,Rr=!1,Qu=0,Ea=1/0,Aa=null,Tn=null,Ie=0,Cn=null,Fi=null,ki=0,Dr=0,br=null,Op=null,Pl=0,wr=null;function it(){if(ne&2&&Q!==0)return Q&-Q;if(B.T!==null){var t=Bi;return t!==0?t:ju()}return jm()}function Hp(){mt===0&&(mt=!(Q&536870912)||j?Xm():536870912);var t=pt.current;return t!==null&&(t.flags|=32),mt}function lt(t,e,n){(t===ce&&(te===2||te===9)||t.cancelPendingCommit!==null)&&(Yi(t,0),pn(t,Q,mt,!1)),oo(t,n),(!(ne&2)||t!==ce)&&(t===ce&&(!(ne&2)&&(On|=n),Te===4&&pn(t,Q,mt,!1)),It(t))}function Fp(t,e,n){if(ne&6)throw Error(E(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||lo(t,e),l=i?d0(t,e):Bs(t,e,!0),o=i;do{if(l===0){nl&&!i&&pn(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!c0(n)){l=Bs(t,e,!1),o=!1;continue}if(l===2){if(o=e,t.errorRecoveryDisabledLanes&o)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var u=t;l=Vl;var c=u.current.memoizedState.isDehydrated;if(c&&(Yi(u,r).flags|=256),r=Bs(u,r,!1),r!==2){if(Xu&&!c){u.errorRecoveryDisabledLanes|=o,On|=o,l=4;break e}o=Ze,Ze=l,o!==null&&(Ze===null?Ze=o:Ze.push.apply(Ze,o))}l=r}if(o=!1,l!==2)continue}}if(l===1){Yi(t,0),pn(t,e,0,!0);break}e:{switch(i=t,o=l,o){case 0:case 1:throw Error(E(345));case 4:if((e&4194048)!==e)break;case 6:pn(i,e,mt,!hn);break e;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(E(329))}if((e&62914560)===e&&(l=Qu+300-Dt(),10<l)){if(pn(i,e,mt,!hn),Ja(i,0,!0)!==0)break e;i.timeoutHandle=ug(yf.bind(null,i,n,Ze,Aa,Rr,e,mt,On,Hi,hn,o,2,-0,0),l);break e}yf(i,n,Ze,Aa,Rr,e,mt,On,Hi,hn,o,0,-0,0)}}break}while(!0);It(t)}function yf(t,e,n,i,l,o,r,u,c,f,d,m,h,p){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:Y0},qp(e),m=Z0(),m!==null)){t.cancelPendingCommit=m(Tf.bind(null,t,e,o,n,i,l,r,u,c,d,1,h,p)),pn(t,o,r,!f);return}Tf(t,e,o,n,i,l,r,u,c)}function c0(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!ot(o(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pn(t,e,n,i){e&=~Ku,e&=~On,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var l=e;0<l;){var o=31-nt(l),r=1<<o;i[o]=-1,l&=~r}n!==0&&Qm(t,n,e)}function ns(){return ne&6?!0:(go(0),!1)}function Wu(){if($!==null){if(te===0)var t=$.return;else t=$,Ht=ti=null,qu(t),Ui=null,Jl=0,t=$;for(;t!==null;)Ap(t.alternate,t),t=t.return;$=null}}function Yi(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,R0(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Wu(),ce=t,$=n=Yt(t.current,null),Q=e,te=0,je=null,hn=!1,nl=lo(t,e),Xu=!1,Hi=mt=Ku=On=Nn=Te=0,Ze=Vl=null,Rr=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var l=31-nt(i),o=1<<l;e|=t[l],i&=~o}return Kt=e,Ka(),n}function Yp(t,e){J=null,B.H=va,e===fo||e===Wa?(e=$c(),te=3):e===Dh?(e=$c(),te=4):te=e===Tp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,je=e,$===null&&(Te=1,Sa(t,dt(e,t.current)))}function Jp(){var t=B.H;return B.H=va,t===null?va:t}function Zp(){var t=B.A;return B.A=r0,t}function Ur(){Te=4,hn||(Q&4194048)!==Q&&pt.current!==null||(nl=!0),!(Nn&134217727)&&!(On&134217727)||ce===null||pn(ce,Q,mt,!1)}function Bs(t,e,n){var i=ne;ne|=2;var l=Jp(),o=Zp();(ce!==t||Q!==e)&&(Aa=null,Yi(t,e)),e=!1;var r=Te;e:do try{if(te!==0&&$!==null){var u=$,c=je;switch(te){case 8:Wu(),r=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(e=!0);var f=te;if(te=0,je=null,Ei(t,u,c,f),n&&nl){r=0;break e}break;default:f=te,te=0,je=null,Ei(t,u,c,f)}}f0(),r=Te;break}catch(d){Yp(t,d)}while(!0);return e&&t.shellSuspendCounter++,Ht=ti=null,ne=i,B.H=l,B.A=o,$===null&&(ce=null,Q=0,Ka()),r}function f0(){for(;$!==null;)$p($)}function d0(t,e){var n=ne;ne|=2;var i=Jp(),l=Zp();ce!==t||Q!==e?(Aa=null,Ea=Dt()+500,Yi(t,e)):nl=lo(t,e);e:do try{if(te!==0&&$!==null){e=$;var o=je;t:switch(te){case 1:te=0,je=null,Ei(t,e,o,1);break;case 2:case 9:if(Zc(o)){te=0,je=null,vf(e);break}e=function(){te!==2&&te!==9||ce!==t||(te=7),It(t)},o.then(e,e);break e;case 3:te=7;break e;case 4:te=5;break e;case 7:Zc(o)?(te=0,je=null,vf(e)):(te=0,je=null,Ei(t,e,o,7));break;case 5:var r=null;switch($.tag){case 26:r=$.memoizedState;case 5:case 27:var u=$;if(!r||mg(r)){te=0,je=null;var c=u.sibling;if(c!==null)$=c;else{var f=u.return;f!==null?($=f,is(f)):$=null}break t}}te=0,je=null,Ei(t,e,o,5);break;case 6:te=0,je=null,Ei(t,e,o,6);break;case 8:Wu(),Te=6;break e;default:throw Error(E(462))}}m0();break}catch(d){Yp(t,d)}while(!0);return Ht=ti=null,B.H=i,B.A=l,ne=n,$!==null?0:(ce=null,Q=0,Ka(),Te)}function m0(){for(;$!==null&&!Ly();)$p($)}function $p(t){var e=Ep(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?is(t):$=e}function vf(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=ff(n,e,e.pendingProps,e.type,void 0,Q);break;case 11:e=ff(n,e,e.pendingProps,e.type.render,e.ref,Q);break;case 5:qu(e);default:Ap(n,e),e=$=Ah(e,Kt),e=Ep(n,e,Kt)}t.memoizedProps=t.pendingProps,e===null?is(t):$=e}function Ei(t,e,n,i){Ht=ti=null,qu(e),Ui=null,Jl=0;var l=e.return;try{if(n0(t,l,e,n,Q)){Te=1,Sa(t,dt(n,t.current)),$=null;return}}catch(o){if(l!==null)throw $=l,o;Te=1,Sa(t,dt(n,t.current)),$=null;return}e.flags&32768?(j||i===1?t=!0:nl||Q&536870912?t=!1:(hn=t=!0,(i===2||i===9||i===3||i===6)&&(i=pt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Xp(e,t)):is(e)}function is(t){var e=t;do{if(e.flags&32768){Xp(e,hn);return}t=e.return;var n=l0(e.alternate,e,Kt);if(n!==null){$=n;return}if(e=e.sibling,e!==null){$=e;return}$=e=t}while(e!==null);Te===0&&(Te=5)}function Xp(t,e){do{var n=o0(t.alternate,t);if(n!==null){n.flags&=32767,$=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){$=t;return}$=t=n}while(t!==null);Te=6,$=null}function Tf(t,e,n,i,l,o,r,u,c){t.cancelPendingCommit=null;do ls();while(Ie!==0);if(ne&6)throw Error(E(327));if(e!==null){if(e===t.current)throw Error(E(177));if(o=e.lanes|e.childLanes,o|=Au,Yy(t,n,o,r,u,c),t===ce&&($=ce=null,Q=0),Fi=e,Cn=t,ki=n,Dr=o,br=l,Op=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,y0(ra,function(){return eg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=B.T,B.T=null,l=ee.p,ee.p=2,r=ne,ne|=4;try{a0(t,e,n)}finally{ne=r,ee.p=l,B.T=i}}Ie=1,Kp(),Qp(),Wp()}}function Kp(){if(Ie===1){Ie=0;var t=Cn,e=Fi,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=B.T,B.T=null;var i=ee.p;ee.p=2;var l=ne;ne|=4;try{Lp(e,t);var o=Vr,r=yh(t.containerInfo),u=o.focusedElem,c=o.selectionRange;if(r!==u&&u&&u.ownerDocument&&gh(u.ownerDocument.documentElement,u)){if(c!==null&&Eu(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var m=u.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var p=h.getSelection(),C=u.textContent.length,_=Math.min(c.start,C),A=c.end===void 0?_:Math.min(c.end,C);!p.extend&&_>A&&(r=A,A=_,_=r);var v=Bc(u,_),y=Bc(u,A);if(v&&y&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var T=m.createRange();T.setStart(v.node,v.offset),p.removeAllRanges(),_>A?(p.addRange(T),p.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),p.addRange(T))}}}}for(m=[],p=u;p=p.parentNode;)p.nodeType===1&&m.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<m.length;u++){var S=m[u];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}ka=!!Lr,Vr=Lr=null}finally{ne=l,ee.p=i,B.T=n}}t.current=e,Ie=2}}function Qp(){if(Ie===2){Ie=0;var t=Cn,e=Fi,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=B.T,B.T=null;var i=ee.p;ee.p=2;var l=ne;ne|=4;try{wp(t,e.alternate,e)}finally{ne=l,ee.p=i,B.T=n}}Ie=3}}function Wp(){if(Ie===4||Ie===3){Ie=0,Vy();var t=Cn,e=Fi,n=ki,i=Op;e.subtreeFlags&10256||e.flags&10256?Ie=5:(Ie=0,Fi=Cn=null,jp(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Tn=null),yu(n),e=e.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(io,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=B.T,l=ee.p,ee.p=2,B.T=null;try{for(var o=t.onRecoverableError,r=0;r<i.length;r++){var u=i[r];o(u.value,{componentStack:u.stack})}}finally{B.T=e,ee.p=l}}ki&3&&ls(),It(t),l=t.pendingLanes,n&4194090&&l&42?t===wr?Pl++:(Pl=0,wr=t):Pl=0,go(0)}}function jp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,co(e)))}function ls(t){return Kp(),Qp(),Wp(),eg()}function eg(){if(Ie!==5)return!1;var t=Cn,e=Dr;Dr=0;var n=yu(ki),i=B.T,l=ee.p;try{ee.p=32>n?32:n,B.T=null,n=br,br=null;var o=Cn,r=ki;if(Ie=0,Fi=Cn=null,ki=0,ne&6)throw Error(E(331));var u=ne;if(ne|=4,Gp(o.current),Pp(o,o.current,r,n),ne=u,go(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(io,o)}catch{}return!0}finally{ee.p=l,B.T=i,jp(t,e)}}function Cf(t,e,n){e=dt(n,e),e=Er(t.stateNode,e,2),t=vn(t,e,2),t!==null&&(oo(t,2),It(t))}function re(t,e,n){if(t.tag===3)Cf(t,t,n);else for(;e!==null;){if(e.tag===3){Cf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Tn===null||!Tn.has(i))){t=dt(n,t),n=yp(2),i=vn(e,n,2),i!==null&&(vp(n,i,e,t),oo(i,2),It(i));break}}e=e.return}}function Gs(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new u0;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(n)||(Xu=!0,l.add(n),t=h0.bind(null,t,e,n),e.then(t,t))}function h0(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ce===t&&(Q&n)===n&&(Te===4||Te===3&&(Q&62914560)===Q&&300>Dt()-Qu?!(ne&2)&&Yi(t,0):Ku|=n,Hi===Q&&(Hi=0)),It(t)}function tg(t,e){e===0&&(e=Km()),t=tl(t,e),t!==null&&(oo(t,e),It(t))}function p0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tg(t,n)}function g0(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(E(314))}i!==null&&i.delete(e),tg(t,n)}function y0(t,e){return pu(t,e)}var Ma=null,fi=null,kr=!1,Na=!1,zs=!1,Hn=0;function It(t){t!==fi&&t.next===null&&(fi===null?Ma=fi=t:fi=fi.next=t),Na=!0,kr||(kr=!0,T0())}function go(t,e){if(!zs&&Na){zs=!0;do for(var n=!1,i=Ma;i!==null;){if(t!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var r=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-nt(42|t)+1)-1,o&=l&~(r&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Sf(i,o))}else o=Q,o=Ja(i,i===ce?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||lo(i,o)||(n=!0,Sf(i,o));i=i.next}while(n);zs=!1}}function v0(){ng()}function ng(){Na=kr=!1;var t=0;Hn!==0&&(N0()&&(t=Hn),Hn=0);for(var e=Dt(),n=null,i=Ma;i!==null;){var l=i.next,o=ig(i,e);o===0?(i.next=null,n===null?Ma=l:n.next=l,l===null&&(fi=n)):(n=i,(t!==0||o&3)&&(Na=!0)),i=l}go(t)}function ig(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,l=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var r=31-nt(o),u=1<<r,c=l[r];c===-1?(!(u&n)||u&i)&&(l[r]=Fy(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}if(e=ce,n=Q,n=Ja(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(te===2||te===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ms(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||lo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&ms(i),yu(n)){case 2:case 8:n=Zm;break;case 32:n=ra;break;case 268435456:n=$m;break;default:n=ra}return i=lg.bind(null,t),n=pu(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&ms(i),t.callbackPriority=2,t.callbackNode=null,2}function lg(t,e){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ls()&&t.callbackNode!==n)return null;var i=Q;return i=Ja(t,t===ce?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Fp(t,i,e),ig(t,Dt()),t.callbackNode!=null&&t.callbackNode===n?lg.bind(null,t):null)}function Sf(t,e){if(ls())return null;Fp(t,e,!0)}function T0(){D0(function(){ne&6?pu(Jm,v0):ng()})}function ju(){return Hn===0&&(Hn=Xm()),Hn}function _f(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oo(""+t)}function xf(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function C0(t,e,n,i,l){if(e==="submit"&&n&&n.stateNode===l){var o=_f((l[Xe]||null).action),r=i.submitter;r&&(e=(e=r[Xe]||null)?_f(e.formAction):r.getAttribute("formAction"),e!==null&&(o=e,r=null));var u=new Za("action","action",null,i,l);t.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Hn!==0){var c=r?xf(l,r):new FormData(l);_r(n,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=r?xf(l,r):new FormData(l),_r(n,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var Os=0;Os<cr.length;Os++){var Hs=cr[Os],S0=Hs.toLowerCase(),_0=Hs[0].toUpperCase()+Hs.slice(1);Ct(S0,"on"+_0)}Ct(Th,"onAnimationEnd");Ct(Ch,"onAnimationIteration");Ct(Sh,"onAnimationStart");Ct("dblclick","onDoubleClick");Ct("focusin","onFocus");Ct("focusout","onBlur");Ct(Bv,"onTransitionRun");Ct(Gv,"onTransitionStart");Ct(zv,"onTransitionCancel");Ct(_h,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function og(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var r=i.length-1;0<=r;r--){var u=i[r],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Ca(d)}l.currentTarget=null,o=c}else for(r=0;r<i.length;r++){if(u=i[r],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Ca(d)}l.currentTarget=null,o=c}}}}function Z(t,e){var n=e[ir];n===void 0&&(n=e[ir]=new Set);var i=t+"__bubble";n.has(i)||(ag(e,t,2,!1),n.add(i))}function Fs(t,e,n){var i=0;e&&(i|=4),ag(n,t,i,e)}var wo="_reactListening"+Math.random().toString(36).slice(2);function ec(t){if(!t[wo]){t[wo]=!0,eh.forEach(function(n){n!=="selectionchange"&&(x0.has(n)||Fs(n,!1,t),Fs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wo]||(e[wo]=!0,Fs("selectionchange",!1,e))}}function ag(t,e,n,i){switch(vg(e)){case 2:var l=K0;break;case 8:l=Q0;break;default:l=lc}n=l.bind(null,e,n,t),l=void 0,!sr||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Ys(t,e,n,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var u=i.stateNode.containerInfo;if(u===l)break;if(r===4)for(r=i.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;u!==null;){if(r=pi(u),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){i=o=r;continue e}u=u.parentNode}}i=i.return}rh(function(){var f=o,d=Cu(n),m=[];e:{var h=xh.get(t);if(h!==void 0){var p=Za,C=t;switch(t){case"keypress":if(Fo(n)===0)break e;case"keydown":case"keyup":p=yv;break;case"focusin":C="focus",p=Ss;break;case"focusout":C="blur",p=Ss;break;case"beforeblur":case"afterblur":p=Ss;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ov;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Cv;break;case Th:case Ch:case Sh:p=rv;break;case _h:p=_v;break;case"scroll":case"scrollend":p=iv;break;case"wheel":p=Ev;break;case"copy":case"cut":case"paste":p=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=wc;break;case"toggle":case"beforetoggle":p=Mv}var _=(e&4)!==0,A=!_&&(t==="scroll"||t==="scrollend"),v=_?h!==null?h+"Capture":null:h;_=[];for(var y=f,T;y!==null;){var S=y;if(T=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||T===null||v===null||(S=zl(y,v),S!=null&&_.push($l(y,S,T))),A)break;y=y.return}0<_.length&&(h=new p(h,C,null,n,d),m.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==ar&&(C=n.relatedTarget||n.fromElement)&&(pi(C)||C[ji]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(C=n.relatedTarget||n.toElement,p=f,C=C?pi(C):null,C!==null&&(A=no(C),_=C.tag,C!==A||_!==5&&_!==27&&_!==6)&&(C=null)):(p=null,C=f),p!==C)){if(_=Dc,S="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=wc,S="onPointerLeave",v="onPointerEnter",y="pointer"),A=p==null?h:Cl(p),T=C==null?h:Cl(C),h=new _(S,y+"leave",p,n,d),h.target=A,h.relatedTarget=T,S=null,pi(d)===f&&(_=new _(v,y+"enter",C,n,d),_.target=T,_.relatedTarget=A,S=_),A=S,p&&C)t:{for(_=p,v=C,y=0,T=_;T;T=li(T))y++;for(T=0,S=v;S;S=li(S))T++;for(;0<y-T;)_=li(_),y--;for(;0<T-y;)v=li(v),T--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=li(_),v=li(v)}_=null}else _=null;p!==null&&Ef(m,h,p,_,!1),C!==null&&A!==null&&Ef(m,A,C,_,!0)}}e:{if(h=f?Cl(f):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var x=Lc;else if(Ic(h))if(hh)x=Vv;else{x=Iv;var b=kv}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Tu(f.elementType)&&(x=Lc):x=Lv;if(x&&(x=x(t,f))){mh(m,x,n,d);break e}b&&b(t,h,f),t==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&or(h,"number",h.value)}switch(b=f?Cl(f):window,t){case"focusin":(Ic(b)||b.contentEditable==="true")&&(vi=b,rr=f,Nl=null);break;case"focusout":Nl=rr=vi=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,Gc(m,n,d);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":Gc(m,n,d)}var N;if(xu)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else yi?fh(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(ch&&n.locale!=="ko"&&(yi||M!=="onCompositionStart"?M==="onCompositionEnd"&&yi&&(N=uh()):(mn=d,Su="value"in mn?mn.value:mn.textContent,yi=!0)),b=Ra(f,M),0<b.length&&(M=new bc(M,t,null,n,d),m.push({event:M,listeners:b}),N?M.data=N:(N=dh(n),N!==null&&(M.data=N)))),(N=Rv?Dv(t,n):bv(t,n))&&(M=Ra(f,"onBeforeInput"),0<M.length&&(b=new bc("onBeforeInput","beforeinput",null,n,d),m.push({event:b,listeners:M}),b.data=N)),C0(m,t,f,n,d)}og(m,e)})}function $l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ra(t,e){for(var n=e+"Capture",i=[];t!==null;){var l=t,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=zl(t,n),l!=null&&i.unshift($l(t,l,o)),l=zl(t,e),l!=null&&i.push($l(t,l,o))),t.tag===3)return i;t=t.return}return[]}function li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ef(t,e,n,i,l){for(var o=e._reactName,r=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=zl(n,o),f!=null&&r.unshift($l(n,f,c))):l||(f=zl(n,o),f!=null&&r.push($l(n,f,c)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var E0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Af(t){return(typeof t=="string"?t:""+t).replace(E0,`
`).replace(A0,"")}function sg(t,e){return e=Af(e),Af(t)===e}function os(){}function oe(t,e,n,i,l,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||qi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&qi(t,""+i);break;case"className":Eo(t,"class",i);break;case"tabIndex":Eo(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(t,n,i);break;case"style":sh(t,i,o);break;case"data":if(e!=="object"){Eo(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Oo(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&oe(t,e,"name",l.name,l,null),oe(t,e,"formEncType",l.formEncType,l,null),oe(t,e,"formMethod",l.formMethod,l,null),oe(t,e,"formTarget",l.formTarget,l,null)):(oe(t,e,"encType",l.encType,l,null),oe(t,e,"method",l.method,l,null),oe(t,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Oo(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=os);break;case"onScroll":i!=null&&Z("scroll",t);break;case"onScrollEnd":i!=null&&Z("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(E(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(E(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Oo(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":Z("beforetoggle",t),Z("toggle",t),zo(t,"popover",i);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":zo(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tv.get(n)||n,zo(t,n,i))}}function Ir(t,e,n,i,l,o){switch(n){case"style":sh(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(E(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(E(60));t.innerHTML=n}}break;case"children":typeof i=="string"?qi(t,i):(typeof i=="number"||typeof i=="bigint")&&qi(t,""+i);break;case"onScroll":i!=null&&Z("scroll",t);break;case"onScrollEnd":i!=null&&Z("scrollend",t);break;case"onClick":i!=null&&(t.onclick=os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!th.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),o=t[Xe]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,l);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):zo(t,n,i)}}}function Le(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Z("error",t),Z("load",t);var i=!1,l=!1,o;for(o in n)if(n.hasOwnProperty(o)){var r=n[o];if(r!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,e));default:oe(t,e,o,r,n,null)}}l&&oe(t,e,"srcSet",n.srcSet,n,null),i&&oe(t,e,"src",n.src,n,null);return;case"input":Z("invalid",t);var u=o=r=l=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":l=d;break;case"type":r=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(E(137,e));break;default:oe(t,e,i,d,n,null)}}lh(t,o,u,c,f,r,l,!1),ua(t);return;case"select":Z("invalid",t),i=r=o=null;for(l in n)if(n.hasOwnProperty(l)&&(u=n[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":r=u;break;case"multiple":i=u;default:oe(t,e,l,u,n,null)}e=o,n=r,t.multiple=!!i,e!=null?Ni(t,!!i,e,!1):n!=null&&Ni(t,!!i,n,!0);return;case"textarea":Z("invalid",t),o=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(E(91));break;default:oe(t,e,r,u,n,null)}ah(t,i,l,o),ua(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:oe(t,e,c,i,n,null)}return;case"dialog":Z("beforetoggle",t),Z("toggle",t),Z("cancel",t),Z("close",t);break;case"iframe":case"object":Z("load",t);break;case"video":case"audio":for(i=0;i<Zl.length;i++)Z(Zl[i],t);break;case"image":Z("error",t),Z("load",t);break;case"details":Z("toggle",t);break;case"embed":case"source":case"link":Z("error",t),Z("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,e));default:oe(t,e,f,i,n,null)}return;default:if(Tu(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Ir(t,e,d,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&oe(t,e,u,i,n,null))}function M0(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,r=null,u=null,c=null,f=null,d=null;for(p in n){var m=n[p];if(n.hasOwnProperty(p)&&m!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(p)||oe(t,e,p,null,i,m)}}for(var h in i){var p=i[h];if(m=n[h],i.hasOwnProperty(h)&&(p!=null||m!=null))switch(h){case"type":o=p;break;case"name":l=p;break;case"checked":f=p;break;case"defaultChecked":d=p;break;case"value":r=p;break;case"defaultValue":u=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(E(137,e));break;default:p!==m&&oe(t,e,h,p,i,m)}}lr(t,r,u,c,f,d,o,l);return;case"select":p=r=u=h=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(o)||oe(t,e,o,null,i,c)}for(l in i)if(o=i[l],c=n[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":r=o;default:o!==c&&oe(t,e,l,o,i,c)}e=u,n=r,i=p,h!=null?Ni(t,!!n,h,!1):!!i!=!!n&&(e!=null?Ni(t,!!n,e,!0):Ni(t,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(u in n)if(l=n[u],n.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:oe(t,e,u,null,i,l)}for(r in i)if(l=i[r],o=n[r],i.hasOwnProperty(r)&&(l!=null||o!=null))switch(r){case"value":h=l;break;case"defaultValue":p=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(E(91));break;default:l!==o&&oe(t,e,r,l,i,o)}oh(t,h,p);return;case"option":for(var C in n)if(h=n[C],n.hasOwnProperty(C)&&h!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:oe(t,e,C,null,i,h)}for(c in i)if(h=i[c],p=n[c],i.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:oe(t,e,c,h,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!i.hasOwnProperty(_)&&oe(t,e,_,null,i,h);for(f in i)if(h=i[f],p=n[f],i.hasOwnProperty(f)&&h!==p&&(h!=null||p!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(E(137,e));break;default:oe(t,e,f,h,i,p)}return;default:if(Tu(e)){for(var A in n)h=n[A],n.hasOwnProperty(A)&&h!==void 0&&!i.hasOwnProperty(A)&&Ir(t,e,A,void 0,i,h);for(d in i)h=i[d],p=n[d],!i.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||Ir(t,e,d,h,i,p);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!i.hasOwnProperty(v)&&oe(t,e,v,null,i,h);for(m in i)h=i[m],p=n[m],!i.hasOwnProperty(m)||h===p||h==null&&p==null||oe(t,e,m,h,i,p)}var Lr=null,Vr=null;function Da(t){return t.nodeType===9?t:t.ownerDocument}function Mf(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Pr(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Js=null;function N0(){var t=window.event;return t&&t.type==="popstate"?t===Js?!1:(Js=t,!0):(Js=null,!1)}var ug=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,Nf=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof Nf<"u"?function(t){return Nf.resolve(null).then(t).catch(b0)}:ug;function b0(t){setTimeout(function(){throw t})}function bn(t){return t==="head"}function Rf(t,e){var n=e,i=0,l=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<i&&8>i){n=i;var r=t.ownerDocument;if(n&1&&ql(r.documentElement),n&2&&ql(r.body),n&4)for(n=r.head,ql(n),r=n.firstChild;r;){var u=r.nextSibling,c=r.nodeName;r[ao]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=u}}if(l===0){t.removeChild(o),jl(e);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);jl(e)}function qr(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qr(n),vu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function w0(t,e,n,i){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ao])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=Tt(t.nextSibling),t===null)break}return null}function U0(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Tt(t.nextSibling),t===null))return null;return t}function Br(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function k0(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Tt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Gr=null;function Df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function cg(t,e,n){switch(e=Da(n),t){case"html":if(t=e.documentElement,!t)throw Error(E(452));return t;case"head":if(t=e.head,!t)throw Error(E(453));return t;case"body":if(t=e.body,!t)throw Error(E(454));return t;default:throw Error(E(451))}}function ql(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);vu(t)}var gt=new Map,bf=new Set;function ba(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wt=ee.d;ee.d={f:I0,r:L0,D:V0,C:P0,L:q0,m:B0,X:z0,S:G0,M:O0};function I0(){var t=Wt.f(),e=ns();return t||e}function L0(t){var e=el(t);e!==null&&e.tag===5&&e.type==="form"?ip(e):Wt.r(t)}var il=typeof document>"u"?null:document;function fg(t,e,n){var i=il;if(i&&typeof e=="string"&&e){var l=ft(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),bf.has(l)||(bf.add(l),t={rel:t,crossOrigin:n,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),Le(e,"link",t),be(e),i.head.appendChild(e)))}}function V0(t){Wt.D(t),fg("dns-prefetch",t,null)}function P0(t,e){Wt.C(t,e),fg("preconnect",t,e)}function q0(t,e,n){Wt.L(t,e,n);var i=il;if(i&&t&&e){var l='link[rel="preload"][as="'+ft(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+ft(n.imageSizes)+'"]')):l+='[href="'+ft(t)+'"]';var o=l;switch(e){case"style":o=Ji(t);break;case"script":o=ll(t)}gt.has(o)||(t=de({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),gt.set(o,t),i.querySelector(l)!==null||e==="style"&&i.querySelector(yo(o))||e==="script"&&i.querySelector(vo(o))||(e=i.createElement("link"),Le(e,"link",t),be(e),i.head.appendChild(e)))}}function B0(t,e){Wt.m(t,e);var n=il;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+ft(i)+'"][href="'+ft(t)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ll(t)}if(!gt.has(o)&&(t=de({rel:"modulepreload",href:t},e),gt.set(o,t),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(vo(o)))return}i=n.createElement("link"),Le(i,"link",t),be(i),n.head.appendChild(i)}}}function G0(t,e,n){Wt.S(t,e,n);var i=il;if(i&&t){var l=Mi(i).hoistableStyles,o=Ji(t);e=e||"default";var r=l.get(o);if(!r){var u={loading:0,preload:null};if(r=i.querySelector(yo(o)))u.loading=5;else{t=de({rel:"stylesheet",href:t,"data-precedence":e},n),(n=gt.get(o))&&tc(t,n);var c=r=i.createElement("link");be(c),Le(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Qo(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:u},l.set(o,r)}}}function z0(t,e){Wt.X(t,e);var n=il;if(n&&t){var i=Mi(n).hoistableScripts,l=ll(t),o=i.get(l);o||(o=n.querySelector(vo(l)),o||(t=de({src:t,async:!0},e),(e=gt.get(l))&&nc(t,e),o=n.createElement("script"),be(o),Le(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function O0(t,e){Wt.M(t,e);var n=il;if(n&&t){var i=Mi(n).hoistableScripts,l=ll(t),o=i.get(l);o||(o=n.querySelector(vo(l)),o||(t=de({src:t,async:!0,type:"module"},e),(e=gt.get(l))&&nc(t,e),o=n.createElement("script"),be(o),Le(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function wf(t,e,n,i){var l=(l=gn.current)?ba(l):null;if(!l)throw Error(E(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ji(n.href),n=Mi(l).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ji(n.href);var o=Mi(l).hoistableStyles,r=o.get(t);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,r),(o=l.querySelector(yo(t)))&&!o._p&&(r.instance=o,r.state.loading=5),gt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},gt.set(t,n),o||H0(l,t,n,r.state))),e&&i===null)throw Error(E(528,""));return r}if(e&&i!==null)throw Error(E(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ll(n),n=Mi(l).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,t))}}function Ji(t){return'href="'+ft(t)+'"'}function yo(t){return'link[rel="stylesheet"]['+t+"]"}function dg(t){return de({},t,{"data-precedence":t.precedence,precedence:null})}function H0(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Le(e,"link",n),be(e),t.head.appendChild(e))}function ll(t){return'[src="'+ft(t)+'"]'}function vo(t){return"script[async]"+t}function Uf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+ft(n.href)+'"]');if(i)return e.instance=i,be(i),i;var l=de({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),be(i),Le(i,"style",l),Qo(i,n.precedence,t),e.instance=i;case"stylesheet":l=Ji(n.href);var o=t.querySelector(yo(l));if(o)return e.state.loading|=4,e.instance=o,be(o),o;i=dg(n),(l=gt.get(l))&&tc(i,l),o=(t.ownerDocument||t).createElement("link"),be(o);var r=o;return r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Le(o,"link",i),e.state.loading|=4,Qo(o,n.precedence,t),e.instance=o;case"script":return o=ll(n.src),(l=t.querySelector(vo(o)))?(e.instance=l,be(l),l):(i=n,(l=gt.get(o))&&(i=de({},n),nc(i,l)),t=t.ownerDocument||t,l=t.createElement("script"),be(l),Le(l,"link",i),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(E(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Qo(i,n.precedence,t));return e.instance}function Qo(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,r=0;r<i.length;r++){var u=i[r];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function tc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function nc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Wo=null;function kf(t,e,n){if(Wo===null){var i=new Map,l=Wo=new Map;l.set(n,i)}else l=Wo,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var o=n[l];if(!(o[ao]||o[Pe]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var r=o.getAttribute(e)||"";r=t+r;var u=i.get(r);u?u.push(o):i.set(r,[o])}}return i}function If(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function F0(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function mg(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Xl=null;function Y0(){}function J0(t,e,n){if(Xl===null)throw Error(E(475));var i=Xl;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=Ji(n.href),o=t.querySelector(yo(l));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=wa.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,be(o);return}o=t.ownerDocument||t,n=dg(n),(l=gt.get(l))&&tc(n,l),o=o.createElement("link"),be(o);var r=o;r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Le(o,"link",n),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=wa.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function Z0(){if(Xl===null)throw Error(E(475));var t=Xl;return t.stylesheets&&t.count===0&&zr(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&zr(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function wa(){if(this.count--,this.count===0){if(this.stylesheets)zr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ua=null;function zr(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ua=new Map,e.forEach($0,t),Ua=null,wa.call(t))}function $0(t,e){if(!(e.state.loading&4)){var n=Ua.get(t);if(n)var i=n.get(null);else{n=new Map,Ua.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var r=l[o];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}l=e.instance,r=l.getAttribute("data-precedence"),o=n.get(r)||i,o===i&&n.set(null,l),n.set(r,l),this.count++,i=wa.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var Kl={$$typeof:Gt,Provider:null,Consumer:null,_currentValue:Pn,_currentValue2:Pn,_threadCount:0};function X0(t,e,n,i,l,o,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function hg(t,e,n,i,l,o,r,u,c,f,d,m){return t=new X0(t,e,n,r,u,c,f,m),e=1,o===!0&&(e|=24),o=et(3,null,null,e),t.current=o,o.stateNode=t,e=bu(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},Uu(o),t}function pg(t){return t?(t=Si,t):Si}function gg(t,e,n,i,l,o){l=pg(l),i.context===null?i.context=l:i.pendingContext=l,i=yn(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=vn(t,i,e),n!==null&&(lt(n,t,e),bl(n,t,e))}function Lf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ic(t,e){Lf(t,e),(t=t.alternate)&&Lf(t,e)}function yg(t){if(t.tag===13){var e=tl(t,67108864);e!==null&&lt(e,t,67108864),ic(t,67108864)}}var ka=!0;function K0(t,e,n,i){var l=B.T;B.T=null;var o=ee.p;try{ee.p=2,lc(t,e,n,i)}finally{ee.p=o,B.T=l}}function Q0(t,e,n,i){var l=B.T;B.T=null;var o=ee.p;try{ee.p=8,lc(t,e,n,i)}finally{ee.p=o,B.T=l}}function lc(t,e,n,i){if(ka){var l=Or(i);if(l===null)Ys(t,e,i,Ia,n),Vf(t,i);else if(j0(l,t,e,n,i))i.stopPropagation();else if(Vf(t,i),e&4&&-1<W0.indexOf(t)){for(;l!==null;){var o=el(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var r=kn(o.pendingLanes);if(r!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var c=1<<31-nt(r);u.entanglements[1]|=c,r&=~c}It(o),!(ne&6)&&(Ea=Dt()+500,go(0))}}break;case 13:u=tl(o,2),u!==null&&lt(u,o,2),ns(),ic(o,2)}if(o=Or(i),o===null&&Ys(t,e,i,Ia,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else Ys(t,e,i,null,n)}}function Or(t){return t=Cu(t),oc(t)}var Ia=null;function oc(t){if(Ia=null,t=pi(t),t!==null){var e=no(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Om(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ia=t,null}function vg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Py()){case Jm:return 2;case Zm:return 8;case ra:case qy:return 32;case $m:return 268435456;default:return 32}default:return 32}}var Hr=!1,Sn=null,_n=null,xn=null,Ql=new Map,Wl=new Map,fn=[],W0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vf(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ql.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function gl(t,e,n,i,l,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=el(e),e!==null&&yg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function j0(t,e,n,i,l){switch(e){case"focusin":return Sn=gl(Sn,t,e,n,i,l),!0;case"dragenter":return _n=gl(_n,t,e,n,i,l),!0;case"mouseover":return xn=gl(xn,t,e,n,i,l),!0;case"pointerover":var o=l.pointerId;return Ql.set(o,gl(Ql.get(o)||null,t,e,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,Wl.set(o,gl(Wl.get(o)||null,t,e,n,i,l)),!0}return!1}function Tg(t){var e=pi(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=Om(n),e!==null){t.blockedOn=e,Jy(t.priority,function(){if(n.tag===13){var i=it();i=gu(i);var l=tl(n,i);l!==null&&lt(l,n,i),ic(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Or(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ar=i,n.target.dispatchEvent(i),ar=null}else return e=el(n),e!==null&&yg(e),t.blockedOn=n,!1;e.shift()}return!0}function Pf(t,e,n){jo(t)&&n.delete(e)}function eT(){Hr=!1,Sn!==null&&jo(Sn)&&(Sn=null),_n!==null&&jo(_n)&&(_n=null),xn!==null&&jo(xn)&&(xn=null),Ql.forEach(Pf),Wl.forEach(Pf)}function Uo(t,e){t.blockedOn===e&&(t.blockedOn=null,Hr||(Hr=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,eT)))}var ko=null;function qf(t){ko!==t&&(ko=t,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,function(){ko===t&&(ko=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],l=t[e+2];if(typeof i!="function"){if(oc(i||n)===null)continue;break}var o=el(n);o!==null&&(t.splice(e,3),e-=3,_r(o,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function jl(t){function e(c){return Uo(c,t)}Sn!==null&&Uo(Sn,t),_n!==null&&Uo(_n,t),xn!==null&&Uo(xn,t),Ql.forEach(e),Wl.forEach(e);for(var n=0;n<fn.length;n++){var i=fn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Tg(n),n.blockedOn===null&&fn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],o=n[i+1],r=l[Xe]||null;if(typeof o=="function")r||qf(n);else if(r){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,r=o[Xe]||null)u=r.formAction;else if(oc(l)!==null)continue}else u=r.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),qf(n)}}}function ac(t){this._internalRoot=t}as.prototype.render=ac.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));var n=e.current,i=it();gg(n,i,t,e,null,null)};as.prototype.unmount=ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gg(t.current,2,null,t,null,null),ns(),e[ji]=null}};function as(t){this._internalRoot=t}as.prototype.unstable_scheduleHydration=function(t){if(t){var e=jm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fn.length&&e!==0&&e<fn[n].priority;n++);fn.splice(n,0,t),n===0&&Tg(t)}};var Bf=Gm.version;if(Bf!=="19.1.0")throw Error(E(527,Bf,"19.1.0"));ee.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=by(e),t=t!==null?Hm(t):null,t=t===null?null:t.stateNode,t};var tT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{io=Io.inject(tT),tt=Io}catch{}}Fa.createRoot=function(t,e){if(!zm(t))throw Error(E(299));var n=!1,i="",l=hp,o=pp,r=gp,u=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=hg(t,1,!1,null,null,n,i,l,o,r,u,null),t[ji]=e.current,ec(t),new ac(e)};Fa.hydrateRoot=function(t,e,n){if(!zm(t))throw Error(E(299));var i=!1,l="",o=hp,r=pp,u=gp,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=hg(t,1,!0,e,n??null,i,l,o,r,u,c,f),e.context=pg(null),n=e.current,i=it(),i=gu(i),l=yn(i),l.callback=null,vn(n,l,i),n=i,e.current.lanes=n,oo(e,n),It(e),t[ji]=e.current,ec(t),new as(e)};Fa.version="19.1.0";function Cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cg)}catch(t){console.error(t)}}Cg(),Im.exports=Fa;var nT=Im.exports;const Sg=Em(nT),_g=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.25 12h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1.5a.75.75 0 0 1 .75.75V3a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM12 21a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0v-.75a.75.75 0 0 1 .75-.75ZM4.06 4.06a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0Zm14.82 14.82a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0ZM1.5 12a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5H2.25A.75.75 0 0 1 1.5 12Zm21 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM4.06 19.94a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Zm14.82-14.82a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Z"})]}),iT=()=>g.jsxs("header",{className:"text-center my-8",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[g.jsx(_g,{className:"h-10 w-10 text-sky-500 dark:text-sky-400"}),g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-700 via-slate-800 to-black dark:from-slate-200 dark:via-slate-300 dark:to-slate-400",children:"Sales Call Analyzer (TH)"})]}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"วิเคราะห์การสนทนาการขายด้วย AI เพื่อเพิ่มโอกาสปิดการขายของคุณ"})]});var $e=(t=>(t.TEXT="text",t.AUDIO="audio",t))($e||{});const Gf=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),xg=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),lT=({onAnalyze:t,isLoading:e,currentInputMode:n,setCurrentInputMode:i,transcriptText:l,setTranscriptText:o,audioFile:r,setAudioFile:u,isDataConnected:c})=>{const f=p=>{p.target.files&&p.target.files[0]?u(p.target.files[0]):u(null)},d="bg-white/80 dark:bg-sky-500/10 backdrop-blur-sm text-sky-600 dark:text-sky-300 border-b-2 border-sky-500",m="border-b-2 border-transparent text-slate-500 hover:bg-slate-200/60 hover:border-slate-300 dark:text-slate-400 dark:hover:bg-white/10 dark:hover:border-transparent",h=e||!c||n===$e.TEXT&&!l.trim()||n===$e.AUDIO&&!r;return g.jsxs("div",{className:"p-6 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200 dark:border-white/10",children:[g.jsxs("div",{className:"mb-4 flex border-b border-slate-200 dark:border-white/10",children:[g.jsxs("button",{onClick:()=>i($e.TEXT),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===$e.TEXT?d:m} disabled:opacity-50`,children:[g.jsx(xg,{className:"inline-block h-5 w-5 mr-2"}),"วางข้อความถอดเสียง"]}),g.jsxs("button",{onClick:()=>i($e.AUDIO),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===$e.AUDIO?d:m} disabled:opacity-50`,children:[g.jsx(Gf,{className:"inline-block h-5 w-5 mr-2"}),"อัปโหลดไฟล์เสียง"]})]}),n===$e.TEXT&&g.jsx("textarea",{value:l,onChange:p=>o(p.target.value),placeholder:"วางข้อความที่ถอดเสียงจากการขายที่นี่ (ภาษาไทย)...",rows:10,className:"w-full p-3 bg-white/50 dark:bg-black/20 border border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-50 backdrop-blur-sm",disabled:e}),n===$e.AUDIO&&g.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-slate-400/60 dark:border-white/20 rounded-lg bg-white/20 dark:bg-black/20 backdrop-blur-sm",children:[g.jsx("input",{type:"file",accept:"audio/*",onChange:f,id:"audioUpload",className:"hidden",disabled:e}),g.jsxs("label",{htmlFor:"audioUpload",className:`cursor-pointer px-6 py-3 rounded-lg text-sm font-medium transition-colors duration-150 border
            ${e?"bg-slate-200 text-slate-500 border-slate-300":"bg-slate-50 hover:bg-slate-200/80 text-slate-700 border-slate-300 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 dark:border-white/20"}`,children:[g.jsx(Gf,{className:"inline-block h-5 w-5 mr-2"}),r?r.name:"เลือกไฟล์เสียง"]}),r&&g.jsxs("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-400",children:[r.name," (",(r.size/1024/1024).toFixed(2)," MB)"]}),g.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-500",children:"รองรับไฟล์ MP3, WAV, M4A, ฯลฯ"})]}),g.jsxs("button",{onClick:t,disabled:h,className:"mt-6 w-full flex items-center justify-center bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 disabled:transform-none",children:[g.jsx(_g,{className:"h-5 w-5 mr-2"}),e?"กำลังวิเคราะห์...":"เริ่มวิเคราะห์"]})]})},oT="ข้อมูลสินค้า",aT="ข้อมูลลูกค้า",sT="AnalysisLog",zf=(t,e)=>{if(!t||t.length<1)return{data:[],colMap:{}};const n=(t[0]||[]).map(l=>String(l||"").trim());if(e.some(l=>!n.includes(l)))throw new Error(`Missing required headers. Required: ${e.join(", ")}. Found: ${n.join(", ")}`);const i={};return n.forEach((l,o)=>{i[l]=o}),{data:t.slice(1),colMap:i}},Of=t=>{if(!t)return;if(t instanceof Date&&!isNaN(t.getTime())){const n=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return`${n}/${i}/${l}`}return String(t).trim()||void 0},rT=async(t,e)=>{var d;const n=[`'${oT}'!A:D`,`'${aT}'`],i=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${t}/values:batchGet?ranges=${n.join("&ranges=")}&key=${e}`);if(!i.ok){const m=await i.json();throw new Error(((d=m.error)==null?void 0:d.message)||`Failed to fetch from sheet, status: ${i.status}`)}const l=await i.json(),[o,r]=l.valueRanges,u=[],c=[];if(o.values){const{data:m}=zf(o.values,["ชื่อสินค้า","หมวดหมู่"]);m.forEach(h=>{const p=String(h[0]||"").trim(),C=String(h[1]||"").trim(),_=String(h[2]||"").trim(),A=String(h[3]||"").trim();p&&C&&u.push(`- ${p}: ${C}${A?` (พนักงาน: ${A})`:""}`),A&&_&&c.push({name:A,phone:_.replace(/\D/g,"")})})}const f=[];if(r.values){const{data:m,colMap:h}=zf(r.values,["เบอร์โทรศัพท์"]);m.forEach(p=>{p[h.เบอร์โทรศัพท์]&&f.push({phone:String(p[h.เบอร์โทรศัพท์]).trim().replace(/\D/g,""),date:Of(p[h.วันที่]),customerName:String(p[h.ชื่อลูกค้า]||"").trim()||void 0,salesperson:String(p[h.ผู้ขาย]||"").trim()||void 0,price:parseFloat(String(p[h.ราคา]||"0")),recipientName:String(p[h.ชื่อผู้รับ]||"").trim()||void 0,secondaryPhone:String(p[h.เบอร์สำรอง]||"").trim()||void 0,address:String(p[h.ที่อยู่]||"").trim()||void 0,province:String(p[h.จังหวัด]||"").trim()||void 0,postalCode:String(p[h.รหัสไปรษณีย์]||"").trim()||void 0,deliveryDate:Of(p[h.วันที่นัดส่ง]),deliveryRound:String(p[h.รอบ]||"").trim()||void 0,customerType:String(p[h.ประเภทลูกค้า]||"").trim()||void 0,product:String(p[h.สินค้า]||"").trim()||void 0,quantity:parseInt(String(p[h.จำนวน]||"0"),10)||void 0,customerId:String(p[h.ID_CUSTUMER]||"").trim()||void 0})})}return{productContext:u.join(`
`),salespersons:c,customerHistory:f}},uT=async(t,e,n,i)=>{var o,r;if(!Vn.auth2.getAuthInstance().isSignedIn.get())throw new Error("User is not signed in.");const l=[new Date().toISOString(),n??"N/A",e.situationalEvaluation.closingProbability,e.salespersonEvaluation.overallPerformanceScore,i??"N/A",e.strategicRecommendations.nextBestAction,e.situationalEvaluation.callOutcomeSummary,"https://ponuom.github.io/Sales-Call-Analyzer-TH-/"];try{await Vn.client.sheets.spreadsheets.values.append({spreadsheetId:t,range:`'${sT}'!A1`,valueInputOption:"USER_ENTERED",insertDataOption:"INSERT_ROWS",resource:{values:[l]}})}catch(u){throw console.error("Error writing to Google Sheet:",u),new Error(((r=(o=u.result)==null?void 0:o.error)==null?void 0:r.message)||"Failed to write to Google Sheet.")}},cT=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125V6.375m1.125 13.125A1.125 1.125 0 0 0 4.5 18.375h15A1.125 1.125 0 0 0 20.625 19.5m0 0A1.125 1.125 0 0 1 19.5 20.625h-15A1.125 1.125 0 0 1 3.375 19.5m0 0V6.375m0 0A1.125 1.125 0 0 1 4.5 5.25h15A1.125 1.125 0 0 1 20.625 6.375m0 0V19.5m0-13.125A1.125 1.125 0 0 0 19.5 5.25h-15A1.125 1.125 0 0 0 3.375 6.375m17.25 0H3.375"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 12.75h17.25"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5.25v15.375"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5.25v15.375"})]}),Hf=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),fT=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.311a6.01 6.01 0 0 1-1.5.189m1.5-.189a6.01 6.01 0 0 0 1.5.189m-1.5-3.75a6.01 6.01 0 0 1-1.5-.189m1.5.189a6.01 6.01 0 0 0 1.5-.189m-3.75-2.311a12.06 12.06 0 0 0 4.5 0m-4.5 0a12.06 12.06 0 0 1-4.5 0m0 0a12.06 12.06 0 0 0-4.5 0m4.5 0a12.06 12.06 0 0 1 4.5 0"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 0 1 6 0v2.25H9v-2.25Z"})]}),Ff=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),ea=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),ta=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Yf=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.82m5.84-2.56a12.025 12.025 0 0 1-4.25 6.01M15.34 9.59a6 6 0 0 1-2.12 7.38m3.06-5.26a12.025 12.025 0 0 1-4.25 6.01M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18Zm0 0a8.949 8.949 0 0 0 5.46-2.09M12 3a8.949 8.949 0 0 1 5.46 2.09m-5.46 16v-4.82"})}),dT=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3v11.25"})}),oi=({title:t,className:e=""})=>g.jsx("h2",{className:`text-sm font-bold text-slate-800 tracking-wider uppercase border-b-2 border-teal-500 pb-1 mb-3 ${e}`,children:t}),Lo=({label:t,value:e})=>g.jsxs("div",{className:"text-xs mb-1",children:[g.jsxs("span",{className:"font-semibold text-slate-600",children:[t,":"]}),g.jsx("span",{className:"text-slate-800 ml-1",children:e??"N/A"})]}),Vo=({label:t,value:e})=>g.jsxs("div",{className:"bg-slate-200/80 rounded-md px-2 py-1 flex justify-between items-center",children:[g.jsx("span",{className:"text-xs font-medium text-slate-700",children:t}),g.jsx("span",{className:"text-xs font-bold text-teal-700",children:e})]}),Jf=({items:t,type:e})=>{const n=e==="strength",i=n?"text-teal-600":"text-rose-600",l=n?g.jsx(ea,{className:`w-3.5 h-3.5 ${i}`}):g.jsx(ta,{className:`w-3.5 h-3.5 ${i}`});return g.jsx("ul",{className:"space-y-1.5",children:t&&t.length>0?t.map((o,r)=>g.jsxs("li",{className:"flex items-start text-xs",children:[g.jsx("span",{className:"mt-0.5 mr-1.5 shrink-0",children:l}),g.jsx("span",{className:"text-slate-700",children:o})]},r)):g.jsx("li",{className:"text-xs text-slate-500 italic ml-5",children:"ไม่มีข้อมูล"})})},mT=({result:t,callMetadata:e,salespersonName:n,onRendered:i})=>{const{salespersonEvaluation:l,customerEvaluation:o,situationalEvaluation:r,strategicRecommendations:u}=t;K.useEffect(()=>{const f=setTimeout(()=>{i()},500);return()=>clearTimeout(f)},[i]);const c=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e.sourcePhone;return g.jsx("div",{style:{fontFamily:"'Noto Sans Thai', sans-serif"},className:"w-[794px] bg-white text-black font-sans box-border text-slate-800 p-8",children:g.jsxs("div",{className:"flex gap-x-8",children:[g.jsxs("div",{className:"w-[65%]",children:[g.jsxs("header",{className:"mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:n??"Sales Analysis"}),g.jsx("p",{className:"text-md text-teal-600 font-medium",children:"รายงานสรุปผลการวิเคราะห์การขาย"})]}),g.jsxs("section",{className:"mb-6",children:[g.jsx(oi,{title:"Executive Summary"}),g.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:r.callOutcomeSummary})]}),g.jsxs("section",{children:[g.jsx(oi,{title:"Strategic Recommendations"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Next Best Action"}),g.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:u.nextBestAction})]}),u.detailedStrategy.map((f,d)=>g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-bold text-slate-700",children:f.recommendation}),g.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Success Probability: ",f.successProbability,"%"]}),g.jsx("p",{className:"text-xs text-slate-600",children:f.reasoning})]},d))]})]})]}),g.jsxs("div",{className:"w-[35%]",children:[g.jsxs("section",{className:"mb-5",children:[g.jsx(oi,{title:"Call Details"}),g.jsx(Lo,{label:"Date",value:e==null?void 0:e.date}),g.jsx(Lo,{label:"Time",value:e==null?void 0:e.time}),g.jsx(Lo,{label:"Salesperson",value:n}),g.jsx(Lo,{label:"Customer Phone",value:c})]}),g.jsxs("section",{className:"mb-5",children:[g.jsx(oi,{title:"Key Metrics"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Vo,{label:"Closing Probability",value:`${r.closingProbability}%`}),g.jsx(Vo,{label:"SP Performance",value:`${l.overallPerformanceScore}%`}),g.jsx(Vo,{label:"Customer Interest",value:`${o.interestLevel}/10`}),g.jsx(Vo,{label:"Closing Skill",value:`${l.closingSkillScore}/10`})]})]}),g.jsxs("section",{className:"mb-5",children:[g.jsx(oi,{title:"Salesperson Evaluation"}),g.jsx("h3",{className:"text-xs font-semibold text-slate-600 mb-1.5",children:"จุดแข็ง"}),g.jsx(Jf,{items:l.strengths,type:"strength"}),g.jsx("h3",{className:"text-xs font-semibold text-slate-600 mt-3 mb-1.5",children:"จุดที่ควรปรับปรุง"}),g.jsx(Jf,{items:l.areasForImprovement,type:"improvement"})]}),g.jsxs("section",{children:[g.jsx(oi,{title:"Customer Insights"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-xs text-slate-600",children:[g.jsx("strong",{className:"font-semibold",children:"Profile:"})," ",o.customerProfile]}),g.jsxs("p",{className:"text-xs text-slate-600",children:[g.jsx("strong",{className:"font-semibold",children:"Decision Factors:"})," ",o.decisionMakingFactors.join(", ")||"N/A"]})]})]})]})]})})},hT=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),ai=({title:t,icon:e,children:n})=>g.jsxs("div",{className:"bg-white/50 dark:bg-black/20 backdrop-blur-xl p-4 sm:p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:[g.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center text-sky-600 dark:text-sky-400",children:[e&&g.jsx("span",{className:"mr-3 h-6 w-6",children:e}),t]}),g.jsx("div",{className:"space-y-4",children:n})]}),Po=({value:t,max:e=10,label:n})=>{const i=t/e*100,l=i>70?"bg-green-500":i>40?"bg-yellow-500":"bg-red-500";return g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),g.jsxs("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:[t," / ",e]})]}),g.jsx("div",{className:"w-full bg-slate-200/70 dark:bg-slate-700/50 rounded-full h-2.5",children:g.jsx("div",{className:`${l} h-2.5 rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},Re=({label:t,value:e,className:n})=>g.jsxs("div",{className:`text-sm text-slate-600 dark:text-slate-400 ${n}`,children:[g.jsxs("strong",{className:"text-slate-800 dark:text-slate-200 font-medium",children:[t,":"]})," ",e??"N/A"]}),qo=({items:t,icon:e,className:n="text-green-500 dark:text-green-400",title:i})=>g.jsxs("div",{children:[i&&g.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:i}),g.jsx("ul",{className:"list-none p-0 space-y-2",children:t&&t.length>0?t.map((l,o)=>g.jsxs("li",{className:"flex items-start",children:[g.jsx("span",{className:`h-5 w-5 mr-2 mt-0.5 shrink-0 ${n}`,children:e}),g.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:l})]},o)):g.jsx("li",{className:"text-slate-500 dark:text-slate-500 italic ml-7",children:"ไม่มีข้อมูล"})})]}),pT=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:g.jsx("path",{fillRule:"evenodd",d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h1.148a1.5 1.5 0 0 1 1.465 1.175l.716 3.003a1.5 1.5 0 0 1-2.45 1.772l-.336-.297a11.026 11.026 0 0 0-3.21.323 1.5 1.5 0 0 1-.62.296l-1.12.503A1.5 1.5 0 0 1 2 9.172V5.513a1.5 1.5 0 0 1 0-1.002V3.5zm16.5-2.032a1.5 1.5 0 0 0-1.5 1.5v1.011c0 .338.036.67.106.99l-1.12.503a1.5 1.5 0 0 0-.62.296c-1.102-.19-2.18-.313-3.21-.323l-.336-.297a1.5 1.5 0 0 0-2.45 1.772l.716 3.003A1.5 1.5 0 0 0 8.852 18h2.296a1.5 1.5 0 0 0 1.465-1.175l.716-3.003a1.5 1.5 0 0 0-2.45-1.772l-.336.297c1.102.19 2.18.313 3.21.323l.336.297a1.5 1.5 0 0 0 2.45-1.772l-.716-3.003a1.5 1.5 0 0 0-1.447-1.296z",clipRule:"evenodd"})}),gT=({result:t,callMetadata:e,salespersonName:n,relevantHistory:i,isLoggedIn:l,googleSheetId:o})=>{const[r,u]=K.useState("คัดลอก CSV"),[c,f]=K.useState(!1),[d,m]=K.useState("idle"),{salespersonEvaluation:h,customerEvaluation:p,situationalEvaluation:C,strategicRecommendations:_,transcribedText:A}=t,v=n??(e?"ไม่พบชื่อ":null),y=M=>M==null?"":`"${String(M).replace(/"/g,'""')}"`,T=async()=>{const M=["วันที่โทร","เวลาโทร","ประเภทสาย","เบอร์ต้นทาง","เบอร์ปลายทาง","พนักงานขาย","SP Perf Score (%)","SP Strengths","SP Areas for Improvement","Cust Interest (1-10)","Cust Profile","Cust Pain Points","Cust Sentiment","Purchasing Behavior","Closing Probability (%)","Call Sentiment","Sales Stage","Call Outcome","Positive Signals","Negative Signals","Next Best Action","Suggested Offer","Detailed Strategy","Transcribed Text"],D=ge=>ge.map(se=>`${se.recommendation} (Success: ${se.successProbability}%)`).join("; "),w=ge=>(ge==null?void 0:ge.map(se=>`[${se.timestamp||"N/A"}] ${se.speaker}: ${se.utterance}`).join("; "))||"",q=ge=>ge?`Summary: ${ge.summary}; Freq: ${ge.buyingFrequency}; Volume: ${ge.typicalPurchaseVolume}; Price Sensitivity: ${ge.priceSensitivity}`:"",ue=[e==null?void 0:e.date,e==null?void 0:e.time,e==null?void 0:e.callType,e==null?void 0:e.sourcePhone,e==null?void 0:e.destinationPhone,v,h.overallPerformanceScore,h.strengths.join("; "),h.areasForImprovement.join("; "),p.interestLevel,p.customerProfile,p.painPointsIdentified.join("; "),p.customerSentiment,q(p.purchasingBehavior),C.closingProbability,C.callSentiment,C.currentSalesStage,C.callOutcomeSummary,C.positiveSignals.join("; "),C.negativeSignals.join("; "),_.nextBestAction,_.suggestedOffer,D(_.detailedStrategy),w(A)],Ve=[M.join(","),ue.map(y).join(",")].join(`
`);try{await navigator.clipboard.writeText(Ve),u("คัดลอกแล้ว!"),setTimeout(()=>u("คัดลอก CSV"),2e3)}catch{u("คัดลอกไม่สำเร็จ"),setTimeout(()=>u("คัดลอก CSV"),3e3)}},S=async()=>{if(!o){alert("กรุณาใส่ Google Sheet ID ก่อน");return}m("saving");try{const M=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e==null?void 0:e.sourcePhone;await uT(o,t,v,M),m("saved")}catch(M){console.error("Failed to save to sheet:",M),m("error")}},x=async()=>{f(!0);const M=document.createElement("div");M.style.position="fixed",M.style.left="0",M.style.top="0",M.style.zIndex="-1",M.style.opacity="0";const D=document.createElement("div");M.appendChild(D),document.body.appendChild(M);const w=Sg.createRoot(D);try{await new Promise(St=>{w.render(g.jsx(mT,{result:t,callMetadata:e,salespersonName:v,onRendered:St}))});const ue=(await oy(D,{scale:2.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),Ve=new ly("p","mm","a4"),ge=Ve.internal.pageSize.getWidth(),se=Ve.internal.pageSize.getHeight(),U=Ve.getImageProperties(ue),H=U.width/U.height;let I=ge,z=ge/H;z>se&&(z=se,I=se*H);const le=(ge-I)/2,Fe=(se-z)/2;Ve.addImage(ue,"PNG",le,Fe,I,z);const Lt=e!=null&&e.originalFilename?`Analysis_Report_${e.originalFilename.split(".")[0]}.pdf`:"Analysis_Report.pdf";Ve.save(Lt)}catch(q){console.error("Failed to generate PDF",q)}finally{w.unmount(),document.body.removeChild(M),f(!1)}},b=()=>{switch(d){case"saving":return"กำลังบันทึก...";case"saved":return"บันทึกแล้ว!";case"error":return"บันทึกไม่สำเร็จ";default:return"บันทึกลง Sheet"}},N=M=>g.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap space-y-2 max-h-72 overflow-y-auto bg-black/5 dark:bg-black/20 p-3 rounded-lg border border-slate-200 dark:border-white/10 pr-2",children:M&&M.length>0?M.map((D,w)=>g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[D.timestamp&&g.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500 w-full sm:w-24 shrink-0 mb-0.5 sm:mb-0 sm:mr-2 text-left sm:text-right",children:["[",D.timestamp,"]"]}),g.jsxs("p",{className:`flex-grow ${D.timestamp?"":"sm:pl-0"}`,children:[g.jsxs("strong",{className:"text-sky-600 dark:text-sky-400",children:[D.speaker||"ไม่ระบุ",":"]})," ",D.utterance]})]},w)):g.jsx("p",{className:"text-slate-500 dark:text-slate-400 italic",children:"ไม่มีข้อมูลการถอดเสียง"})});return g.jsxs("div",{className:"mt-8 space-y-6 animate-fadeIn",children:[g.jsxs("div",{className:"flex justify-end gap-2 sm:gap-4 flex-wrap",children:[g.jsxs("button",{onClick:S,disabled:!l||d==="saving"||d==="saved",title:l?"บันทึกผลการวิเคราะห์ลง Google Sheet":"กรุณาลงชื่อเข้าใช้ด้วย Google เพื่อบันทึก",className:`font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border
            ${d==="saved"?"bg-green-500/20 text-green-700 dark:text-green-200 border-green-500/30":""}
            ${d==="error"?"bg-red-500/20 text-red-700 dark:text-red-200 border-red-500/30":""}
            ${d==="idle"||d==="saving"?"bg-green-500/20 hover:bg-green-500/30 text-green-700 dark:bg-green-600/20 dark:hover:bg-green-600/30 dark:text-green-200 border-green-500/30 hover:border-green-500/40":""}
            disabled:opacity-50 disabled:cursor-not-allowed`,children:[g.jsx(hT,{className:"h-5 w-5 mr-2"}),b()]}),g.jsxs("button",{onClick:T,className:"bg-slate-200/60 hover:bg-slate-300/60 text-slate-700 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-slate-300/80 dark:border-white/20 hover:border-slate-400/80 dark:hover:border-white/30",children:[g.jsx(cT,{className:"h-5 w-5 mr-2"}),r]}),g.jsxs("button",{onClick:x,disabled:c,className:"bg-sky-500/20 hover:bg-sky-500/30 text-sky-700 dark:bg-sky-600/20 dark:hover:bg-sky-600/30 dark:text-sky-200 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-sky-500/30 hover:border-sky-500/40 disabled:opacity-50 disabled:cursor-wait",children:[g.jsx(dT,{className:"h-5 w-5 mr-2"}),c?"กำลังสร้าง PDF...":"ส่งออกเป็น PDF"]})]}),e&&g.jsx(ai,{title:"รายละเอียดการโทร",icon:g.jsx(pT,{className:"h-6 w-6"}),children:g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:[g.jsx(Re,{label:"วันที่",value:e.date}),g.jsx(Re,{label:"เวลา",value:e.time}),g.jsx(Re,{label:"ประเภท",value:e.callType}),g.jsx(Re,{label:"เบอร์ต้นทาง",value:e.sourcePhone}),g.jsx(Re,{label:"เบอร์ปลายทาง",value:e.destinationPhone}),g.jsx(Re,{label:"พนักงานขาย",value:v})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(ai,{title:"ประเมินสถานการณ์",icon:g.jsx(Ff,{}),children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsxs("p",{className:"text-5xl font-bold text-sky-600 dark:text-sky-300",children:[C.closingProbability,"%"]}),g.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"โอกาสในการปิดการขาย"})]}),g.jsx(Re,{label:"บรรยากาศการสนทนา",value:C.callSentiment}),g.jsx(Re,{label:"ขั้นตอนการขายปัจจุบัน",value:C.currentSalesStage}),g.jsx(Re,{label:"สรุปผลลัพธ์การโทร",value:C.callOutcomeSummary}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-white/10 mt-4",children:[g.jsx(qo,{items:C.positiveSignals,icon:g.jsx(ea,{}),className:"text-green-600 dark:text-green-400",title:"สัญญาณเชิงบวก"}),g.jsx(qo,{items:C.negativeSignals,icon:g.jsx(ta,{}),className:"text-red-600 dark:text-red-400",title:"สัญญาณเชิงลบ"})]})]}),g.jsxs(ai,{title:"ประเมินพนักงานขาย",icon:g.jsx(Hf,{}),children:[g.jsx(Po,{value:h.overallPerformanceScore,max:100,label:"คะแนนประสิทธิภาพโดยรวม"}),g.jsx(Po,{value:h.productKnowledgeScore,label:"ความรู้ในผลิตภัณฑ์"}),g.jsx(Po,{value:h.closingSkillScore,label:"ทักษะการปิดการขาย"}),g.jsx(Re,{label:"สไตล์การสื่อสาร",value:h.communicationStyle,className:"mt-4"})]})]}),g.jsxs(ai,{title:"ประเมินลูกค้า",icon:g.jsx(Hf,{className:"text-teal-500 dark:text-teal-400"}),children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"โปรไฟล์และ Sentiment"}),g.jsx(Po,{value:p.interestLevel,label:"ระดับความสนใจ"}),g.jsx(Re,{label:"โปรไฟล์ลูกค้า",value:p.customerProfile,className:"mt-4"}),g.jsx(Re,{label:"ความรู้สึกของลูกค้า",value:p.customerSentiment})]}),g.jsxs("div",{children:[g.jsx(qo,{items:p.painPointsIdentified,icon:g.jsx(ta,{}),className:"text-red-600 dark:text-red-400",title:"Pain Points ที่ระบุได้"}),g.jsx("div",{className:"mt-4",children:g.jsx(qo,{items:p.decisionMakingFactors,icon:g.jsx(ea,{}),className:"text-green-600 dark:text-green-400",title:"ปัจจัยในการตัดสินใจ"})})]}),p.purchasingBehavior&&g.jsxs("div",{className:"md:col-span-2 mt-4 pt-4 border-t border-slate-200 dark:border-white/10 space-y-2",children:[g.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"พฤติกรรมการซื้อ (จากประวัติ)"}),g.jsx(Re,{label:"สรุปการซื้อ",value:p.purchasingBehavior.summary}),g.jsx(Re,{label:"ความถี่ในการซื้อ",value:p.purchasingBehavior.buyingFrequency}),g.jsx(Re,{label:"ปริมาณการซื้อปกติ",value:p.purchasingBehavior.typicalPurchaseVolume}),g.jsx(Re,{label:"ความอ่อนไหวต่อราคา",value:p.purchasingBehavior.priceSensitivity})]})]}),i&&i.length>0&&g.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-white/10",children:[g.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"ประวัติการซื้อโดยละเอียด"}),g.jsx("div",{className:"overflow-x-auto max-h-64 bg-black/5 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"bg-slate-200/60 dark:bg-white/5 text-slate-700 dark:text-slate-300 sticky top-0 backdrop-blur-sm",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-2",children:"วันที่ขาย"}),g.jsx("th",{className:"px-4 py-2",children:"สินค้า"}),g.jsx("th",{className:"px-4 py-2",children:"ชื่อผู้รับ"}),g.jsx("th",{className:"px-4 py-2",children:"ที่อยู่"}),g.jsx("th",{className:"px-4 py-2",children:"จังหวัด"}),g.jsx("th",{className:"px-4 py-2 text-right",children:"จำนวน"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-white/10",children:i.map((M,D)=>g.jsxs("tr",{className:"hover:bg-slate-200/40 dark:hover:bg-white/5",children:[g.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:M.date||"-"}),g.jsx("td",{className:"px-4 py-2",children:M.product||"-"}),g.jsx("td",{className:"px-4 py-2",children:M.recipientName||"-"}),g.jsx("td",{className:"px-4 py-2 truncate max-w-xs",children:M.address||"-"}),g.jsx("td",{className:"px-4 py-2",children:M.province||"-"}),g.jsx("td",{className:"px-4 py-2 text-right",children:M.quantity!==void 0?M.quantity:"-"})]},D))})]})})]})]}),g.jsxs(ai,{title:"กลยุทธ์และคำแนะนำ",icon:g.jsx(Yf,{}),children:[g.jsx(Re,{label:"Next Best Action",value:_.nextBestAction}),g.jsx(Re,{label:"ข้อเสนอแนะ",value:_.suggestedOffer}),g.jsxs("div",{className:"mt-4",children:[g.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"กลยุทธ์โดยละเอียด:"}),g.jsx("div",{className:"space-y-3",children:_.detailedStrategy.map((M,D)=>g.jsxs("div",{className:"p-3 bg-white/50 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("p",{className:"font-semibold text-sky-700 dark:text-sky-300",children:M.recommendation}),g.jsxs("span",{className:"text-xs font-bold text-sky-800 dark:text-slate-200 bg-sky-200/70 dark:bg-sky-600/50 px-2 py-1 rounded-full",children:[M.successProbability,"% Success"]})]}),g.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:M.reasoning})]},D))})]})]}),A&&A.length>0&&g.jsx(ai,{title:"บทสนทนา",icon:g.jsx(xg,{}),children:N(A)}),g.jsxs("div",{style:{display:"none"},children:[g.jsx(fT,{})," ",g.jsx(Ff,{})," ",g.jsx(ea,{})," ",g.jsx(ta,{})," ",g.jsx(Yf,{})]}),g.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
      `}})]})},yT=()=>g.jsxs("div",{className:"flex flex-col items-center justify-center my-10 p-6",children:[g.jsxs("svg",{className:"animate-spin h-12 w-12 text-sky-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-300 text-lg",children:"กำลังวิเคราะห์ข้อมูล กรุณารอสักครู่..."})]}),vT=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),TT=({message:t})=>g.jsxs("div",{className:"my-6 p-4 bg-red-900/40 backdrop-blur-sm border border-red-700/60 text-red-300 rounded-lg flex items-start space-x-3 shadow-lg",children:[g.jsx(vT,{className:"h-6 w-6 text-red-400 flex-shrink-0 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-semibold text-red-200",children:"เกิดข้อผิดพลาด"}),g.jsx("p",{className:"text-sm",children:t})]})]}),CT=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),ST=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.243.096 3.222.261m3.478-.397L11.25 4.125M4.772 5.79L2.25 3m0 0a2.25 2.25 0 0 1 2.25-2.25h15A2.25 2.25 0 0 1 21.75 3m-19.5 0v.243a2.25 2.25 0 0 0 .167.807L4.772 5.79m14.456 0H4.772"})}),_T=({onDataContextChange:t,isLoading:e,googleSheetId:n,setGoogleSheetId:i})=>{const[l,o]=K.useState(!1),[r,u]=K.useState(null),[c,f]=K.useState(null),d=K.useCallback(async()=>{if(!n.trim()){u("กรุณาใส่ Google Sheet ID");return}o(!0),u(null),f(null),t(null);try{const p=await rT(n,"AIzaSyATZFV65oVONu6OYBvGRMHFETe673Q2A8w");t(p),f(`เชื่อมต่อสำเร็จ! โหลด ${p.salespersons.length} สินค้า, ${p.customerHistory.length} ประวัติลูกค้า`)}catch(p){console.error("Failed to fetch from Google Sheets:",p),p instanceof Error?u(`เชื่อมต่อไม่สำเร็จ: ${p.message}`):u("เกิดข้อผิดพลาดในการเชื่อมต่อกับ Google Sheets")}finally{o(!1)}},[n,t]),m=()=>{localStorage.removeItem("googleSheetId"),i(""),t(null),u(null),f("ตัดการเชื่อมต่อแล้ว AI จะใช้ความรู้ทั่วไป")},h=!!c&&!r;return g.jsxs("div",{className:"mb-6 p-4 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl border border-slate-200 dark:border-white/10 shadow-lg",children:[g.jsx("h3",{className:"text-base sm:text-md font-semibold text-sky-600 dark:text-sky-400 mb-2",children:"เชื่อมต่อ Google Sheet"}),g.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-3",children:["ใส่ ID ของ Google Sheet ที่มีชีทชื่อ ",g.jsx("b",{children:'"ข้อมูลสินค้า"'})," และ ",g.jsx("b",{children:'"ข้อมูลลูกค้า"'})," เพื่อให้ AI วิเคราะห์ได้เฉียบคมยิ่งขึ้น"]}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[g.jsxs("div",{className:"relative flex-grow",children:[g.jsx(CT,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),g.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value),placeholder:"วาง Google Sheet ID ที่นี่",disabled:e||l||h,className:"w-full pl-10 pr-4 py-2.5 bg-white/50 dark:bg-black/20 border border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-50","aria-label":"Google Sheet ID"})]}),h?g.jsxs("button",{onClick:m,disabled:e||l,className:"w-full sm:w-auto px-3 py-2.5 bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:bg-red-600/20 dark:hover:bg-red-600/30 dark:text-red-300 text-sm font-medium rounded-lg transition-colors duration-150 disabled:opacity-50 flex items-center justify-center border border-red-500/20 dark:border-red-500/30 hover:border-red-500/30 dark:hover:border-red-500/40","aria-label":"ล้างข้อมูลที่เชื่อมต่อ",children:[g.jsx(ST,{className:"h-5 w-5 mr-1 sm:mr-2 shrink-0"}),"ตัดการเชื่อมต่อ"]}):g.jsx("button",{onClick:d,disabled:e||l||!n.trim(),className:"w-full sm:w-auto px-4 py-2.5 bg-sky-600 hover:bg-sky-500 text-white text-sm font-medium rounded-lg transition-colors duration-150 disabled:opacity-50 disabled:cursor-wait",children:l?"กำลังเชื่อมต่อ...":"เชื่อมต่อ"})]}),r&&g.jsx("p",{className:"mt-2 text-xs text-red-400 dark:text-red-300 animate-fadeIn",children:r}),c&&!r&&g.jsx("p",{className:"mt-2 text-xs text-green-600 dark:text-green-300 animate-fadeIn",children:c}),!r&&!c&&!h&&g.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-500",children:"หากไม่มีการเชื่อมต่อ AI จะใช้ความรู้ทั่วไปในการวิเคราะห์"}),g.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out forwards; }
      `}})]})};var W;(function(t){t.assertEqual=l=>{};function e(l){}t.assertIs=e;function n(l){throw new Error}t.assertNever=n,t.arrayToEnum=l=>{const o={};for(const r of l)o[r]=r;return o},t.getValidEnumValues=l=>{const o=t.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),r={};for(const u of o)r[u]=l[u];return t.objectValues(r)},t.objectValues=l=>t.objectKeys(l).map(function(o){return l[o]}),t.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&o.push(r);return o},t.find=(l,o)=>{for(const r of l)if(o(r))return r},t.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(r=>typeof r=="string"?`'${r}'`:r).join(o)}t.joinValues=i,t.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(W||(W={}));var Zf;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Zf||(Zf={}));const L=W.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sn=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return Number.isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},R=W.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const r of o.issues)if(r.code==="invalid_union")r.unionErrors.map(l);else if(r.code==="invalid_return_type")l(r.returnTypeError);else if(r.code==="invalid_arguments")l(r.argumentsError);else if(r.path.length===0)i._errors.push(n(r));else{let u=i,c=0;for(;c<r.path.length;){const f=r.path[c];c===r.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(r))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof Qt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,W.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const l of this.issues)l.path.length>0?(n[l.path[0]]=n[l.path[0]]||[],n[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Qt.create=t=>new Qt(t);const Fr=(t,e)=>{let n;switch(t.code){case R.invalid_type:t.received===L.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,W.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${W.joinValues(t.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${W.joinValues(t.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${W.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:W.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case R.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case R.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=e.defaultError,W.assertNever(t)}return{message:n}};let xT=Fr;function ET(){return xT}const AT=t=>{const{data:e,path:n,errorMaps:i,issueData:l}=t,o=[...n,...l.path||[]],r={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(r,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function k(t,e){const n=ET(),i=AT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fr?void 0:Fr].filter(l=>!!l)});t.common.issues.push(i)}class Oe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const l of n){if(l.status==="aborted")return O;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const l of n){const o=await l.key,r=await l.value;i.push({key:o,value:r})}return Oe.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const l of n){const{key:o,value:r}=l;if(o.status==="aborted"||r.status==="aborted")return O;o.status==="dirty"&&e.dirty(),r.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof r.value<"u"||l.alwaysSet)&&(i[o.value]=r.value)}return{status:e.value,value:i}}}const O=Object.freeze({status:"aborted"}),_l=t=>({status:"dirty",value:t}),yt=t=>({status:"valid",value:t}),$f=t=>t.status==="aborted",Xf=t=>t.status==="dirty",Zi=t=>t.status==="valid",La=t=>typeof Promise<"u"&&t instanceof Promise;var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));class Ut{constructor(e,n,i,l){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Kf=(t,e)=>{if(Zi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qt(t.common.issues);return this._error=n,this._error}}};function F(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:l}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(r,u)=>{const{message:c}=t;return r.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:r.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:l}}class X{get description(){return this._def.description}_getType(e){return sn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:sn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Oe,ctx:{common:e.parent.common,data:e.data,parsedType:sn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(La(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sn(e)},l=this._parseSync({data:e,path:i.path,parent:i});return Kf(i,l)}"~validate"(e){var i,l;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sn(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Zi(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Zi(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sn(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(La(l)?l:Promise.resolve(l));return Kf(i,o)}refine(e,n){const i=l=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(l):n;return this._refinement((l,o)=>{const r=e(l),u=()=>o.addIssue({code:R.custom,...i(l)});return typeof Promise<"u"&&r instanceof Promise?r.then(c=>c?!0:(u(),!1)):r?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof n=="function"?n(i,l):n),!1))}_refinement(e){return new Ki({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return En.create(this,this._def)}nullable(){return Qi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wt.create(this)}promise(){return Ga.create(this,this._def)}or(e){return Pa.create([this,e],this._def)}and(e){return qa.create(this,e,this._def)}transform(e){return new Ki({...F(this._def),schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new $r({...F(this._def),innerType:this,defaultValue:n,typeName:G.ZodDefault})}brand(){return new $T({typeName:G.ZodBranded,type:this,...F(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Xr({...F(this._def),innerType:this,catchValue:n,typeName:G.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return sc.create(this,e)}readonly(){return Kr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MT=/^c[^\s-]{8,}$/i,NT=/^[0-9a-z]+$/,RT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bT=/^[a-z0-9_-]{21}$/i,wT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zs;const LT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,PT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,GT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Eg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zT=new RegExp(`^${Eg}$`);function Ag(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function OT(t){return new RegExp(`^${Ag(t)}$`)}function HT(t){let e=`${Eg}T${Ag(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function FT(t,e){return!!((e==="v4"||!e)&&LT.test(t)||(e==="v6"||!e)&&PT.test(t))}function YT(t,e){if(!wT.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function JT(t,e){return!!((e==="v4"||!e)&&VT.test(t)||(e==="v6"||!e)&&qT.test(t))}class Mt extends X{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==L.string){const o=this._getOrReturnCtx(e);return k(o,{code:R.invalid_type,expected:L.string,received:o.parsedType}),O}const i=new Oe;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),k(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),k(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const r=e.data.length>o.value,u=e.data.length<o.value;(r||u)&&(l=this._getOrReturnCtx(e,l),r?k(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&k(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")kT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"email",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")Zs||(Zs=new RegExp(IT,"u")),Zs.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"emoji",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")DT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"uuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")bT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"nanoid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")MT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"cuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")NT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"cuid2",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")RT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"ulid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),k(l,{validation:"url",code:R.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"regex",code:R.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),k(l,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),k(l,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),k(l,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?HT(o).test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{code:R.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?zT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{code:R.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?OT(o).test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{code:R.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?UT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"duration",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?FT(e.data,o.version)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"ip",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?YT(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"jwt",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?JT(e.data,o.version)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"cidr",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?BT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"base64",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?GT.test(e.data)||(l=this._getOrReturnCtx(e,l),k(l,{validation:"base64url",code:R.invalid_string,message:o.message}),i.dirty()):W.assertNever(o);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(l=>e.test(l),{validation:n,code:R.invalid_string,...V.errToObj(i)})}_addCheck(e){return new Mt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...V.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...V.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...V.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...V.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...V.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...V.errToObj(n)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mt.create=t=>new Mt({checks:[],typeName:G.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...F(t)});function ZT(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=n>i?n:i,o=Number.parseInt(t.toFixed(l).replace(".","")),r=Number.parseInt(e.toFixed(l).replace(".",""));return o%r/10**l}class $n extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==L.number){const o=this._getOrReturnCtx(e);return k(o,{code:R.invalid_type,expected:L.number,received:o.parsedType}),O}let i;const l=new Oe;for(const o of this._def.checks)o.kind==="int"?W.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?ZT(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),k(i,{code:R.not_finite,message:o.message}),l.dirty()):W.assertNever(o);return{status:l.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,i,l){return new $n({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:V.toString(l)}]})}_addCheck(e){return new $n({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&W.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}$n.create=t=>new $n({checks:[],typeName:G.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class Xn extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==L.bigint)return this._getInvalidInput(e);let i;const l=new Oe;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),k(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):W.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return k(n,{code:R.invalid_type,expected:L.bigint,received:n.parsedType}),O}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,i,l){return new Xn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:V.toString(l)}]})}_addCheck(e){return new Xn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xn.create=t=>new Xn({checks:[],typeName:G.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...F(t)});class Va extends X{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==L.boolean){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.boolean,received:i.parsedType}),O}return yt(e.data)}}Va.create=t=>new Va({typeName:G.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class $i extends X{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==L.date){const o=this._getOrReturnCtx(e);return k(o,{code:R.invalid_type,expected:L.date,received:o.parsedType}),O}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return k(o,{code:R.invalid_date}),O}const i=new Oe;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),k(l,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),k(l,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):W.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $i({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}$i.create=t=>new $i({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:G.ZodDate,...F(t)});class Qf extends X{_parse(e){if(this._getType(e)!==L.symbol){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.symbol,received:i.parsedType}),O}return yt(e.data)}}Qf.create=t=>new Qf({typeName:G.ZodSymbol,...F(t)});class Wf extends X{_parse(e){if(this._getType(e)!==L.undefined){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.undefined,received:i.parsedType}),O}return yt(e.data)}}Wf.create=t=>new Wf({typeName:G.ZodUndefined,...F(t)});class jf extends X{_parse(e){if(this._getType(e)!==L.null){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.null,received:i.parsedType}),O}return yt(e.data)}}jf.create=t=>new jf({typeName:G.ZodNull,...F(t)});class ed extends X{constructor(){super(...arguments),this._any=!0}_parse(e){return yt(e.data)}}ed.create=t=>new ed({typeName:G.ZodAny,...F(t)});class Yr extends X{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yt(e.data)}}Yr.create=t=>new Yr({typeName:G.ZodUnknown,...F(t)});class Rn extends X{_parse(e){const n=this._getOrReturnCtx(e);return k(n,{code:R.invalid_type,expected:L.never,received:n.parsedType}),O}}Rn.create=t=>new Rn({typeName:G.ZodNever,...F(t)});class td extends X{_parse(e){if(this._getType(e)!==L.undefined){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.void,received:i.parsedType}),O}return yt(e.data)}}td.create=t=>new td({typeName:G.ZodVoid,...F(t)});class wt extends X{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),l=this._def;if(n.parsedType!==L.array)return k(n,{code:R.invalid_type,expected:L.array,received:n.parsedType}),O;if(l.exactLength!==null){const r=n.data.length>l.exactLength.value,u=n.data.length<l.exactLength.value;(r||u)&&(k(n,{code:r?R.too_big:R.too_small,minimum:u?l.exactLength.value:void 0,maximum:r?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&n.data.length<l.minLength.value&&(k(n,{code:R.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&n.data.length>l.maxLength.value&&(k(n,{code:R.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((r,u)=>l.type._parseAsync(new Ut(n,r,n.path,u)))).then(r=>Oe.mergeArray(i,r));const o=[...n.data].map((r,u)=>l.type._parseSync(new Ut(n,r,n.path,u)));return Oe.mergeArray(i,o)}get element(){return this._def.type}min(e,n){return new wt({...this._def,minLength:{value:e,message:V.toString(n)}})}max(e,n){return new wt({...this._def,maxLength:{value:e,message:V.toString(n)}})}length(e,n){return new wt({...this._def,exactLength:{value:e,message:V.toString(n)}})}nonempty(e){return this.min(1,e)}}wt.create=(t,e)=>new wt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray,...F(e)});function di(t){if(t instanceof _e){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=En.create(di(i))}return new _e({...t._def,shape:()=>e})}else return t instanceof wt?new wt({...t._def,type:di(t.element)}):t instanceof En?En.create(di(t.unwrap())):t instanceof Qi?Qi.create(di(t.unwrap())):t instanceof Kn?Kn.create(t.items.map(e=>di(e))):t}class _e extends X{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=W.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==L.object){const f=this._getOrReturnCtx(e);return k(f,{code:R.invalid_type,expected:L.object,received:f.parsedType}),O}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:r}=this._getCached(),u=[];if(!(this._def.catchall instanceof Rn&&this._def.unknownKeys==="strip"))for(const f in l.data)r.includes(f)||u.push(f);const c=[];for(const f of r){const d=o[f],m=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Ut(l,m,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof Rn){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&(k(l,{code:R.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const m=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Ut(l,m,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const m=await d.key,h=await d.value;f.push({key:m,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Oe.mergeObjectSync(i,f)):Oe.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new _e({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var o,r;const l=((r=(o=this._def).errorMap)==null?void 0:r.call(o,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:V.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new _e({...this._def,unknownKeys:"strip"})}passthrough(){return new _e({...this._def,unknownKeys:"passthrough"})}extend(e){return new _e({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _e({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:G.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new _e({...this._def,catchall:e})}pick(e){const n={};for(const i of W.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new _e({...this._def,shape:()=>n})}omit(e){const n={};for(const i of W.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new _e({...this._def,shape:()=>n})}deepPartial(){return di(this)}partial(e){const n={};for(const i of W.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?n[i]=l:n[i]=l.optional()}return new _e({...this._def,shape:()=>n})}required(e){const n={};for(const i of W.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof En;)o=o._def.innerType;n[i]=o}return new _e({...this._def,shape:()=>n})}keyof(){return Mg(W.objectKeys(this.shape))}}_e.create=(t,e)=>new _e({shape:()=>t,unknownKeys:"strip",catchall:Rn.create(),typeName:G.ZodObject,...F(e)});_e.strictCreate=(t,e)=>new _e({shape:()=>t,unknownKeys:"strict",catchall:Rn.create(),typeName:G.ZodObject,...F(e)});_e.lazycreate=(t,e)=>new _e({shape:t,unknownKeys:"strip",catchall:Rn.create(),typeName:G.ZodObject,...F(e)});class Pa extends X{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const r=o.map(u=>new Qt(u.ctx.common.issues));return k(n,{code:R.invalid_union,unionErrors:r}),O}if(n.common.async)return Promise.all(i.map(async o=>{const r={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(l);{let o;const r=[];for(const c of i){const f={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&r.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=r.map(c=>new Qt(c));return k(n,{code:R.invalid_union,unionErrors:u}),O}}get options(){return this._def.options}}Pa.create=(t,e)=>new Pa({options:t,typeName:G.ZodUnion,...F(e)});function Jr(t,e){const n=sn(t),i=sn(e);if(t===e)return{valid:!0,data:t};if(n===L.object&&i===L.object){const l=W.objectKeys(e),o=W.objectKeys(t).filter(u=>l.indexOf(u)!==-1),r={...t,...e};for(const u of o){const c=Jr(t[u],e[u]);if(!c.valid)return{valid:!1};r[u]=c.data}return{valid:!0,data:r}}else if(n===L.array&&i===L.array){if(t.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<t.length;o++){const r=t[o],u=e[o],c=Jr(r,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return n===L.date&&i===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qa extends X{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=(o,r)=>{if($f(o)||$f(r))return O;const u=Jr(o.value,r.value);return u.valid?((Xf(o)||Xf(r))&&n.dirty(),{status:n.value,value:u.data}):(k(i,{code:R.invalid_intersection_types}),O)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,r])=>l(o,r)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}qa.create=(t,e,n)=>new qa({left:t,right:e,typeName:G.ZodIntersection,...F(n)});class Kn extends X{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.array)return k(i,{code:R.invalid_type,expected:L.array,received:i.parsedType}),O;if(i.data.length<this._def.items.length)return k(i,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&i.data.length>this._def.items.length&&(k(i,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...i.data].map((r,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Ut(i,r,i.path,u)):null}).filter(r=>!!r);return i.common.async?Promise.all(o).then(r=>Oe.mergeArray(n,r)):Oe.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Kn({...this._def,rest:e})}}Kn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kn({items:t,typeName:G.ZodTuple,rest:null,...F(e)})};class Ba extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.object)return k(i,{code:R.invalid_type,expected:L.object,received:i.parsedType}),O;const l=[],o=this._def.keyType,r=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new Ut(i,u,i.path,u)),value:r._parse(new Ut(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Oe.mergeObjectAsync(n,l):Oe.mergeObjectSync(n,l)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof X?new Ba({keyType:e,valueType:n,typeName:G.ZodRecord,...F(i)}):new Ba({keyType:Mt.create(),valueType:e,typeName:G.ZodRecord,...F(n)})}}class nd extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.map)return k(i,{code:R.invalid_type,expected:L.map,received:i.parsedType}),O;const l=this._def.keyType,o=this._def.valueType,r=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new Ut(i,u,i.path,[f,"key"])),value:o._parse(new Ut(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of r){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return O;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of r){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return O;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}}}}nd.create=(t,e,n)=>new nd({valueType:e,keyType:t,typeName:G.ZodMap,...F(n)});class eo extends X{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==L.set)return k(i,{code:R.invalid_type,expected:L.set,received:i.parsedType}),O;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(k(i,{code:R.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),n.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(k(i,{code:R.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),n.dirty());const o=this._def.valueType;function r(c){const f=new Set;for(const d of c){if(d.status==="aborted")return O;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new Ut(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>r(c)):r(u)}min(e,n){return new eo({...this._def,minSize:{value:e,message:V.toString(n)}})}max(e,n){return new eo({...this._def,maxSize:{value:e,message:V.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}eo.create=(t,e)=>new eo({valueType:t,minSize:null,maxSize:null,typeName:G.ZodSet,...F(e)});class Zr extends X{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Zr.create=(t,e)=>new Zr({getter:t,typeName:G.ZodLazy,...F(e)});class id extends X{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return k(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:e.data}}get value(){return this._def.value}}id.create=(t,e)=>new id({value:t,typeName:G.ZodLiteral,...F(e)});function Mg(t,e){return new Xi({values:t,typeName:G.ZodEnum,...F(e)})}class Xi extends X{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return k(n,{expected:W.joinValues(i),received:n.parsedType,code:R.invalid_type}),O}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return k(n,{received:n.data,code:R.invalid_enum_value,options:i}),O}return yt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Xi.create(e,{...this._def,...n})}exclude(e,n=this._def){return Xi.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}Xi.create=Mg;class ld extends X{_parse(e){const n=W.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==L.string&&i.parsedType!==L.number){const l=W.objectValues(n);return k(i,{expected:W.joinValues(l),received:i.parsedType,code:R.invalid_type}),O}if(this._cache||(this._cache=new Set(W.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=W.objectValues(n);return k(i,{received:i.data,code:R.invalid_enum_value,options:l}),O}return yt(e.data)}get enum(){return this._def.values}}ld.create=(t,e)=>new ld({values:t,typeName:G.ZodNativeEnum,...F(e)});class Ga extends X{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==L.promise&&n.common.async===!1)return k(n,{code:R.invalid_type,expected:L.promise,received:n.parsedType}),O;const i=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return yt(i.then(l=>this._def.type.parseAsync(l,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ga.create=(t,e)=>new Ga({type:t,typeName:G.ZodPromise,...F(e)});class Ki extends X{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:r=>{k(i,r),r.fatal?n.abort():n.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const r=l.transform(i.data,o);if(i.common.async)return Promise.resolve(r).then(async u=>{if(n.value==="aborted")return O;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?O:c.status==="dirty"||n.value==="dirty"?_l(c.value):c});{if(n.value==="aborted")return O;const u=this._def.schema._parseSync({data:r,path:i.path,parent:i});return u.status==="aborted"?O:u.status==="dirty"||n.value==="dirty"?_l(u.value):u}}if(l.type==="refinement"){const r=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?O:(u.status==="dirty"&&n.dirty(),r(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?O:(u.status==="dirty"&&n.dirty(),r(u.value).then(()=>({status:n.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Zi(r))return O;const u=l.transform(r.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>Zi(r)?Promise.resolve(l.transform(r.value,o)).then(u=>({status:n.value,value:u})):O);W.assertNever(l)}}Ki.create=(t,e,n)=>new Ki({schema:t,typeName:G.ZodEffects,effect:e,...F(n)});Ki.createWithPreprocess=(t,e,n)=>new Ki({schema:e,effect:{type:"preprocess",transform:t},typeName:G.ZodEffects,...F(n)});class En extends X{_parse(e){return this._getType(e)===L.undefined?yt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}En.create=(t,e)=>new En({innerType:t,typeName:G.ZodOptional,...F(e)});class Qi extends X{_parse(e){return this._getType(e)===L.null?yt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qi.create=(t,e)=>new Qi({innerType:t,typeName:G.ZodNullable,...F(e)});class $r extends X{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===L.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}$r.create=(t,e)=>new $r({innerType:t,typeName:G.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...F(e)});class Xr extends X{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return La(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Qt(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Qt(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Xr.create=(t,e)=>new Xr({innerType:t,typeName:G.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...F(e)});class od extends X{_parse(e){if(this._getType(e)!==L.nan){const i=this._getOrReturnCtx(e);return k(i,{code:R.invalid_type,expected:L.nan,received:i.parsedType}),O}return{status:"valid",value:e.data}}}od.create=t=>new od({typeName:G.ZodNaN,...F(t)});class $T extends X{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class sc extends X{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?O:o.status==="dirty"?(n.dirty(),_l(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?O:l.status==="dirty"?(n.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,n){return new sc({in:e,out:n,typeName:G.ZodPipeline})}}class Kr extends X{_parse(e){const n=this._def.innerType._parse(e),i=l=>(Zi(l)&&(l.value=Object.freeze(l.value)),l);return La(n)?n.then(l=>i(l)):i(n)}unwrap(){return this._def.innerType}}Kr.create=(t,e)=>new Kr({innerType:t,typeName:G.ZodReadonly,...F(e)});var G;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(G||(G={}));const Un=Mt.create,ad=$n.create;Xn.create;const XT=Va.create;$i.create;const sd=Yr.create;Rn.create;const xl=wt.create,KT=_e.create,QT=Pa.create;qa.create;Kn.create;const WT=Ba.create,jT=Zr.create,eC=Xi.create;Ga.create;En.create;Qi.create;const si={string:t=>Mt.create({...t,coerce:!0}),number:t=>$n.create({...t,coerce:!0}),boolean:t=>Va.create({...t,coerce:!0}),bigint:t=>Xn.create({...t,coerce:!0}),date:t=>$i.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tC,nC;function iC(){return{geminiUrl:tC,vertexUrl:nC}}function lC(t,e,n){var i,l,o;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const r=iC();return t.vertexai?(l=r.vertexUrl)!==null&&l!==void 0?l:e:(o=r.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ni{}function P(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function s(t,e,n){for(let o=0;o<e.length-1;o++){const r=e[o];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];s(d,e.slice(o+1),n[f])}else for(const f of c)s(f,e.slice(o+1),n)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];s(c[0],e.slice(o+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const o=t[l];return Array.isArray(o)?o.map(r=>a(r,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rd||(rd={}));var ud;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ud||(ud={}));var Nt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Nt||(Nt={}));var cd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(cd||(cd={}));var fd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(fd||(fd={}));var dd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(dd||(dd={}));var md;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(md||(md={}));var hd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hd||(hd={}));var pd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(pd||(pd={}));var gd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(gd||(gd={}));var yd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(yd||(yd={}));var vd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(vd||(vd={}));var Td;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Td||(Td={}));var za;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(za||(za={}));var Cd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Cd||(Cd={}));var Qr;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qr||(Qr={}));var Sd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sd||(Sd={}));var _d;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(_d||(_d={}));var xd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(xd||(xd={}));var Ed;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ed||(Ed={}));var Ad;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Ad||(Ad={}));var Md;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Md||(Md={}));var Nd;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Nd||(Nd={}));var Rd;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Rd||(Rd={}));var Dd;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Dd||(Dd={}));var bd;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bd||(bd={}));var wd;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wd||(wd={}));var Ud;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ud||(Ud={}));var kd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(kd||(kd={}));var Id;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Id||(Id={}));var Ld;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Ld||(Ld={}));var Vd;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Vd||(Vd={}));var Pd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Pd||(Pd={}));var qd;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qd||(qd={}));var Bd;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bd||(Bd={}));var Gd;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Gd||(Gd={}));var zd;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zd||(zd={}));var Od;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Od||(Od={}));var Hd;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hd||(Hd={}));var Ai;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ai||(Ai={}));class Wr{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class yl{get text(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const h of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,C]of Object.entries(h))p!=="text"&&p!=="thought"&&(C!==null||C!==void 0)&&m.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,p]of Object.entries(m))h!=="inlineData"&&(p!==null||p!==void 0)&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Fd{}class Yd{}class oC{}class aC{}class Jd{}class Zd{}class $d{}class sC{}class Xd{}class Kd{}class Qd{}class rC{}class uC{}class cC{}class Wd{}class fC{get text(){var e,n,i;let l="",o=!1;const r=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&r.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,n,i;let l="";const o=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(r))u!=="inlineData"&&c!==null&&o.push(u);r.inlineData&&typeof r.inlineData.data=="string"&&(l+=atob(r.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class dC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ie(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ng(t,e){const n=ie(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Rg(t){return Array.isArray(t)?t.map(e=>Oa(e)):[Oa(t)]}function Oa(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mC(t){const e=Oa(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function hC(t){const e=Oa(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jd(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Dg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jd(e)):[jd(t)]}function jr(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function em(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function tm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Be(t){if(t==null)throw new Error("ContentUnion is required");return jr(t)?t:{role:"user",parts:Dg(t)}}function bg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Be(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Be(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Be(n)):[Be(e)]}function ht(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(em(t)||tm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Be(t)]}const e=[],n=[],i=jr(t[0]);for(const l of t){const o=jr(l);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(l);else{if(em(l)||tm(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||e.push({role:"user",parts:Dg(n)}),e}const pC=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),nm=eC(["string","number","integer","object","array","boolean","null"]),gC=QT([nm,xl(nm)]);function yC(t=!0){const e=jT(()=>{const n=KT({type:gC.optional(),format:Un().optional(),title:Un().optional(),description:Un().optional(),default:sd().optional(),items:e.optional(),minItems:si.string().optional(),maxItems:si.string().optional(),enum:xl(sd()).optional(),properties:WT(Un(),e).optional(),required:xl(Un()).optional(),minProperties:si.string().optional(),maxProperties:si.string().optional(),propertyOrdering:xl(Un()).optional(),minimum:ad().optional(),maximum:ad().optional(),minLength:si.string().optional(),maxLength:si.string().optional(),pattern:Un().optional(),anyOf:xl(e).optional(),additionalProperties:XT().optional()});return t?n.strict():n});return e}function vC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Nt).includes(n[0].toUpperCase())?n[0].toUpperCase():Nt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Nt).includes(i.toUpperCase())?i.toUpperCase():Nt.TYPE_UNSPECIFIED})}}function Ii(t){const e={},n=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&vC(t.type,e);for(const[r,u]of Object.entries(t))if(u!=null)if(r=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Nt).includes(u.toUpperCase())?u.toUpperCase():Nt.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Ii(u);else if(i.includes(r)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Ii(f))}e[r]=c}else if(l.includes(r)){const c={};for(const[f,d]of Object.entries(u))c[f]=Ii(d);e[r]=c}else{if(r==="additionalProperties")continue;e[r]=u}return e}function to(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=yC().parse(t);return Ii(e)}else return Ii(t)}function rc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function uc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ol(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=to(e.parameters)),e.response&&(e.response=to(e.response));return t}function al(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function TC(t,e,n,i=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function jt(t,e){if(typeof e!="string")throw new Error("name must be a string");return TC(t,e,"cachedContents")}function wg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function en(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function CC(t){return t!=null&&typeof t=="object"&&"name"in t}function SC(t){return t!=null&&typeof t=="object"&&"video"in t}function _C(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ug(t){var e;let n;if(CC(t)&&(n=t.name),!(_C(t)&&(n=t.uri,n===void 0))&&!(SC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function kg(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ig(t){for(const e of["models","tunedModels","publisherModels"])if(xC(t,e))return t[e];return[]}function xC(t,e){return t!==null&&typeof t=="object"&&e in t}function EC(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Ii(ss(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function AC(t,e={}){const n=[],i=new Set;for(const l of t){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const r=EC(l,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function MC(t){const e=[];for(const n of t)e.push(ss(n));return e}function NC(t){const e={};for(const[n,i]of Object.entries(t)){const l=i;e[n]=ss(l)}return e}function ss(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,r]of Object.entries(t))if(e.has(o))l[o]=ss(r);else if(n.has(o))l[o]=MC(r);else if(i.has(o))l[o]=NC(r);else if(o==="type"){const u=r.toUpperCase();l[o]=Object.values(Nt).includes(u)?u:Nt.TYPE_UNSPECIFIED}else pC.has(o)&&(l[o]=r);return l}function Lg(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function RC(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rs(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Vg(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function bC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function wC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function UC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],DC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],bC(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],wC(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Pg(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>UC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function kC(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const p=a(t,["minItems"]);p!=null&&s(e,["minItems"],p);const C=a(t,["minLength"]);C!=null&&s(e,["minLength"],C);const _=a(t,["minProperties"]);_!=null&&s(e,["minProperties"],_);const A=a(t,["minimum"]);A!=null&&s(e,["minimum"],A);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const x=a(t,["required"]);x!=null&&s(e,["required"],x);const b=a(t,["title"]);b!=null&&s(e,["title"],b);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function IC(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function LC(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function VC(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function PC(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],VC(n)),e}function qC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function BC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],qC(n)),e}function GC(){return{}}function zC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>LC(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],PC(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],BC(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],GC());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function OC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function HC(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function FC(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],HC(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function YC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],OC(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],FC(i)),e}function JC(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function qg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],JC(n)),e}function ZC(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],qg(i)),e}function $C(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ZC(l))),s(e,["speakerVoiceConfigs"],i)}return e}function XC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],qg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],$C(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function KC(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function QC(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],Pg(Be(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const p=a(e,["presencePenalty"]);p!=null&&s(i,["presencePenalty"],p);const C=a(e,["frequencyPenalty"]);C!=null&&s(i,["frequencyPenalty"],C);const _=a(e,["seed"]);_!=null&&s(i,["seed"],_);const A=a(e,["responseMimeType"]);A!=null&&s(i,["responseMimeType"],A);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],kC(to(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(ue=>IC(ue))),s(n,["safetySettings"],q)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let q=al(S);Array.isArray(q)&&(q=q.map(ue=>zC(ol(ue)))),s(n,["tools"],q)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&s(n,["toolConfig"],YC(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&s(n,["cachedContent"],jt(t,b));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const M=a(e,["mediaResolution"]);M!=null&&s(i,["mediaResolution"],M);const D=a(e,["speechConfig"]);if(D!=null&&s(i,["speechConfig"],XC(rc(D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],KC(w)),i}function WC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["request","model"],ie(t,i));const l=a(e,["contents"]);if(l!=null){let r=ht(l);Array.isArray(r)&&(r=r.map(u=>Pg(u))),s(n,["request","contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["request","generationConfig"],QC(t,o,n)),n}function jC(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&s(n,["fileName"],i);const l=a(e,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>WC(t,r))),s(n,["requests","requests"],o)}return n}function eS(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&s(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tS(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["src"]);l!=null&&s(n,["batch","inputConfig"],jC(t,Lg(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],eS(o,n)),n}function nS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],rs(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function iS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],rs(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function lS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);if(e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function oS(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],lS(n,e)),e}function aS(t){const e={},n=a(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsSource","uris"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigquerySource","inputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sS(t){const e={},n=a(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsDestination","outputUriPrefix"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigqueryDestination","outputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function rS(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["dest"]);return e!==void 0&&l!=null&&s(e,["outputConfig"],sS(RC(l))),n}function uS(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],ie(t,i));const l=a(e,["src"]);l!=null&&s(n,["inputConfig"],aS(Lg(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],rS(o,n)),n}function cS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],rs(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function fS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],rs(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function dS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function mS(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],dS(n,e)),e}function hS(){return{}}function pS(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function gS(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function yS(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function vS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],pS(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],gS(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],yS(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function TS(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>vS(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function CS(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function SS(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function _S(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>SS(l))),s(e,["urlMetadata"],i)}return e}function xS(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],TS(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],CS(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],_S(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function ES(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>xS(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function AS(t){const e={},n=a(t,["response"]);return n!=null&&s(e,["response"],ES(n)),a(t,["error"])!=null&&s(e,["error"],hS()),e}function MS(t){const e={},n=a(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>AS(o))),s(e,["inlinedResponses"],l)}return e}function eu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["metadata","state"]);l!=null&&s(e,["state"],Vg(l));const o=a(t,["metadata","createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["metadata","endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["metadata","updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["metadata","model"]);c!=null&&s(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&s(e,["dest"],MS(f)),e}function NS(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>eu(o))),s(e,["batchJobs"],l)}return e}function RS(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const l=a(t,["message"]);return l!=null&&s(e,["message"],l),e}function DS(t){const e={},n=a(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigquerySource","inputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function bS(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigqueryDestination","outputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function tu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["state"]);l!=null&&s(e,["state"],Vg(l));const o=a(t,["error"]);o!=null&&s(e,["error"],RS(o));const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["startTime"]);u!=null&&s(e,["startTime"],u);const c=a(t,["endTime"]);c!=null&&s(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&s(e,["model"],d);const m=a(t,["inputConfig"]);m!=null&&s(e,["src"],DS(m));const h=a(t,["outputConfig"]);return h!=null&&s(e,["dest"],bS(h)),e}function wS(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>tu(o))),s(e,["batchJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Qn||(Qn={}));class To{constructor(e,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,l)}init(e,n,i){var l,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};i?typeof i=="object"?r=Object.assign({},i):r=i:r={config:{}},r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(o=(l=r.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class US extends ni{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new To(Qn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=uS(this.apiClient,e);return u=P("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>tu(d))}else{const f=tS(this.apiClient,e);return u=P("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>eu(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=cS(this.apiClient,e);return u=P("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>tu(d))}else{const f=nS(this.apiClient,e);return u=P("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>eu(d))}}async cancel(e){var n,i,l,o;let r="",u={};if(this.apiClient.isVertexAI()){const c=fS(this.apiClient,e);r=P("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=iS(this.apiClient,e);r=P("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=mS(e);return u=P("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=wS(d),h=new Wd;return Object.assign(h,m),h})}else{const f=oS(e);return u=P("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=NS(d),h=new Wd;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function IS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function LS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function VS(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],kS(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],IS(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],LS(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function im(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>VS(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function PS(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function qS(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function BS(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],qS(n)),e}function GS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function zS(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],GS(n)),e}function OS(){return{}}function HS(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>PS(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],BS(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],zS(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],OS());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function FS(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function YS(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function JS(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],YS(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function ZS(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],FS(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],JS(i)),e}function $S(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let d=ht(r);Array.isArray(d)&&(d=d.map(m=>im(m))),s(e,["contents"],d)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],im(Be(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>HS(m))),s(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&s(e,["toolConfig"],ZS(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function XS(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Ng(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],$S(l,n)),n}function KS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],jt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function QS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],jt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function WS(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function jS(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],jt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],WS(l,n)),n}function e_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function t_(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],e_(n,e)),e}function n_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function i_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function l_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function o_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],n_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],i_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],l_(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function lm(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>o_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function a_(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function s_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function r_(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],s_(n)),e}function u_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function c_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],u_(n)),e}function f_(){return{}}function d_(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function m_(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],d_(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function h_(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],m_(n)),e}function p_(){return{}}function g_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>a_(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],r_(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],c_(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],f_());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],h_(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],p_());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function y_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function v_(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function T_(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],v_(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function C_(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],y_(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],T_(i)),e}function S_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let m=ht(r);Array.isArray(m)&&(m=m.map(h=>lm(h))),s(e,["contents"],m)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],lm(Be(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>g_(h))),s(e,["tools"],m)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&s(e,["toolConfig"],C_(f));const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&s(e,["encryption_spec","kmsKeyName"],d),n}function __(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Ng(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],S_(l,n)),n}function x_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],jt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function E_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],jt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function A_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function M_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],jt(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],A_(l,n)),n}function N_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function R_(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],N_(n,e)),e}function na(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function D_(){return{}}function b_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>na(o))),s(e,["cachedContents"],l)}return e}function ia(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function w_(){return{}}function U_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>ia(o))),s(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k_ extends ni{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new To(Qn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=__(this.apiClient,e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ia(d))}else{const f=XS(this.apiClient,e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>na(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=x_(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ia(d))}else{const f=KS(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>na(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=E_(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=w_(),m=new Kd;return Object.assign(m,d),m})}else{const f=QS(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=D_(),m=new Kd;return Object.assign(m,d),m})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=M_(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ia(d))}else{const f=jS(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>na(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=R_(e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=U_(d),h=new Qd;return Object.assign(h,m),h})}else{const f=t_(e);return u=P("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=b_(d),h=new Qd;return Object.assign(h,m),h})}}}function om(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(t){return this instanceof fe?(this.v=t,this):new fe(t)}function Li(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),l[Symbol.asyncIterator]=function(){return this},l;function r(p){return function(C){return Promise.resolve(C).then(p,m)}}function u(p,C){i[p]&&(l[p]=function(_){return new Promise(function(A,v){o.push([p,_,A,v])>1||c(p,_)})},C&&(l[p]=C(l[p])))}function c(p,C){try{f(i[p](C))}catch(_){h(o[0][3],_)}}function f(p){p.value instanceof fe?Promise.resolve(p.value.v).then(d,m):h(o[0][2],p)}function d(p){c("next",p)}function m(p){c("throw",p)}function h(p,C){p(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Bl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof om=="function"?om(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(r){return new Promise(function(u,c){r=t[o](r),l(u,c,r.done,r.value)})}}function l(o,r,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I_(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Bg(n)}function Bg(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function L_(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function am(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let o=!0;for(;i<n&&t[i].role==="model";)l.push(t[i]),o&&!Bg(t[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class V_{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new P_(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class P_{constructor(e,n,i,l={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),L_(o)}async sendMessage(e){var n;await this.sendPromise;const i=Be(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,r,u;const c=await l,f=(r=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(m))!==null&&u!==void 0?u:[]);const p=f?[f]:[];this.recordHistory(i,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const i=Be(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?am(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,l;return Li(this,arguments,function*(){var r,u,c,f;const d=[];try{for(var m=!0,h=Bl(e),p;p=yield fe(h.next()),r=p.done,!r;m=!0){f=p.value,m=!1;const C=f;if(I_(C)){const _=(l=(i=C.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;_!==void 0&&d.push(_)}yield yield fe(C)}}catch(C){u={error:C}}finally{try{!m&&!r&&(c=h.return)&&(yield fe(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let l=[];n.length>0&&n.every(o=>o.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...am(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class us extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,us.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function B_(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],q_(n,e)),e}function G_(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function z_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const p=a(t,["source"]);p!=null&&s(e,["source"],p);const C=a(t,["videoMetadata"]);C!=null&&s(e,["videoMetadata"],C);const _=a(t,["error"]);return _!=null&&s(e,["error"],G_(_)),e}function O_(t){const e={},n=a(t,["file"]);n!=null&&s(e,["file"],z_(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function H_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Ug(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function F_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],Ug(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Y_(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function nu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const p=a(t,["source"]);p!=null&&s(e,["source"],p);const C=a(t,["videoMetadata"]);C!=null&&s(e,["videoMetadata"],C);const _=a(t,["error"]);return _!=null&&s(e,["error"],Y_(_)),e}function J_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>nu(o))),s(e,["files"],l)}return e}function Z_(){return{}}function $_(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X_ extends ni{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new To(Qn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>nu(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=B_(e);return o=P("files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=J_(c),d=new rC;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=O_(e);return o=P("upload/v1beta/files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=Z_(),f=new uC;return Object.assign(f,c),f})}}async get(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=H_(e);return o=P("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>nu(c))}}async delete(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=F_(e);return o=P("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=$_(),f=new cC;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K_(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Q_(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Gg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],K_(n)),e}function W_(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],Q_(n)),e}function j_(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Gg(i)),e}function ex(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>j_(l))),s(e,["speakerVoiceConfigs"],i)}return e}function tx(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Gg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],ex(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function nx(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],W_(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function ix(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function lx(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function ox(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function ax(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function sx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function rx(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ux(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],ix(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],ox(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],sx(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function cx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],lx(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],ax(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],rx(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function fx(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>ux(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function dx(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>cx(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function mx(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function hx(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function px(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function gx(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function yx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],px(n)),e}function vx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],gx(n)),e}function Tx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function Cx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function Sx(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],Tx(n)),e}function _x(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],Cx(n)),e}function xx(){return{}}function Ex(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function Ax(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],Ex(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function Mx(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],Ax(n)),e}function Nx(){return{}}function Rx(){return{}}function Dx(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>mx(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],yx(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],Sx(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],Nx());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function bx(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>hx(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],vx(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],_x(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],xx());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],Mx(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],Rx());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function wx(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ux(t){const e={},n=a(t,["handle"]);n!=null&&s(e,["handle"],n);const i=a(t,["transparent"]);return i!=null&&s(e,["transparent"],i),e}function sm(){return{}}function rm(){return{}}function kx(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function Ix(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function Lx(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],kx(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function Vx(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],Ix(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function Px(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function qx(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function Bx(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],Px(i)),e}function Gx(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],qx(i)),e}function zx(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function Ox(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function Hx(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],tx(uc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&s(e,["setup","systemInstruction"],fx(Be(p)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let x=al(C);Array.isArray(x)&&(x=x.map(b=>Dx(ol(b)))),s(e,["setup","tools"],x)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&s(e,["setup","sessionResumption"],wx(_));const A=a(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&s(e,["setup","inputAudioTranscription"],sm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],sm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],Lx(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],Bx(T));const S=a(t,["proactivity"]);return e!==void 0&&S!=null&&s(e,["setup","proactivity"],zx(S)),n}function Fx(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],nx(uc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&s(e,["setup","systemInstruction"],dx(Be(p)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let x=al(C);Array.isArray(x)&&(x=x.map(b=>bx(ol(b)))),s(e,["setup","tools"],x)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&s(e,["setup","sessionResumption"],Ux(_));const A=a(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&s(e,["setup","inputAudioTranscription"],rm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],rm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],Vx(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],Gx(T));const S=a(t,["proactivity"]);return e!==void 0&&S!=null&&s(e,["setup","proactivity"],Ox(S)),n}function Yx(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],Hx(l,n)),n}function Jx(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],Fx(l,n)),n}function Zx(){return{}}function $x(){return{}}function Xx(){return{}}function Kx(){return{}}function Qx(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Rg(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],hC(i));const l=a(t,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const o=a(t,["video"]);o!=null&&s(e,["video"],mC(o));const r=a(t,["text"]);return r!=null&&s(e,["text"],r),a(t,["activityStart"])!=null&&s(e,["activityStart"],Zx()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],Xx()),e}function Wx(t){const e={},n=a(t,["media"]);if(n!=null&&s(e,["mediaChunks"],Rg(n)),a(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=a(t,["audioStreamEnd"]);if(i!=null&&s(e,["audioStreamEnd"],i),a(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(t,["activityStart"])!=null&&s(e,["activityStart"],$x()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],Kx()),e}function zg(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function jx(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>zg(l))),s(e,["weightedPrompts"],i)}return e}function Og(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function e1(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],Og(n)),e}function Hg(t){const e={},n=a(t,["model"]);return n!=null&&s(e,["model"],n),e}function Fg(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>zg(l))),s(e,["weightedPrompts"],i)}return e}function iu(t){const e={},n=a(t,["setup"]);n!=null&&s(e,["setup"],Hg(n));const i=a(t,["clientContent"]);i!=null&&s(e,["clientContent"],Fg(i));const l=a(t,["musicGenerationConfig"]);l!=null&&s(e,["musicGenerationConfig"],Og(l));const o=a(t,["playbackControl"]);return o!=null&&s(e,["playbackControl"],o),e}function t1(){return{}}function n1(){return{}}function i1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function l1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function o1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function a1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function s1(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function r1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function u1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],i1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],o1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],s1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function c1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],l1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],a1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],r1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function f1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>u1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function d1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>c1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function um(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function cm(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function m1(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function h1(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>m1(l))),s(e,["urlMetadata"],i)}return e}function p1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],f1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],um(u));const c=a(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],um(c));const f=a(t,["urlContextMetadata"]);return f!=null&&s(e,["urlContextMetadata"],h1(f)),e}function g1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],d1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],cm(u));const c=a(t,["outputTranscription"]);return c!=null&&s(e,["outputTranscription"],cm(c)),e}function y1(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const i=a(t,["args"]);i!=null&&s(e,["args"],i);const l=a(t,["name"]);return l!=null&&s(e,["name"],l),e}function v1(t){const e={},n=a(t,["args"]);n!=null&&s(e,["args"],n);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function T1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>y1(l))),s(e,["functionCalls"],i)}return e}function C1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>v1(l))),s(e,["functionCalls"],i)}return e}function S1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function _1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function Bo(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function Go(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function x1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["responseTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Bo(p))),s(e,["promptTokensDetails"],h)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Bo(p))),s(e,["cacheTokensDetails"],h)}const d=a(t,["responseTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>Bo(p))),s(e,["responseTokensDetails"],h)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(p=>Bo(p))),s(e,["toolUsePromptTokensDetails"],h)}return e}function E1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["candidatesTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(C=>Go(C))),s(e,["promptTokensDetails"],p)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(C=>Go(C))),s(e,["cacheTokensDetails"],p)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(C=>Go(C))),s(e,["responseTokensDetails"],p)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(C=>Go(C))),s(e,["toolUsePromptTokensDetails"],p)}const h=a(t,["trafficType"]);return h!=null&&s(e,["trafficType"],h),e}function A1(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function M1(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function N1(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function R1(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function D1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],t1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],p1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],T1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],S1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],x1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],A1(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],N1(c)),e}function b1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],n1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],g1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],C1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],_1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],E1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],M1(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],R1(c)),e}function w1(){return{}}function U1(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function k1(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>U1(l))),s(e,["weightedPrompts"],i)}return e}function I1(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function L1(t){const e={},n=a(t,["clientContent"]);n!=null&&s(e,["clientContent"],k1(n));const i=a(t,["musicGenerationConfig"]);return i!=null&&s(e,["musicGenerationConfig"],I1(i)),e}function V1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const l=a(t,["sourceMetadata"]);return l!=null&&s(e,["sourceMetadata"],L1(l)),e}function P1(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>V1(l))),s(e,["audioChunks"],i)}return e}function q1(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["filteredReason"]);return i!=null&&s(e,["filteredReason"],i),e}function B1(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],w1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],P1(i));const l=a(t,["filteredPrompt"]);return l!=null&&s(e,["filteredPrompt"],q1(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function z1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function O1(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function H1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],G1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],z1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],O1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function cs(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>H1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function F1(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const p=a(t,["minItems"]);p!=null&&s(e,["minItems"],p);const C=a(t,["minLength"]);C!=null&&s(e,["minLength"],C);const _=a(t,["minProperties"]);_!=null&&s(e,["minProperties"],_);const A=a(t,["minimum"]);A!=null&&s(e,["minimum"],A);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const x=a(t,["required"]);x!=null&&s(e,["required"],x);const b=a(t,["title"]);b!=null&&s(e,["title"],b);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function Y1(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function J1(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function Z1(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function $1(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],Z1(n)),e}function X1(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function K1(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],X1(n)),e}function Q1(){return{}}function W1(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>J1(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],$1(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],K1(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],Q1());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function j1(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function eE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function tE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],eE(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function nE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],j1(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],tE(i)),e}function iE(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Yg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],iE(n)),e}function lE(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Yg(i)),e}function oE(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>lE(l))),s(e,["speakerVoiceConfigs"],i)}return e}function aE(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Yg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],oE(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function sE(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function rE(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],cs(Be(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const p=a(e,["presencePenalty"]);p!=null&&s(i,["presencePenalty"],p);const C=a(e,["frequencyPenalty"]);C!=null&&s(i,["frequencyPenalty"],C);const _=a(e,["seed"]);_!=null&&s(i,["seed"],_);const A=a(e,["responseMimeType"]);A!=null&&s(i,["responseMimeType"],A);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],F1(to(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let q=T;Array.isArray(q)&&(q=q.map(ue=>Y1(ue))),s(n,["safetySettings"],q)}const S=a(e,["tools"]);if(n!==void 0&&S!=null){let q=al(S);Array.isArray(q)&&(q=q.map(ue=>W1(ol(ue)))),s(n,["tools"],q)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&s(n,["toolConfig"],nE(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&s(n,["cachedContent"],jt(t,b));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const M=a(e,["mediaResolution"]);M!=null&&s(i,["mediaResolution"],M);const D=a(e,["speechConfig"]);if(D!=null&&s(i,["speechConfig"],aE(rc(D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=a(e,["thinkingConfig"]);return w!=null&&s(i,["thinkingConfig"],sE(w)),i}function fm(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["contents"]);if(l!=null){let r=ht(l);Array.isArray(r)&&(r=r.map(u=>cs(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],rE(t,o,n)),n}function uE(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["requests[]","taskType"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["requests[]","title"],l);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&s(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["contents"]);l!=null&&s(n,["requests[]","content"],bg(t,l));const o=a(e,["config"]);o!=null&&s(n,["config"],uE(o,n));const r=a(e,["model"]);return r!==void 0&&s(n,["requests[]","model"],ie(t,r)),n}function fE(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&s(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&s(e,["parameters","safetySetting"],r);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&s(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&s(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&s(e,["parameters","language"],d);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&s(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function dE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],fE(o,n)),n}function mE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function hE(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],kg(t,u)),i}function pE(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],hE(t,i,n)),n}function gE(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function yE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],gE(l,n)),n}function vE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function TE(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function CE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["contents"]);if(l!=null){let r=ht(l);Array.isArray(r)&&(r=r.map(u=>cs(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],TE(o)),n}function SE(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],en(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function _E(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=a(t,["durationSeconds"]);if(e!==void 0&&l!=null&&s(e,["parameters","durationSeconds"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);if(e!==void 0&&o!=null&&s(e,["parameters","aspectRatio"],o),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const r=a(t,["personGeneration"]);if(e!==void 0&&r!=null&&s(e,["parameters","personGeneration"],r),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&s(e,["parameters","negativePrompt"],u);const c=a(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&s(e,["parameters","enhancePrompt"],c),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function xE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&s(n,["instances[0]","image"],SE(o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=a(e,["config"]);return r!=null&&s(n,["config"],_E(r,n)),n}function EE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function AE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ME(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function NE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],EE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],AE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],ME(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function sl(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>NE(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function RE(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const p=a(t,["minItems"]);p!=null&&s(e,["minItems"],p);const C=a(t,["minLength"]);C!=null&&s(e,["minLength"],C);const _=a(t,["minProperties"]);_!=null&&s(e,["minProperties"],_);const A=a(t,["minimum"]);A!=null&&s(e,["minimum"],A);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const S=a(t,["propertyOrdering"]);S!=null&&s(e,["propertyOrdering"],S);const x=a(t,["required"]);x!=null&&s(e,["required"],x);const b=a(t,["title"]);b!=null&&s(e,["title"],b);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function DE(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function bE(t){const e={},n=a(t,["method"]);n!=null&&s(e,["method"],n);const i=a(t,["category"]);i!=null&&s(e,["category"],i);const l=a(t,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function wE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function UE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function kE(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],UE(n)),e}function IE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function LE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],IE(n)),e}function VE(){return{}}function PE(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function qE(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],PE(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function BE(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],qE(n)),e}function GE(){return{}}function Jg(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>wE(m))),s(e,["functionDeclarations"],d)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],kE(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],LE(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],VE());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],BE(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],GE());const f=a(t,["codeExecution"]);return f!=null&&s(e,["codeExecution"],f),e}function zE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function OE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function HE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],OE(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function FE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],zE(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],HE(i)),e}function YE(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function JE(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],YE(n)),e}function ZE(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],JE(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function $E(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function XE(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],sl(Be(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const p=a(e,["presencePenalty"]);p!=null&&s(i,["presencePenalty"],p);const C=a(e,["frequencyPenalty"]);C!=null&&s(i,["frequencyPenalty"],C);const _=a(e,["seed"]);_!=null&&s(i,["seed"],_);const A=a(e,["responseMimeType"]);A!=null&&s(i,["responseMimeType"],A);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],RE(to(v)));const y=a(e,["responseJsonSchema"]);y!=null&&s(i,["responseJsonSchema"],y);const T=a(e,["routingConfig"]);T!=null&&s(i,["routingConfig"],T);const S=a(e,["modelSelectionConfig"]);S!=null&&s(i,["modelConfig"],DE(S));const x=a(e,["safetySettings"]);if(n!==void 0&&x!=null){let se=x;Array.isArray(se)&&(se=se.map(U=>bE(U))),s(n,["safetySettings"],se)}const b=a(e,["tools"]);if(n!==void 0&&b!=null){let se=al(b);Array.isArray(se)&&(se=se.map(U=>Jg(ol(U)))),s(n,["tools"],se)}const N=a(e,["toolConfig"]);n!==void 0&&N!=null&&s(n,["toolConfig"],FE(N));const M=a(e,["labels"]);n!==void 0&&M!=null&&s(n,["labels"],M);const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],jt(t,D));const w=a(e,["responseModalities"]);w!=null&&s(i,["responseModalities"],w);const q=a(e,["mediaResolution"]);q!=null&&s(i,["mediaResolution"],q);const ue=a(e,["speechConfig"]);ue!=null&&s(i,["speechConfig"],ZE(rc(ue)));const Ve=a(e,["audioTimestamp"]);Ve!=null&&s(i,["audioTimestamp"],Ve);const ge=a(e,["thinkingConfig"]);return ge!=null&&s(i,["thinkingConfig"],$E(ge)),i}function dm(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["contents"]);if(l!=null){let r=ht(l);Array.isArray(r)&&(r=r.map(u=>sl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],XE(t,o,n)),n}function KE(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["instances[]","task_type"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["instances[]","title"],l);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&s(e,["parameters","outputDimensionality"],o);const r=a(t,["mimeType"]);e!==void 0&&r!=null&&s(e,["instances[]","mimeType"],r);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&s(e,["parameters","autoTruncate"],u),n}function QE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["contents"]);l!=null&&s(n,["instances[]","content"],bg(t,l));const o=a(e,["config"]);return o!=null&&s(n,["config"],KE(o,n)),n}function WE(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const p=a(t,["language"]);e!==void 0&&p!=null&&s(e,["parameters","language"],p);const C=a(t,["outputMimeType"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","mimeType"],C);const _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&s(e,["parameters","outputOptions","compressionQuality"],_);const A=a(t,["addWatermark"]);e!==void 0&&A!=null&&s(e,["parameters","addWatermark"],A);const v=a(t,["enhancePrompt"]);return e!==void 0&&v!=null&&s(e,["parameters","enhancePrompt"],v),n}function jE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],WE(o,n)),n}function fs(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&s(e,["bytesBase64Encoded"],en(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function eA(t){const e={},n=a(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&s(e,["maskClasses"],i);const l=a(t,["maskDilation"]);return l!=null&&s(e,["dilation"],l),e}function tA(t){const e={},n=a(t,["controlType"]);n!=null&&s(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&s(e,["computeControl"],i),e}function nA(t){const e={},n=a(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function iA(t){const e={},n=a(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const i=a(t,["subjectDescription"]);return i!=null&&s(e,["subjectDescription"],i),e}function lA(t){const e={},n=a(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],fs(n));const i=a(t,["referenceId"]);i!=null&&s(e,["referenceId"],i);const l=a(t,["referenceType"]);l!=null&&s(e,["referenceType"],l);const o=a(t,["maskImageConfig"]);o!=null&&s(e,["maskImageConfig"],eA(o));const r=a(t,["controlImageConfig"]);r!=null&&s(e,["controlImageConfig"],tA(r));const u=a(t,["styleImageConfig"]);u!=null&&s(e,["styleImageConfig"],nA(u));const c=a(t,["subjectImageConfig"]);return c!=null&&s(e,["subjectImageConfig"],iA(c)),e}function oA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const p=a(t,["language"]);e!==void 0&&p!=null&&s(e,["parameters","language"],p);const C=a(t,["outputMimeType"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","mimeType"],C);const _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&s(e,["parameters","outputOptions","compressionQuality"],_);const A=a(t,["editMode"]);e!==void 0&&A!=null&&s(e,["parameters","editMode"],A);const v=a(t,["baseSteps"]);return e!==void 0&&v!=null&&s(e,["parameters","editConfig","baseSteps"],v),n}function aA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>lA(c))),s(n,["instances[0]","referenceImages"],u)}const r=a(e,["config"]);return r!=null&&s(n,["config"],oA(r,n)),n}function sA(t,e){const n={},i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","mimeType"],l);const o=a(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&s(e,["parameters","outputOptions","compressionQuality"],o);const r=a(t,["enhanceInputImage"]);e!==void 0&&r!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],r);const u=a(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&s(e,["parameters","sampleCount"],c);const f=a(t,["mode"]);return e!==void 0&&f!=null&&s(e,["parameters","mode"],f),n}function rA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["image"]);l!=null&&s(n,["instances[0]","image"],fs(l));const o=a(e,["upscaleFactor"]);o!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],o);const r=a(e,["config"]);return r!=null&&s(n,["config"],sA(r,n)),n}function uA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function cA(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],kg(t,u)),i}function fA(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],cA(t,i,n)),n}function dA(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function mA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],dA(l,n)),n}function hA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function pA(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&s(e,["systemInstruction"],sl(Be(i)));const l=a(t,["tools"]);if(e!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>Jg(u))),s(e,["tools"],r)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&s(e,["generationConfig"],o),n}function gA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["contents"]);if(l!=null){let r=ht(l);Array.isArray(r)&&(r=r.map(u=>sl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],pA(o,n)),n}function yA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["contents"]);if(l!=null){let r=ht(l);Array.isArray(r)&&(r=r.map(u=>sl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function vA(t){const e={},n=a(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&s(e,["bytesBase64Encoded"],en(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function TA(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const o=a(t,["fps"]);e!==void 0&&o!=null&&s(e,["parameters","fps"],o);const r=a(t,["durationSeconds"]);e!==void 0&&r!=null&&s(e,["parameters","durationSeconds"],r);const u=a(t,["seed"]);e!==void 0&&u!=null&&s(e,["parameters","seed"],u);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&s(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&s(e,["parameters","negativePrompt"],h);const p=a(t,["enhancePrompt"]);e!==void 0&&p!=null&&s(e,["parameters","enhancePrompt"],p);const C=a(t,["generateAudio"]);e!==void 0&&C!=null&&s(e,["parameters","generateAudio"],C);const _=a(t,["lastFrame"]);e!==void 0&&_!=null&&s(e,["instances[0]","lastFrame"],fs(_));const A=a(t,["compressionQuality"]);return e!==void 0&&A!=null&&s(e,["parameters","compressionQuality"],A),n}function CA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ie(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&s(n,["instances[0]","image"],fs(o));const r=a(e,["video"]);r!=null&&s(n,["instances[0]","video"],vA(r));const u=a(e,["config"]);return u!=null&&s(n,["config"],TA(u,n)),n}function SA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function _A(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function xA(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function EA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],SA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],_A(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],xA(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function AA(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>EA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function MA(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function NA(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function RA(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>NA(l))),s(e,["urlMetadata"],i)}return e}function DA(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],AA(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],MA(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],RA(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function mm(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>DA(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function bA(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function wA(){return{}}function UA(t){const e={},n=a(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>bA(o))),s(e,["embeddings"],l)}return a(t,["metadata"])!=null&&s(e,["metadata"],wA()),e}function kA(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],en(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Zg(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function IA(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],kA(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);return l!=null&&s(e,["safetyAttributes"],Zg(l)),e}function LA(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>IA(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],Zg(i)),e}function VA(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function lu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["version"]);o!=null&&s(e,["version"],o);const r=a(t,["_self"]);r!=null&&s(e,["tunedModelInfo"],VA(r));const u=a(t,["inputTokenLimit"]);u!=null&&s(e,["inputTokenLimit"],u);const c=a(t,["outputTokenLimit"]);c!=null&&s(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);return f!=null&&s(e,["supportedActions"],f),e}function PA(t,e){const n={},i=a(e,["nextPageToken"]);i!=null&&s(n,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=Ig(l);Array.isArray(o)&&(o=o.map(r=>lu(r))),s(n,["models"],o)}return n}function qA(){return{}}function BA(t){const e={},n=a(t,["totalTokens"]);n!=null&&s(e,["totalTokens"],n);const i=a(t,["cachedContentTokenCount"]);return i!=null&&s(e,["cachedContentTokenCount"],i),e}function GA(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],en(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function zA(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],GA(n)),e}function OA(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>zA(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function HA(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],OA(r)),e}function FA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function YA(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function JA(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ZA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],FA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],YA(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],JA(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function $A(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>ZA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function XA(t){const e={},n=a(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function KA(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function QA(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>KA(l))),s(e,["urlMetadata"],i)}return e}function WA(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],$A(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],XA(i));const l=a(t,["finishMessage"]);l!=null&&s(e,["finishMessage"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],QA(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function hm(t){const e={},n=a(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>WA(f))),s(e,["candidates"],c)}const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["responseId"]);l!=null&&s(e,["responseId"],l);const o=a(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const r=a(t,["promptFeedback"]);r!=null&&s(e,["promptFeedback"],r);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function jA(t){const e={},n=a(t,["truncated"]);n!=null&&s(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&s(e,["tokenCount"],i),e}function eM(t){const e={},n=a(t,["values"]);n!=null&&s(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&s(e,["statistics"],jA(i)),e}function tM(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function nM(t){const e={},n=a(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>eM(o))),s(e,["embeddings"],l)}const i=a(t,["metadata"]);return i!=null&&s(e,["metadata"],tM(i)),e}function iM(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["imageBytes"],en(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function $g(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function cc(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],iM(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);l!=null&&s(e,["safetyAttributes"],$g(l));const o=a(t,["prompt"]);return o!=null&&s(e,["enhancedPrompt"],o),e}function lM(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>cc(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],$g(i)),e}function oM(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>cc(l))),s(e,["generatedImages"],i)}return e}function aM(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>cc(l))),s(e,["generatedImages"],i)}return e}function sM(t){const e={},n=a(t,["endpoint"]);n!=null&&s(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&s(e,["deployedModelId"],i),e}function rM(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function uM(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);return l!=null&&s(e,["step"],l),e}function ou(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["versionId"]);o!=null&&s(e,["version"],o);const r=a(t,["deployedModels"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>sM(h))),s(e,["endpoints"],m)}const u=a(t,["labels"]);u!=null&&s(e,["labels"],u);const c=a(t,["_self"]);c!=null&&s(e,["tunedModelInfo"],rM(c));const f=a(t,["defaultCheckpointId"]);f!=null&&s(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>uM(h))),s(e,["checkpoints"],m)}return e}function cM(t,e){const n={},i=a(e,["nextPageToken"]);i!=null&&s(n,["nextPageToken"],i);const l=a(e,["_self"]);if(l!=null){let o=Ig(l);Array.isArray(o)&&(o=o.map(r=>ou(r))),s(n,["models"],o)}return n}function fM(){return{}}function dM(t){const e={},n=a(t,["totalTokens"]);return n!=null&&s(e,["totalTokens"],n),e}function mM(t){const e={},n=a(t,["tokensInfo"]);return n!=null&&s(e,["tokensInfo"],n),e}function hM(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],en(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function pM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],hM(n)),e}function gM(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>pM(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function yM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],gM(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vM="Content-Type",TM="X-Server-Timeout",CM="User-Agent",au="x-goog-api-client",SM="1.7.0",_M=`google-genai-sdk/${SM}`,xM="v1beta1",EM="v1beta",pm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class AM{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:xM,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:EM,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))l.searchParams.append(r,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(n))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const l=new AbortController,o=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return n&&n.extraBody!==null&&MM(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await gm(l),new Wr(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await gm(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Li(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:c}=yield fe(l.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),p=h.status,C=h.code,_=`got status: ${p}. ${JSON.stringify(m)}`;if(C>=400&&C<600)throw new us({message:_,status:C})}}catch(m){if(m.name==="ApiError")throw m}r+=f;let d=r.match(pm);for(;d;){const m=d[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new Wr(h)),r=r.slice(d[0].length),d=r.match(pm)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=_M+" "+this.clientOptions.userAgentExtra;return e[CM]=n,e[au]=n,e[vM]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))n.append(i,l);e.timeout&&e.timeout>0&&n.append(TM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,r=await o.stat(e);l.sizeBytes=String(r.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},r=await this.request({path:P("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=r==null?void 0:r.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function gm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new us({message:l,status:n}):new Error(l)}}function MM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,r){const u=Object.assign({},o);for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const f=r[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const l=i(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NM="mcp_used/unknown";function Xg(t){for(const e of t)if(fc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Kg(t){var e;const n=(e=t[au])!==null&&e!==void 0?e:"";t[au]=(n+` ${NM}`).trimStart()}function RM(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>fc(l)))!==null&&i!==void 0?i:!1}function DM(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!fc(l)))!==null&&i!==void 0?i:!1}function fc(t){return t!==null&&typeof t=="object"&&t instanceof dc}function bM(t,e=100){return Li(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield fe(t.listTools({cursor:i}));for(const r of o.tools)yield yield fe(r),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class dc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new dc(e,n)}async initialize(){var e,n,i,l;if(this.mcpTools.length>0)return;const o={},r=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,Bl(bM(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const m=l;r.push(m);const h=m.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(m){n={error:m}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),AC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await l.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wM(t,e,n){const i=new dC;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const o=B1(l);Object.assign(i,o),e(i)}class UM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),r=LM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),m=e.callbacks,h=function(){f({})},p=this.apiClient,C={onopen:h,onmessage:T=>{wM(p,m.onmessage,T)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},_=this.webSocketFactory.create(c,IM(r),C);_.connect(),await d;const A=ie(this.apiClient,e.model),v=Hg({model:A}),y=iu({setup:v});return _.send(JSON.stringify(y)),new kM(_,this.apiClient)}}class kM{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=jx(e),i=Fg(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=e1(e),i=iu(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=iu({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ai.PLAY)}pause(){this.sendPlaybackControl(Ai.PAUSE)}stop(){this.sendPlaybackControl(Ai.STOP)}resetContext(){this.sendPlaybackControl(Ai.RESET_CONTEXT)}close(){this.conn.close()}}function IM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function LM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function PM(t,e,n){const i=new fC;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const o=JSON.parse(l);if(t.isVertexAI()){const r=b1(o);Object.assign(i,r)}else{const r=D1(o);Object.assign(i,r)}e(i)}class qM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new UM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,l,o,r,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Xg(e.config.tools)&&Kg(m);const h=OM(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const D=this.apiClient.getApiKey();let w="BidiGenerateContent",q="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),w="BidiGenerateContentConstrained",q="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${w}?${q}=${D}`}let p=()=>{};const C=new Promise(D=>{p=D}),_=e.callbacks,A=function(){var D;(D=_==null?void 0:_.onopen)===null||D===void 0||D.call(_),p({})},v=this.apiClient,y={onopen:A,onmessage:D=>{PM(v,_.onmessage,D)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(D){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(D){}},T=this.webSocketFactory.create(d,zM(h),y);T.connect(),await C;let S=ie(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const D=this.apiClient.getProject(),w=this.apiClient.getLocation();S=`projects/${D}/locations/${w}/`+S}let x={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[za.AUDIO]}:e.config.responseModalities=[za.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=(u=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[],N=[];for(const D of b)if(this.isCallableTool(D)){const w=D;N.push(await w.tool())}else N.push(D);N.length>0&&(e.config.tools=N);const M={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=Jx(this.apiClient,M):x=Yx(this.apiClient,M),delete x.config,T.send(JSON.stringify(x)),new GM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const BM={turnComplete:!0};class GM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ht(n.turns),e.isVertexAI()?i=i.map(l=>sl(l)):i=i.map(l=>cs(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(VM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},BM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Wx(e)}:n={realtimeInput:Qx(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function zM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function OM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ym=10;function vm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(la(r)){l=!0;break}if(!l)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function la(t){return"callTool"in t&&typeof t.callTool=="function"}function Tm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HM extends ni{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,l,o,r,u;const c=await this.processParamsForMcpUsage(n);if(!RM(n)||vm(n.config))return await this.generateContentInternal(c);if(DM(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=ht(c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:ym;let p=0;for(;p<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,_=[];for(const A of(u=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[])if(la(A)){const y=await A.callTool(f.functionCalls);_.push(...y)}p++,d={role:"user",parts:_},c.contents=ht(c.contents),c.contents.push(C),c.contents.push(d),Tm(c.config)&&(m.push(C),m.push(d))}return Tm(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(vm(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let o;const r=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:r.push(c);let u;return o?u={generatedImages:r,positivePromptSafetyAttributes:o}:u={generatedImages:r},u}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new To(Qn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var n,i,l;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const r=await Promise.all(o.map(async c=>la(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(u.config.tools=r,e.config&&e.config.tools&&Xg(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Kg(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,l;const o=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(la(r)){const u=r,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,i,l;const o=(l=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:ym;let r=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var h,p;return Li(this,arguments,function*(){for(var C,_,A,v;u<o;){r&&(u++,r=!1);const x=yield fe(f.processParamsForMcpUsage(m)),b=yield fe(f.generateContentStreamInternal(x)),N=[],M=[];try{for(var y=!0,T=(_=void 0,Bl(b)),S;S=yield fe(T.next()),C=S.done,!C;y=!0){v=S.value,y=!1;const D=v;if(yield yield fe(D),D.candidates&&(!((h=D.candidates[0])===null||h===void 0)&&h.content)){M.push(D.candidates[0].content);for(const w of(p=D.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(u<o&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(w.functionCall.name)){const q=yield fe(d.get(w.functionCall.name).callTool([w.functionCall]));N.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(D){_={error:D}}finally{try{!y&&!C&&(A=T.return)&&(yield fe(A.call(T)))}finally{if(_)throw _.error}}if(N.length>0){r=!0;const D=new yl;D.candidates=[{content:{role:"user",parts:N}}],yield yield fe(D);const w=[];w.push(...M),w.push({role:"user",parts:N});const q=ht(m.contents).concat(w);m.contents=q}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=dm(this.apiClient,e);return u=P("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=hm(d),h=new yl;return Object.assign(h,m),h})}else{const f=fm(this.apiClient,e);return u=P("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=mm(d),h=new yl;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=dm(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(m){return Li(this,arguments,function*(){var h,p,C,_;try{for(var A=!0,v=Bl(m),y;y=yield fe(v.next()),h=y.done,!h;A=!0){_=y.value,A=!1;const S=hm(yield fe(_.json())),x=new yl;Object.assign(x,S),yield yield fe(x)}}catch(T){p={error:T}}finally{try{!A&&!h&&(C=v.return)&&(yield fe(C.call(v)))}finally{if(p)throw p.error}}})})}else{const f=fm(this.apiClient,e);return u=P("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(m){return Li(this,arguments,function*(){var h,p,C,_;try{for(var A=!0,v=Bl(m),y;y=yield fe(v.next()),h=y.done,!h;A=!0){_=y.value,A=!1;const S=mm(yield fe(_.json())),x=new yl;Object.assign(x,S),yield yield fe(x)}}catch(T){p={error:T}}finally{try{!A&&!h&&(C=v.return)&&(yield fe(C.call(v)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=QE(this.apiClient,e);return u=P("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=nM(d),h=new Fd;return Object.assign(h,m),h})}else{const f=cE(this.apiClient,e);return u=P("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=UA(d),h=new Fd;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=jE(this.apiClient,e);return u=P("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=lM(d),h=new Yd;return Object.assign(h,m),h})}else{const f=dE(this.apiClient,e);return u=P("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=LA(d),h=new Yd;return Object.assign(h,m),h})}}async editImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=aA(this.apiClient,e);return o=P("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=oM(c),d=new oC;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=rA(this.apiClient,e);return o=P("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=aM(c),d=new aC;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=uA(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ou(d))}else{const f=mE(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>lu(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=fA(this.apiClient,e);return u=P("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=cM(this.apiClient,d),h=new Jd;return Object.assign(h,m),h})}else{const f=pE(this.apiClient,e);return u=P("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=PA(this.apiClient,d),h=new Jd;return Object.assign(h,m),h})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=mA(this.apiClient,e);return u=P("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ou(d))}else{const f=yE(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>lu(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=hA(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=fM(),m=new Zd;return Object.assign(m,d),m})}else{const f=vE(this.apiClient,e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=qA(),m=new Zd;return Object.assign(m,d),m})}}async countTokens(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=gA(this.apiClient,e);return u=P("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=dM(d),h=new $d;return Object.assign(h,m),h})}else{const f=CE(this.apiClient,e);return u=P("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=BA(d),h=new $d;return Object.assign(h,m),h})}}async computeTokens(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=yA(this.apiClient,e);return o=P("{model}:computeTokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=mM(c),d=new sC;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=CA(this.apiClient,e);return u=P("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>yM(d))}else{const f=xE(this.apiClient,e);return u=P("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>HA(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function YM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function JM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["operationName"],n);const i=a(t,["resourceName"]);i!=null&&s(e,["_url","resourceName"],i);const l=a(t,["config"]);return l!=null&&s(e,["config"],l),e}function ZM(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],en(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function $M(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],ZM(n)),e}function XM(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>$M(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function KM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],XM(r)),e}function QM(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],en(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function WM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],QM(n)),e}function jM(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>WM(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function Cm(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],jM(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2 extends ni{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=YM(e);return u=P("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Cm(d))}else{const f=FM(e);return u=P("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>KM(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=JM(e);return o=P("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Cm(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t2(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Qg(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],t2(n)),e}function n2(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Qg(i)),e}function i2(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>n2(l))),s(e,["speakerVoiceConfigs"],i)}return e}function l2(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Qg(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],i2(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function o2(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function a2(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function s2(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function r2(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],o2(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],a2(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],s2(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function u2(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>r2(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function c2(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function f2(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function d2(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],f2(n)),e}function m2(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function h2(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],m2(n)),e}function p2(){return{}}function g2(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>c2(c))),s(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],d2(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],h2(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],p2());const r=a(t,["codeExecution"]);return r!=null&&s(e,["codeExecution"],r),e}function y2(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sm(){return{}}function v2(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function T2(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],v2(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function C2(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function S2(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],C2(i)),e}function _2(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function x2(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],l2(uc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&s(e,["setup","systemInstruction"],u2(Be(p)));const C=a(t,["tools"]);if(e!==void 0&&C!=null){let x=al(C);Array.isArray(x)&&(x=x.map(b=>g2(ol(b)))),s(e,["setup","tools"],x)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&s(e,["setup","sessionResumption"],y2(_));const A=a(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&s(e,["setup","inputAudioTranscription"],Sm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Sm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],T2(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],S2(T));const S=a(t,["proactivity"]);return e!==void 0&&S!=null&&s(e,["setup","proactivity"],_2(S)),n}function E2(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ie(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],x2(l,n)),n}function A2(t,e,n){const i={},l=a(e,["expireTime"]);n!==void 0&&l!=null&&s(n,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&s(n,["newSessionExpireTime"],o);const r=a(e,["uses"]);n!==void 0&&r!=null&&s(n,["uses"],r);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&s(n,["bidiGenerateContentSetup"],E2(t,u));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&s(n,["fieldMask"],c),i}function M2(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],A2(t,i,n)),n}function N2(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R2(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${n}.${o}`);e.push(...l)}else e.push(n)}return e.join(",")}function D2(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const o=R2(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>r.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class b2 extends ni{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=M2(this.apiClient,e);o=P("auth_tokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query;const c=D2(u,e.config);return l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>N2(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function U2(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function k2(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],U2(n,e)),e}function I2(t){const e={},n=a(t,["textInput"]);n!=null&&s(e,["textInput"],n);const i=a(t,["output"]);return i!=null&&s(e,["output"],i),e}function L2(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>I2(l))),s(e,["examples","examples"],i)}return e}function V2(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&s(e,["displayName"],i),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&s(e,["tuningTask","hyperparameters","epochCount"],l);const o=a(t,["learningRateMultiplier"]);if(o!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","batchSize"],r);const u=a(t,["learningRate"]);return e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","learningRate"],u),n}function P2(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["tuningTask","trainingData"],L2(i));const l=a(t,["config"]);return l!=null&&s(e,["config"],V2(l,e)),e}function q2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function B2(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function G2(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],B2(n,e)),e}function z2(t,e){const n={},i=a(t,["gcsUri"]);if(e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function O2(t){const e={},n=a(t,["gcsUri"]);return n!=null&&s(e,["validationDatasetUri"],n),e}function H2(t,e){const n={},i=a(t,["validationDataset"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec"],O2(i));const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&s(e,["tunedModelDisplayName"],l);const o=a(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const r=a(t,["epochCount"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],r);const u=a(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=a(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=a(t,["adapterSize"]);if(e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function F2(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],z2(i,e));const l=a(t,["config"]);return l!=null&&s(e,["config"],H2(l,e)),e}function Y2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["model"],n);const i=a(t,["name"]);return i!=null&&s(e,["endpoint"],i),e}function Wg(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],wg(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["tuningTask","startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["tuningTask","completeTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["description"]);c!=null&&s(e,["description"],c);const f=a(t,["baseModel"]);f!=null&&s(e,["baseModel"],f);const d=a(t,["_self"]);d!=null&&s(e,["tunedModel"],Y2(d));const m=a(t,["distillationSpec"]);m!=null&&s(e,["distillationSpec"],m);const h=a(t,["experiment"]);h!=null&&s(e,["experiment"],h);const p=a(t,["labels"]);p!=null&&s(e,["labels"],p);const C=a(t,["pipelineJob"]);C!=null&&s(e,["pipelineJob"],C);const _=a(t,["serviceAccount"]);_!=null&&s(e,["serviceAccount"],_);const A=a(t,["tunedModelDisplayName"]);return A!=null&&s(e,["tunedModelDisplayName"],A),e}function J2(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Wg(o))),s(e,["tuningJobs"],l)}return e}function Z2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);return o!=null&&s(e,["error"],o),e}function $2(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);l!=null&&s(e,["step"],l);const o=a(t,["endpoint"]);return o!=null&&s(e,["endpoint"],o),e}function X2(t){const e={},n=a(t,["model"]);n!=null&&s(e,["model"],n);const i=a(t,["endpoint"]);i!=null&&s(e,["endpoint"],i);const l=a(t,["checkpoints"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>$2(r))),s(e,["checkpoints"],o)}return e}function su(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],wg(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["error"]);c!=null&&s(e,["error"],c);const f=a(t,["description"]);f!=null&&s(e,["description"],f);const d=a(t,["baseModel"]);d!=null&&s(e,["baseModel"],d);const m=a(t,["tunedModel"]);m!=null&&s(e,["tunedModel"],X2(m));const h=a(t,["supervisedTuningSpec"]);h!=null&&s(e,["supervisedTuningSpec"],h);const p=a(t,["tuningDataStats"]);p!=null&&s(e,["tuningDataStats"],p);const C=a(t,["encryptionSpec"]);C!=null&&s(e,["encryptionSpec"],C);const _=a(t,["partnerModelTuningSpec"]);_!=null&&s(e,["partnerModelTuningSpec"],_);const A=a(t,["distillationSpec"]);A!=null&&s(e,["distillationSpec"],A);const v=a(t,["experiment"]);v!=null&&s(e,["experiment"],v);const y=a(t,["labels"]);y!=null&&s(e,["labels"],y);const T=a(t,["pipelineJob"]);T!=null&&s(e,["pipelineJob"],T);const S=a(t,["serviceAccount"]);S!=null&&s(e,["serviceAccount"],S);const x=a(t,["tunedModelDisplayName"]);return x!=null&&s(e,["tunedModelDisplayName"],x),e}function K2(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>su(o))),s(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q2 extends ni{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new To(Qn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Qr.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=q2(e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>su(d))}else{const f=w2(e);return u=P("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Wg(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=G2(e);return u=P("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=K2(d),h=new Xd;return Object.assign(h,m),h})}else{const f=k2(e);return u=P("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=J2(d),h=new Xd;return Object.assign(h,m),h})}}async tuneInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=F2(e);return o=P("tuningJobs",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>su(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=P2(e);return o=P("tunedModels",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Z2(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W2{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const j2=1024*1024*8,eN=3,tN=1e3,nN=2,$s="x-goog-upload-status";async function iN(t,e,n){var i,l,o;let r=0,u=0,c=new Wr(new Response),f="upload";for(r=t.size;u<r;){const m=Math.min(j2,r-u),h=t.slice(u,u+m);u+m>=r&&(f+=", finalize");let p=0,C=tN;for(;p<eN&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[$s]));)p++,await oN(C),C=C*nN;if(u+=m,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[$s])!=="active")break;if(r<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[$s])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function lN(t){return{size:t.size,type:t.type}}function oN(t){return new Promise(e=>setTimeout(e,t))}class aN{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iN(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sN{create(e,n,i){return new rN(e,n,i)}}class rN{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _m="x-goog-api-key";class uN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(_m)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_m,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cN="gl-node/";class fN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=lC(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new uN(this.apiKey);this.apiClient=new AM({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:cN+"web",uploader:new aN,downloader:new W2}),this.models=new HM(this.apiClient),this.live=new qM(this.apiClient,l,new sN),this.batches=new US(this.apiClient),this.chats=new V_(this.models,this.apiClient),this.caches=new k_(this.apiClient),this.files=new X_(this.apiClient),this.operations=new e2(this.apiClient),this.authTokens=new b2(this.apiClient),this.tunings=new Q2(this.apiClient)}}const jg="gemini-2.5-flash-preview-04-17",dN=`
{
  "salespersonEvaluation": {
    "strengths": ["สร้างความสัมพันธ์ได้ดี", "มีความกระตือรือร้นในการนำเสนอ"],
    "areasForImprovement": ["ควรนำเสนอข้อมูลทางเทคนิคให้แม่นยำขึ้น", "เทคนิคการปิดการขายยังไม่เฉียบคม"],
    "communicationStyle": "เป็นมิตรและเข้าถึงง่าย",
    "productKnowledgeScore": 7,
    "closingSkillScore": 6,
    "overallPerformanceScore": 75
  },
  "customerEvaluation": {
    "customerProfile": "ลูกค้าเก่า เคยซื้อสินค้า X เมื่อ 6 เดือนก่อน เป็นผู้ใช้จริงแต่ไม่มีอำนาจตัดสินใจ",
    "interestLevel": 8,
    "painPointsIdentified": ["สินค้าปัจจุบันทำงานช้า", "ต้องการลดต้นทุนการดำเนินงาน"],
    "decisionMakingFactors": ["ราคา", "ความง่ายในการใช้งาน", "บริการหลังการขาย"],
    "purchasingBehavior": {
      "summary": "ลูกค้าเคยซื้อสินค้า 'Product A' 1 ชิ้น และ 'Product B' 2 ชิ้น ในปีที่แล้ว รวมยอดซื้อ 15,000 บาท",
      "buyingFrequency": "ประมาณทุกๆ 6 เดือน",
      "typicalPurchaseVolume": "ซื้อครั้งละ 1-2 รายการ",
      "priceSensitivity": "ค่อนข้างอ่อนไหวต่อราคา ตอบสนองต่อโปรโมชั่นส่วนลด"
    },
    "customerSentiment": "มีความสนใจแต่กังวลเรื่องงบประมาณ"
  },
  "situationalEvaluation": {
    "callSentiment": "เชิงบวกเป็นส่วนใหญ่ มีความกังวลช่วงท้าย",
    "currentSalesStage": "การนำเสนอโซลูชัน",
    "keyTopicsDiscussed": ["ฟีเจอร์ใหม่ของ Product C", "เปรียบเทียบกับคู่แข่ง", "ราคาและโปรโมชั่น"],
    "unresolvedQuestions": ["ต้องการใบเสนอราคาอย่างเป็นทางการ", "ใครคือผู้มีอำนาจอนุมัติสุดท้าย"],
    "callOutcomeSummary": "ลูกค้าร้องขอใบเสนอราคาและจะนำไปปรึกษาทีม แม้ลูกค้าจะสนใจสินค้ามาก แต่ได้แจ้งว่าไม่มีงบประมาณสำหรับโครงการนี้ในปีนี้ ทำให้โอกาสปิดการขายทันทีต่ำมาก",
    "closingProbability": 5,
    "positiveSignals": ["ลูกค้าถามถึงขั้นตอนการสั่งซื้อ", "แสดงความสนใจในฟีเจอร์ X อย่างชัดเจน"],
    "negativeSignals": ["ลูกค้ากล่าวถึงงบประมาณที่จำกัดหลายครั้ง", "ยืนยันว่าไม่มีงบประมาณในปีนี้"]
  },
  "strategicRecommendations": {
    "nextBestAction": "ส่งอีเมลสรุปการสนทนาพร้อมใบเสนอราคา และข้อมูลสำหรับของบประมาณในปีถัดไป",
    "talkingPoints": ["เน้นย้ำเรื่องการลดต้นทุนจากการใช้ผลิตภัณฑ์ใหม่", "เสนอ case study ของลูกค้าที่คล้ายกัน"],
    "suggestedOffer": "ส่วนลดพิเศษสำหรับการสั่งซื้อล่วงหน้าสำหรับงบประมาณปีหน้า",
    "potentialUpsellOpportunities": ["เสนอแพ็กเกจบริการดูแลรักษารายปี", "ผลิตภัณฑ์เสริม Y ที่ทำงานร่วมกันได้ดี"],
    "detailedStrategy": [
      {
        "recommendation": "ส่งอีเมลสรุปและใบเสนอราคา",
        "reasoning": "เพื่อรักษาโมเมนตัมและให้ข้อมูลที่เป็นลายลักษณ์อักษรสำหรับให้ลูกค้าไปปรึกษาทีมและวางแผนงบประมาณ",
        "successProbability": 90
      },
      {
        "recommendation": "โทรติดตามผลในอีก 3 เดือนเพื่อสอบถามความคืบหน้าเรื่องงบประมาณ",
        "reasoning": "เพื่อรักษาความสัมพันธ์และแสดงความใส่ใจ เตรียมพร้อมสำหรับโอกาสในอนาคต",
        "successProbability": 60
      }
    ]
  },
  "transcribedText": [
    { "speaker": "ผู้ขาย", "utterance": "สวัสดีครับคุณลูกค้า มีอะไรให้ช่วยไหมครับ", "timestamp": "00:00:02.100" },
    { "speaker": "ลูกค้า", "utterance": "สนใจสอบถามเกี่ยวกับโปรโมชั่นล่าสุดครับ", "timestamp": "00:00:05.500" }
  ]
}`,mN=t=>t?`
ส่วนที่ 2: คำใบ้เกี่ยวกับพนักงานขาย (Salesperson Hint)
ข้อมูลระบบระบุว่าพนักงานขายในสายนี้คือ:
- ชื่อ: ${t.name}
- เบอร์โทรศัพท์: ${t.phone}

โปรดใช้ข้อมูลนี้เป็น "คำใบ้ที่สำคัญ" เพื่อช่วยในการยืนยันและระบุบทบาทของผู้พูดในการสนทนาให้ถูกต้อง
`:"",hN=t=>t&&t.trim()!==""?`
ส่วนที่ 3: ข้อมูลผลิตภัณฑ์ (Product Context)
ใช้รายการด้านล่างนี้เพื่อช่วยในการระบุชื่อผลิตภัณฑ์ที่อาจถูกกล่าวถึงในการสนทนา:
${t}
`:"",pN=t=>t&&t.trim()!=="[]"&&t.trim()!==""?`
ส่วนที่ 4: ประวัติการซื้อของลูกค้า (Customer Purchase History)
นี่คือประวัติการซื้อของลูกค้าที่อยู่ในสาย โปรดใช้ข้อมูลนี้เพื่อทำความเข้าใจความสัมพันธ์ของลูกค้ากับบริษัทและปรับการวิเคราะห์ของคุณ:
${t}
`:"",ey=(t,e,n)=>{const i=e?JSON.stringify(e,null,2):null;return`
คุณคือสุดยอดโค้ชการขายและนักวิเคราะห์ข้อมูลผู้เชี่ยวชาญ ภารกิจของคุณคือวิเคราะห์การสนทนาการขายอย่างละเอียดเพื่อเพิ่มประสิทธิภาพและโอกาสในการปิดการขาย

**ขั้นตอนการทำงาน (สำคัญมาก):**
1.  **ระบุบทบาทผู้พูด:** งานแรกและสำคัญที่สุดของคุณคือการระบุว่าใครคือ "ผู้ขาย" และใครคือ "ลูกค้า" โดยอิงตามเนื้อหาการสนทนาและคำใบ้ที่ให้มา (ถ้ามี) จากนั้น **ต้อง** แก้ไขป้ายกำกับผู้พูดในผลลัพธ์ \`transcribedText\` ให้เป็น "ผู้ขาย" หรือ "ลูกค้า" ให้ถูกต้องเสมอ
2.  **วิเคราะห์เชิงลึก:** หลังจากระบุบทบาทแล้ว ให้ทำการวิเคราะห์การสนทนาตามหัวข้อต่างๆ

คุณจะได้รับข้อมูลสูงสุด 4 ส่วนเพื่อใช้ในการวิเคราะห์:
1.  **บทสนทนา (จากข้อความหรือไฟล์เสียง):** เนื้อหาหลักของการสนทนา
${mN(n)}
${hN(t)}
${pN(i)}

วิเคราะห์ข้อมูลทั้งหมดที่ได้รับอย่างละเอียด และทำการประเมินใน 4 หัวข้อหลัก:
1.  **ประเมินพนักงานขาย (Salesperson Evaluation):** วิเคราะห์ประสิทธิภาพของพนักงานขายในด้านต่างๆ
2.  **ประเมินลูกค้า (Customer Evaluation):** ทำความเข้าใจโปรไฟล์ ความต้องการ และความรู้สึกของลูกค้า
3.  **ประเมินสถานการณ์ (Situational Evaluation):** สรุปภาพรวม, บรรยากาศ, และระบุสัญญาณเชิงบวกและลบที่สำคัญจากการสนทนา
4.  **กลยุทธ์และคำแนะนำ (Strategic Recommendations):** เสนอแนะกลยุทธ์ที่เป็นรูปธรรมและวัดผลได้เพื่อนำไปสู่ความสำเร็จ

ข้อกำหนดในการตอบ:
- **ต้องตอบเป็นภาษาไทยเท่านั้น** ในทุกๆ field ของ JSON ห้ามใช้ภาษาอังกฤษโดยเด็ดขาด
- **ระบุบทบาทให้ถูกต้อง:** ใน \`transcribedText\`, ค่า \`speaker\` ต้องเป็น "ผู้ขาย" หรือ "ลูกค้า" เท่านั้น ห้ามใช้ค่าอื่นเช่น "Speaker 1" หรือ "Speaker 2"
- **วิเคราะห์พฤติกรรมการซื้อ:** จากข้อมูลประวัติการซื้อ (ถ้ามี) ให้วิเคราะห์และสรุปพฤติกรรมการซื้อของลูกค้าใน field \`purchasingBehavior\` โดยต้องมีข้อมูล: \`summary\`, \`buyingFrequency\`, \`typicalPurchaseVolume\`, และ \`priceSensitivity\`
- **ความสอดคล้องของข้อมูล (สำคัญมาก):** ผลการวิเคราะห์ในทุกส่วนต้องมีความสมเหตุสมผลและสอดคล้องกัน ตัวอย่างเช่น หาก "ระดับความสนใจของลูกค้า" (interestLevel) สูง แต่ "โอกาสในการปิดการขาย" (closingProbability) กลับต่ำมาก (เช่น 0-10%) คุณต้องอธิบายเหตุผลที่ขัดแย้งกันนี้ให้ชัดเจนในส่วน "สรุปผลลัพธ์การโทร" (callOutcomeSummary) เช่น 'แม้ลูกค้าสนใจ แต่ยืนยันว่าไม่มีงบประมาณสำหรับปีนี้ ทำให้โอกาสปิดการขายเป็น 0%'
- **จัดรูปแบบการตอบกลับทั้งหมดให้เป็นออบเจ็กต์ JSON ที่ถูกต้องเพียงออบเจ็กต์เดียว** และครอบด้วยบล็อกโค้ด Markdown \`\`\`json ... \`\`\` เสมอ
- โครงสร้างของ JSON ต้องเป็นไปตามตัวอย่างนี้ทุกประการ (แทนที่ค่าตัวอย่างด้วยผลการวิเคราะห์ของคุณ):

${dN}
`},gN=(t,e,n,i)=>`
${ey(e,n,i)}

--- BEGIN TRANSCRIPT ---
${t}
--- END TRANSCRIPT ---
`,yN=(t,e,n)=>`
${ey(t,e,n)}

โปรดเริ่มจากการถอดเสียงไฟล์เสียงที่แนบมาเป็นภาษาไทย และใส่ผลลัพธ์ใน field "transcribedText" ของ JSON ตามโครงสร้างที่กำหนด จากนั้นจึงทำการวิเคราะห์ทั้งหมด
`,vN=t=>new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{const l=i.result.split(",")[1];if(!l){n(new Error("Failed to extract base64 data from file."));return}e(l)},i.onerror=l=>n(l)}),ty=t=>{let e=t.trim();const n=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,i=e.match(n);i&&i[2]&&(e=i[2].trim());try{const l=JSON.parse(e),{salespersonEvaluation:o,customerEvaluation:r,situationalEvaluation:u,strategicRecommendations:c}=l;return o&&(Array.isArray(o.strengths)||(o.strengths=[]),Array.isArray(o.areasForImprovement)||(o.areasForImprovement=[])),r&&(Array.isArray(r.painPointsIdentified)||(r.painPointsIdentified=[]),Array.isArray(r.decisionMakingFactors)||(r.decisionMakingFactors=[])),u&&(Array.isArray(u.keyTopicsDiscussed)||(u.keyTopicsDiscussed=[]),Array.isArray(u.unresolvedQuestions)||(u.unresolvedQuestions=[]),Array.isArray(u.positiveSignals)||(u.positiveSignals=[]),Array.isArray(u.negativeSignals)||(u.negativeSignals=[])),c&&(Array.isArray(c.talkingPoints)||(c.talkingPoints=[]),Array.isArray(c.potentialUpsellOpportunities)||(c.potentialUpsellOpportunities=[]),Array.isArray(c.detailedStrategy)||(c.detailedStrategy=[])),l.transcribedText&&!Array.isArray(l.transcribedText)&&(l.transcribedText=[]),l}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Raw response text:",t),new Error(`Failed to parse AI response. Expected JSON but received: ${e.substring(0,1e3)}...`)}},ny=()=>{const t="AIzaSyDSYxYY3gu09sc82s47lCfwqw8ZCVv67eI";return new fN({apiKey:t})},TN=async(t,e,n,i)=>{const l=ny(),o=gN(t,e,n,i);try{const r=await l.models.generateContent({model:jg,contents:o,config:{temperature:.5}});if(!r.text)throw console.error("Gemini API returned an empty text response for text transcript analysis."),new Error("Received an empty response from the AI.");return ty(r.text)}catch(r){throw console.error("Error calling Gemini API for text analysis:",r),r instanceof Error?new Error(`Gemini API error: ${r.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},CN=async(t,e,n,i)=>{const l=ny();try{const o=await vN(t),r={inlineData:{mimeType:t.type||"audio/mpeg",data:o}},u={text:yN(e,n,i)},c=await l.models.generateContent({model:jg,contents:[{parts:[r,u]}],config:{temperature:.5}});if(!c.text)throw console.error("Gemini API returned an empty text response for audio file analysis."),new Error("Received an empty response from the AI.");return ty(c.text)}catch(o){throw console.error("Error calling Gemini API for audio analysis:",o),o instanceof Error?new Error(`Gemini API error: ${o.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},SN=/^myrecordings_(\d{8})_(\d{6})_(in|out)_([^_]+)_([^_.]+)\.(WAV|MP3|M4A|OGG|FLAC)$/i,xm=t=>t.replace(/%2B/g,""),_N=t=>{const e=t.match(SN);if(!e)return null;const[,n,i,l,o,r]=e,u=n.substring(0,4),c=n.substring(4,6),f=n.substring(6,8),d=i.substring(0,2),m=i.substring(2,4),h=i.substring(4,6);return{date:`${u}-${c}-${f}`,time:`${d}:${m}:${h}`,callType:l.toLowerCase()==="out"?"โทรออก":"โทรเข้า",sourcePhone:xm(o),destinationPhone:xm(r),originalFilename:t}},xN=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.95-4.243-1.591 1.591M5.25 12H3m4.243-4.95L6 6.209M12 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0Z"})}),EN=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),AN=({theme:t,toggleTheme:e})=>g.jsx("button",{onClick:e,className:`p-2 rounded-full transition-all duration-300
                 text-slate-500 hover:text-slate-900 hover:bg-slate-200/70
                 dark:text-slate-400 dark:hover:text-slate-100 dark:hover:bg-white/10`,"aria-label":`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?g.jsx(xN,{className:"h-6 w-6"}):g.jsx(EN,{className:"h-6 w-6"})}),MN=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",...t,children:[g.jsx("path",{fill:"#4285F4",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),g.jsx("path",{fill:"#34A853",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l5.657,5.657C42.822,35.419,44,31.891,44,28C44,22.659,43.862,21.35,43.611,20.083z"}),g.jsx("path",{fill:"#FBBC05",d:"M19.913,38.221c-1.856-1.405-3.295-3.334-4.087-5.571L10.169,38.31C13.438,42.946,18.4,46,24,46c5.6,0,10.562-3.054,13.831-7.69l-5.657-5.657C30.651,34.469,27.428,36,24,36C22.618,36,21.284,35.539,20.12,34.738L19.913,38.221z"}),g.jsx("path",{fill:"#EA4335",d:"M24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C18.4,4,13.438,7.054,10.169,11.69l5.657,5.657C16.618,14.461,19.841,12,24,12z"})]}),NN=({isLoggedIn:t,userProfile:e,onLogin:n,onLogout:i,isGapiReady:l})=>t&&e?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:e.imageUrl,alt:e.name,className:"h-8 w-8 rounded-full border-2 border-slate-300 dark:border-slate-600",title:`Logged in as ${e.name} (${e.email})`}),g.jsx("button",{onClick:i,className:"text-xs text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100 transition-colors",children:"Logout"})]}):g.jsxs("button",{onClick:n,disabled:!l,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 text-sm
                       text-slate-600 bg-white/80 border border-slate-300 hover:bg-slate-200
                       dark:text-slate-300 dark:bg-white/10 dark:border-white/20 dark:hover:bg-white/20
                       disabled:opacity-50 disabled:cursor-wait`,"aria-label":"Login with Google",children:[g.jsx(MN,{className:"h-4 w-4"}),l?"Login":"Loading..."]}),RN=()=>{const[t,e]=K.useState(null),[n,i]=K.useState(!1),[l,o]=K.useState(null),[r,u]=K.useState($e.TEXT),[c,f]=K.useState(""),[d,m]=K.useState(null),[h,p]=K.useState(null),[C,_]=K.useState(null),[A,v]=K.useState(null),[y,T]=K.useState(null),[S,x]=K.useState("dark"),[b,N]=K.useState(!1),[M,D]=K.useState(null),[w,q]=K.useState(""),[ue,Ve]=K.useState(!1);K.useEffect(()=>{const I=localStorage.getItem("googleSheetId");I&&q(I)},[]),K.useEffect(()=>{w&&localStorage.setItem("googleSheetId",w)},[w]),K.useEffect(()=>{const I=()=>{Vn.client.init({apiKey:"AIzaSyATZFV65oVONu6OYBvGRMHFETe673Q2A8w",clientId:"53047523110-uglvdak33tf38glmj73egrn1g9f4c6cb.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}).then(()=>{Ve(!0);const z=Vn.auth2.getAuthInstance();if(z&&z.isSignedIn.get()){N(!0);const Fe=z.currentUser.get().getBasicProfile();D({name:Fe.getName(),email:Fe.getEmail(),imageUrl:Fe.getImageUrl()})}}).catch(z=>{console.error("Error initializing GAPI client",z),o("Could not initialize Google services. Please check your connection and API key settings."),Ve(!1)})};Vn.load("client:auth2",I)},[]);const ge=K.useCallback(async()=>{try{const I=Vn.auth2.getAuthInstance();if(I){const z=await I.signIn();N(!0);const le=z.getBasicProfile();D({name:le.getName(),email:le.getEmail(),imageUrl:le.getImageUrl()})}}catch(I){I.error!=="popup_closed_by_user"&&console.error("Error during login:",I)}},[]),se=K.useCallback(async()=>{try{const I=Vn.auth2.getAuthInstance();I&&(await I.signOut(),N(!1),D(null))}catch(I){console.error("Error during logout:",I)}},[]);K.useEffect(()=>{S==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[S]);const U=()=>{x(I=>I==="dark"?"light":"dark")},H=K.useCallback(async()=>{i(!0),o(null),e(null);try{let I=null,z=null;const le=(h==null?void 0:h.productContext)??null,Fe=(h==null?void 0:h.salespersons)??null,Lt=(h==null?void 0:h.customerHistory)??null;r===$e.AUDIO&&d&&(z=_N(d.name)),_(z);let St=null;if(z&&Fe&&Fe.length>0){const _t=z.callType==="โทรออก"?z.sourcePhone:z.destinationPhone;if(_t){const rl=Fe.find(mc=>mc.phone&&mc.phone.replace(/\D/g,"")===_t.replace(/\D/g,""));rl&&(St=rl)}}v(St);let at=null;if(z&&Lt){const _t=z.callType==="โทรออก"?z.destinationPhone:z.sourcePhone;_t&&(at=Lt.filter(rl=>rl.phone&&rl.phone.replace(/\D/g,"")===_t.replace(/\D/g,"")))}if(T(at),r===$e.TEXT){if(!c.trim()){o("Please paste a transcript."),i(!1);return}I=await TN(c,le,at,St)}else if(r===$e.AUDIO){if(!d){o("Please upload an audio file."),i(!1);return}I=await CN(d,le,at,St)}I?e(I):o("Analysis failed to produce a result. The response might be empty or in an unexpected format.")}catch(I){console.error("Analysis error:",I),I instanceof Error?o(`Analysis failed: ${I.message}`):o("An unknown error occurred during analysis.")}finally{i(!1)}},[r,c,d,h]);return K.useEffect(()=>{(r===$e.TEXT||!d)&&(_(null),v(null))},[r,d]),g.jsxs("div",{className:"min-h-screen text-slate-800 dark:text-slate-200 flex flex-col items-center p-4 selection:bg-sky-500 selection:text-white transition-colors duration-300",children:[g.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[g.jsx(NN,{isLoggedIn:b,userProfile:M,onLogin:ge,onLogout:se,isGapiReady:ue}),g.jsx(AN,{theme:S,toggleTheme:U})]}),g.jsx(iT,{}),g.jsxs("main",{className:"container mx-auto mt-4 mb-8 p-4 sm:p-6 lg:p-8 w-full max-w-5xl bg-slate-100/80 dark:bg-black/20 backdrop-blur-2xl shadow-2xl rounded-3xl border border-slate-200 dark:border-white/10 relative",children:[g.jsx(_T,{onDataContextChange:p,isLoading:n,googleSheetId:w,setGoogleSheetId:q}),g.jsx(lT,{onAnalyze:H,isLoading:n,currentInputMode:r,setCurrentInputMode:u,transcriptText:c,setTranscriptText:f,audioFile:d,setAudioFile:m,isDataConnected:!!h}),n&&g.jsx(yT,{}),l&&g.jsx(TT,{message:l}),t&&!n&&!l&&g.jsx(gT,{result:t,callMetadata:C,salespersonName:(A==null?void 0:A.name)??null,relevantHistory:y,isLoggedIn:b,googleSheetId:w})]}),g.jsxs("footer",{className:"text-center py-4 text-slate-500 dark:text-slate-400 text-sm",children:[g.jsx("p",{children:"Powered by Thanu Suriwong"}),g.jsxs("p",{children:["© ",new Date().getFullYear()," Sales Call Analyzer. All rights reserved."]})]})]})},iy=document.getElementById("root");if(!iy)throw new Error("Could not find root element to mount to");const DN=Sg.createRoot(iy);DN.render(g.jsx(xy.StrictMode,{children:g.jsx(RN,{})}));
